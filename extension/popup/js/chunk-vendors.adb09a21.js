(self["webpackChunkminiradio"]=self["webpackChunkminiradio"]||[]).push([[998],{362:e=>{!function(t,n){e.exports=n()}(self,(()=>(()=>{var e={182:function(e){"undefined"!=typeof window&&(e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=19)}([function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=i;function s(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}function o(e){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){a[t]=e[t]?e[t].bind(e):s(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=i}}else a=i}var l=i},function(e,t,n){"use strict";var r,i;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)};Number.MAX_SAFE_INTEGER},function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v}));var r,i=n(3),a=n(11),s=n(1),o=n(15),l=n(12);function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(r||(r={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},f(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new l.a,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}u(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null==e?void 0:e.method)&&e.uri&&!e.iv&&((n=o.a.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,a){void 0===a&&(a=!1);var s=this.elementaryStreams,o=s[e];o?(o.startPTS=Math.min(o.startPTS,t),o.endPTS=Math.max(o.endPTS,n),o.startDTS=Math.min(o.startDTS,r),o.endDTS=Math.max(o.endDTS,i)):s[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:a}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},f(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&s.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.a)(this.programDateTime))return null;var e=Object(i.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(h),v=function(e){function t(t,n,r,i,a){var s;(s=e.call(this,r)||this).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new l.a,s.duration=t.decimalFloatingPoint("DURATION"),s.gap=t.bool("GAP"),s.independent=t.bool("INDEPENDENT"),s.relurl=t.enumeratedString("URI"),s.fragment=n,s.index=i;var o=t.enumeratedString("BYTERANGE");return o&&s.setByteRange(o,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return u(t,e),f(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n(8),i=n(5),a=Math.pow(2,32)-1,s=[].push;function o(e){return String.fromCharCode.apply(null,e)}function l(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n}function u(e,t,n){"data"in e&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function c(e,t){var n,r,i,a=[];if(!t.length)return a;"data"in e?(n=e.data,r=e.start,i=e.end):(r=0,i=(n=e).byteLength);for(var u=r;u<i;){var d=l(n,u),f=d>1?u+d:i;if(o(n.subarray(u+4,u+8))===t[0])if(1===t.length)a.push({data:n,start:u+8,end:f});else{var h=c({data:n,start:u+8,end:f},t.slice(1));h.length&&s.apply(a,h)}u=f}return a}function d(e){var t=c(e,["moov"])[0],n=t?t.end:null,r=c(e,["sidx"]);if(!r||!r[0])return null;var i=[],a=r[0],s=a.data[0],o=0===s?8:16,u=l(a,o);o+=4,o+=0===s?8:16,o+=2;var d=a.end+0,f=function(e,t){"data"in e&&(t+=e.start,e=e.data);var n=e[t]<<8|e[t+1];return n<0?65536+n:n}(a,o);o+=2;for(var h=0;h<f;h++){var p=o,v=l(a,p);p+=4;var g=2147483647&v;if(1==(2147483648&v)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var m=l(a,p);p+=4,i.push({referenceSize:g,subsegmentDuration:m,info:{duration:m/u,start:d,end:d+g-1}}),d+=g,o=p+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:f,references:i,moovEndOffset:n}}function f(e){for(var t=[],n=c(e,["moov","trak"]),r=0;r<n.length;r++){var a=n[r],s=c(a,["tkhd"])[0];if(s){var u=s.data[s.start],d=0===u?12:20,f=l(s,d),h=c(a,["mdia","mdhd"])[0];if(h){var p=l(h,d=0===(u=h.data[h.start])?12:20),v=c(a,["mdia","hdlr"])[0];if(v){var g=o(v.data.subarray(v.start+8,v.start+12)),m={soun:i.a.AUDIO,vide:i.a.VIDEO}[g];if(m){var y=c(a,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=o(y.data.subarray(y.start+12,y.start+16))),t[f]={timescale:p,type:m},t[m]={timescale:p,id:f,codec:b}}}}}}return c(e,["moov","mvex","trex"]).forEach((function(e){var n=l(e,4),r=t[n];r&&(r.default={duration:l(e,12),flags:l(e,20)})})),t}function h(e,t){return c(t,["moof","traf"]).reduce((function(t,n){var r=c(n,["tfdt"])[0],i=r.data[r.start],a=c(n,["tfhd"]).reduce((function(t,n){var a=l(n,4),s=e[a];if(s){var o=l(r,4);1===i&&(o*=Math.pow(2,32),o+=l(r,8));var u=o/(s.timescale||9e4);if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)||0}function p(e,t){for(var n=0,r=0,a=0,s=c(e,["moof","traf"]),o=0;o<s.length;o++){var u=s[o],f=c(u,["tfhd"])[0],h=t[l(f,4)];if(h){var p=h.default,g=l(f,0)|(null==p?void 0:p.flags),m=null==p?void 0:p.duration;8&g&&(m=l(f,2&g?12:8));for(var y=h.timescale||9e4,b=c(u,["trun"]),E=0;E<b.length;E++)!(n=v(b[E]))&&m&&(n=m*l(b[E],4)),h.type===i.a.VIDEO?r+=n/y:h.type===i.a.AUDIO&&(a+=n/y)}}if(0===r&&0===a){var T=d(e);if(null!=T&&T.references)return T.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||a}function v(e){var t=l(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=l(e,4),a=0;a<i;a++)256&t&&(r+=l(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function g(e,t,n){c(t,["moof","traf"]).forEach((function(t){c(t,["tfhd"]).forEach((function(r){var i=l(r,4),s=e[i];if(s){var o=s.timescale||9e4;c(t,["tfdt"]).forEach((function(e){var t=e.data[e.start],r=l(e,4);if(0===t)u(e,4,r-n*o);else{r*=Math.pow(2,32),r+=l(e,8),r-=n*o,r=Math.max(r,0);var i=Math.floor(r/(a+1)),s=Math.floor(r%(a+1));u(e,4,i),u(e,8,s)}}))}}))}))}function m(e){var t={valid:null,remainder:null},n=c(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.a)(e,0,i.start-8),t.remainder=Object(r.a)(e,i.start-8),t}function y(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return y}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},s=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=o(e,t+6),a(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},o=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,(n|=(127&e[t+2])<<7)|127&e[t+3]},l=function(e,t){return i(e,t)&&o(e,t+6)+10<=e.length-t},u=function(e){for(var t=f(e),n=0;n<t.length;n++){var r=t[n];if(c(r))return m(r)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},d=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=o(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},f=function(e){for(var t=0,n=[];i(e,t);){for(var r=o(e,t+6),s=(t+=10)+r;t+8<s;){var l=d(e.subarray(t)),u=h(l);u&&n.push(u),t+=l.size+10}a(e,t)&&(t+=10)}return n},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?g(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},g=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data);return{key:e.type,data:i}},m=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(e,t){void 0===t&&(t=!1);var n=b();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var a,s,o,l=e.length,u="",c=0;c<l;){if(0===(a=e[c++])&&t)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=e[c++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[c++],o=e[c++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&o)<<0)}}return u};function b(){return r||void 0===self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},function(e,t,n){"use strict";function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return Te})),n.d(t,"d",(function(){return _e})),n.d(t,"a",(function(){return Le})),n.d(t,"b",(function(){return Ae}));var r=n(0),i=n(2),a=n(14),s=n(3),o=n(7),l=n(6),u=n(8),c=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(l.a)(this.cachedData,e),this.cachedData=null);var n,r,i=o.b(e,0),a=i?i.length:0,s=this._audioTrack,c=this._id3Track,f=i?o.d(i):void 0,h=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=d(f,t)),i&&i.length>0&&c.samples.push({pts:this.initPTS,dts:this.initPTS,data:i}),r=this.initPTS;a<h;){if(this.canParse(e,a)){var p=this.appendFrame(s,e,a);p?(this.frameIndex++,r=p.sample.pts,n=a+=p.length):a=h}else o.a(e,a)?(i=o.b(e,a),c.samples.push({pts:r,dts:r,data:i}),n=a+=i.length):a++;if(a===h&&n!==h){var v=Object(u.a)(e,n);this.cachedData?this.cachedData=Object(l.a)(this.cachedData,v):this.cachedData=v}}return{audioTrack:s,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:c,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,avcTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},id3Track:this._id3Track,textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},t.destroy=function(){},e}(),d=function(e,t){return Object(s.a)(e)?90*e:9e4*t},f=c,h=n(1);function p(e,t){return 255===e[t]&&240==(246&e[t+1])}function v(e,t){return 1&e[t+1]?7:9}function g(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function m(e,t){return t+1<e.length&&p(e,t)}function y(e,t){if(m(e,t)){var n=v(e,t);if(t+n>=e.length)return!1;var r=g(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||m(e,i)}return!1}function b(e,t,n,a,s){if(!e.samplerate){var o=function(e,t,n,a){var s,o,l,u,c=navigator.userAgent.toLowerCase(),d=a,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var p=(60&t[n+2])>>>2;if(!(p>f.length-1))return l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,h.b.log("manifest codec:"+a+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(c)?p>=6?(s=5,u=new Array(4),o=p-3):(s=2,u=new Array(2),o=p):-1!==c.indexOf("android")?(s=2,u=new Array(2),o=p):(s=5,u=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&p>=6?o=p-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(p>=6&&1===l||/vivaldi/i.test(c))||!a&&1===l)&&(s=2,u=new Array(2)),o=p)),u[0]=s<<3,u[0]|=(14&p)>>1,u[1]|=(1&p)<<7,u[1]|=l<<3,5===s&&(u[1]|=(14&o)>>1,u[2]=(1&o)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:f[p],channelCount:l,codec:"mp4a.40."+s,manifestCodec:d};e.trigger(r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}(t,n,a,s);if(!o)return;e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,h.b.log("parsed codec:"+e.codec+", rate:"+o.samplerate+", channels:"+o.channelCount)}}function E(e){return 9216e4/e}function T(e,t,n,r,i){var a=function(e,t,n,r,i){var a=v(e,t),s=g(e,t);if((s-=a)>0)return{headerLength:a,frameLength:s,stamp:n+r*i}}(t,n,r,i,E(e.samplerate));if(a){var s,o=a.frameLength,l=a.headerLength,u=a.stamp,c=l+o,d=Math.max(0,n+c-t.length);d?(s=new Uint8Array(c-l)).set(t.subarray(n+l,t.length),0):s=t.subarray(n+l,n+c);var f={unit:s,pts:u};return d||e.samples.push(f),{sample:f,length:c,missing:d}}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n);var i=r.prototype;return i.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!0,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(o.b(e,0)||[]).length,n=e.length;t<n;t++)if(y(e,t))return h.b.log("ADTS sync word found !"),!0;return!1},i.canParse=function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&p(e,t)&&g(e,t)<=e.length-t}(e,t)},i.appendFrame=function(e,t,n){b(e,this.observer,t,n,e.manifestCodec);var r=T(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(f);_.minProbeByteLength=9;var L=_,A=function(){function e(e,t){this.remainderData=null,this.config=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.resetContiguity=function(){},e.probe=function(e){return Object(l.b)({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.demux=function(e){var t=e,n={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};if(this.config.progressive){this.remainderData&&(t=Object(l.a)(this.remainderData,e));var r=Object(l.h)(t);this.remainderData=r.remainder,n.samples=r.valid||new Uint8Array}else n.samples=t;return{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:n,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},t.flush=function(){var e={type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0};return e.samples=this.remainderData||new Uint8Array,this.remainderData=null,{audioTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},avcTrack:e,id3Track:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0},textTrack:{type:"",id:-1,pid:-1,inputTimeScale:9e4,sequenceNumber:-1,samples:[],dropped:0}}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();A.minProbeByteLength=1024;var R=A,C=null,x=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],k=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],D=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],w=[0,1,1,4];function O(e,t,n,r,i){if(!(n+24>t.length)){var a=I(t,n);if(a&&n+a.frameLength<=t.length){var s=r+i*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:t.subarray(n,n+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function I(e,t){var n=e[t+1]>>3&3,r=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var s=e[t+2]>>1&1,o=e[t+3]>>6,l=1e3*x[14*(3===n?3-r:3===r?3:4)+i-1],u=k[3*(3===n?0:2===n?1:2)+a],c=3===o?1:2,d=D[n][r],f=w[r],h=8*d*f,p=Math.floor(d*l/u+s)*f;if(null===C){var v=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);C=v?parseInt(v[1]):0}return!!C&&C<=87&&2===r&&l>=224e3&&0===o&&(e[t+3]=128|e[t+3]),{sampleRate:u,channelCount:c,frameLength:p,samplesPerFrame:h}}}function P(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function F(e,t){return t+1<e.length&&P(e,t)}function M(e,t){if(t+1<e.length&&P(e,t)){var n=I(e,t),r=4;null!=n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||F(e,i)}return!1}var N=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&h.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),c=this.readBoolean.bind(this),d=this.skipBits.bind(this),f=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);o();var v=o();if(l(5),d(3),o(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=u();if(3===g&&d(1),h(),h(),d(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}h();var m=u();if(0===m)u();else if(1===m)for(d(1),f(),f(),e=u(),n=0;n<e;n++)f();h(),d(1);var y=u(),b=u(),E=l(1);0===E&&d(1),d(1),c()&&(r=u(),i=u(),a=u(),s=u());var T=[1,1];if(c()&&c())switch(o()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-E)*(b+1)*16-(E?2:4)*(a+s),pixelRatio:T}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),B=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new a.a(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit,a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),o=this;this.decryptBuffer(s,(function(a){var s=new Uint8Array(a);i.set(s,16),r||o.decryptAacSamples(e,t+1,n)}))},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,i,a){var s=$(i.data),o=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(o.buffer,(function(o){i.data=l.getAvcDecryptedUnit(s,o),a||l.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var a=i[n];if(!(a.data.length<=48||1!==a.type&&5!==a.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,a,s),!s)return}}}},e}(),U={video:1,audio:2,id3:3,text:4},j=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this.aacLastPTS=null,this._initPTS=null,this._initDTS=null,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0||(n&&h.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:U[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this._audioTrack.isAAC=!0,this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=t,this.videoCodec=n,this._duration=r},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.aacLastPTS=null},t.demux=function(t,n,a,s){var o;void 0===a&&(a=!1),void 0===s&&(s=!1),a||(this.sampleAes=null);var u=this._avcTrack,c=this._audioTrack,d=this._id3Track,f=u.pid,p=u.pesData,v=c.pid,g=d.pid,m=c.pesData,y=d.pesData,b=!1,E=this.pmtParsed,T=this._pmtId,S=t.length;if(this.remainderData&&(S=(t=Object(l.a)(this.remainderData,t)).length,this.remainderData=null),S<188&&!s)return this.remainderData=t,{audioTrack:c,avcTrack:u,id3Track:d,textTrack:this._txtTrack};var _=Math.max(0,e.syncOffset(t));(S-=(S+_)%188)<t.byteLength&&!s&&(this.remainderData=new Uint8Array(t.buffer,S,t.buffer.byteLength-S));for(var L=0,A=_;A<S;A+=188)if(71===t[A]){var R=!!(64&t[A+1]),C=((31&t[A+1])<<8)+t[A+2],x=void 0;if((48&t[A+3])>>4>1){if((x=A+5+t[A+4])===A+188)continue}else x=A+4;switch(C){case f:R&&(p&&(o=K(p))&&this.parseAVCPES(o,!1),p={data:[],size:0}),p&&(p.data.push(t.subarray(x,A+188)),p.size+=A+188-x);break;case v:R&&(m&&(o=K(m))&&(c.isAAC?this.parseAACPES(o):this.parseMPEGPES(o)),m={data:[],size:0}),m&&(m.data.push(t.subarray(x,A+188)),m.size+=A+188-x);break;case g:R&&(y&&(o=K(y))&&this.parseID3PES(o),y={data:[],size:0}),y&&(y.data.push(t.subarray(x,A+188)),y.size+=A+188-x);break;case 0:R&&(x+=t[x]+1),T=this._pmtId=V(t,x);break;case T:R&&(x+=t[x]+1);var k=H(t,x,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,a);(f=k.avc)>0&&(u.pid=f),(v=k.audio)>0&&(c.pid=v,c.isAAC=k.isAAC),(g=k.id3)>0&&(d.pid=g),b&&!E&&(h.b.log("reparse from beginning"),b=!1,A=_-188),E=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else L++;L>0&&this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+L+" TS packet/s that do not start with 0x47"}),u.pesData=p,c.pesData=m,d.pesData=y;var D={audioTrack:c,avcTrack:u,id3Track:d,textTrack:this._txtTrack};return s&&this.extractRemainingSamples(D),D},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{audioTrack:this._audioTrack,avcTrack:this._avcTrack,textTrack:this._txtTrack,id3Track:this._id3Track},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.avcTrack,i=e.id3Track,a=r.pesData,s=n.pesData,o=i.pesData;a&&(t=K(a))?(this.parseAVCPES(t,!0),r.pesData=null):r.pesData=a,s&&(t=K(s))?(n.isAAC?this.parseAACPES(t):this.parseMPEGPES(t),n.pesData=null):(null!=s&&s.size&&h.b.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s),o&&(t=K(o))?(this.parseID3PES(t),i.pesData=null):i.pesData=o},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new B(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.avcTrack;r.samples&&r.isAAC?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._initPTS=this._initDTS=null,this._duration=0},t.parseAVCPES=function(e,t){var n,r=this,i=this._avcTrack,a=this.parseAVCNALu(e.data),s=this.avcSample,l=!1;e.data=null,s&&a.length&&!i.audFound&&(W(s,i),s=this.avcSample=G(!1,e.pts,e.dts,"")),a.forEach((function(t){switch(t.type){case 1:n=!0,s||(s=r.avcSample=G(!0,e.pts,e.dts,"")),s.frame=!0;var a=t.data;if(l&&a.length>4){var u=new N(a).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(s.key=!0)}break;case 5:n=!0,s||(s=r.avcSample=G(!0,e.pts,e.dts,"")),s.key=!0,s.frame=!0;break;case 6:n=!0;var c=new N($(t.data));c.readUByte();for(var d=0,f=0,h=!1,p=0;!h&&c.bytesAvailable>1;){d=0;do{d+=p=c.readUByte()}while(255===p);f=0;do{f+=p=c.readUByte()}while(255===p);if(4===d&&0!==c.bytesAvailable){if(h=!0,181===c.readUByte()&&49===c.readUShort()&&1195456820===c.readUInt()&&3===c.readUByte()){for(var v=c.readUByte(),g=31&v,m=[v,c.readUByte()],y=0;y<g;y++)m.push(c.readUByte()),m.push(c.readUByte()),m.push(c.readUByte());Y(r._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}else if(5===d&&0!==c.bytesAvailable){if(h=!0,f>16){for(var b=[],E=0;E<16;E++)b.push(c.readUByte().toString(16)),3!==E&&5!==E&&7!==E&&9!==E||b.push("-");for(var T=f-16,S=new Uint8Array(T),_=0;_<T;_++)S[_]=c.readUByte();Y(r._txtTrack.samples,{pts:e.pts,payloadType:d,uuid:b.join(""),userData:Object(o.f)(S),userDataBytes:S})}}else if(f<c.bytesAvailable)for(var L=0;L<f;L++)c.readUByte()}break;case 7:if(n=!0,l=!0,!i.sps){var A=new N(t.data).readSPS();i.width=A.width,i.height=A.height,i.pixelRatio=A.pixelRatio,i.sps=[t.data],i.duration=r._duration;for(var R=t.data.subarray(1,4),C="avc1.",x=0;x<3;x++){var k=R[x].toString(16);k.length<2&&(k="0"+k),C+=k}i.codec=C}break;case 8:n=!0,i.pps||(i.pps=[t.data]);break;case 9:n=!1,i.audFound=!0,s&&W(s,i),s=r.avcSample=G(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,s&&(s.debug+="unknown NAL "+t.type+" ")}s&&n&&s.units.push(t)})),t&&s&&(W(s,i),this.avcSample=null)},t.getLastNalUnit=function(){var e,t,n=this.avcSample;if(!n||0===n.units.length){var r=this._avcTrack.samples;n=r[r.length-1]}if(null!==(e=n)&&void 0!==e&&e.units){var i=n.units;t=i[i.length-1]}return t},t.parseAVCNALu=function(e){var t,n,r=e.byteLength,i=this._avcTrack,a=i.naluState||0,s=a,o=[],l=0,u=-1,c=0;for(-1===a&&(u=0,c=31&e[0],a=0,l=1);l<r;)if(t=e[l++],a)if(1!==a)if(t)if(1===t){if(u>=0){var d={data:e.subarray(u,l-a-1),type:c};o.push(d)}else{var f=this.getLastNalUnit();if(f&&(s&&l<=4-s&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-s)),(n=l-a-1)>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(e.subarray(0,n),f.data.byteLength),f.data=h,f.state=0}}l<r?(u=l,c=31&e[l],a=0):a=-1}else a=0;else a=3;else a=t?0:2;else a=t?0:1;if(u>=0&&a>=0){var p={data:e.subarray(u,r),type:c,state:a};o.push(p)}if(0===o.length){var v=this.getLastNalUnit();if(v){var g=new Uint8Array(v.data.byteLength+e.byteLength);g.set(v.data,0),g.set(e,v.data.byteLength),v.data=g}}return i.naluState=a,o},t.parseAACPES=function(e){var t,n,a,s,o,l=0,u=this._audioTrack,c=this.aacOverFlow,d=e.data;if(c){this.aacOverFlow=null;var f=c.sample.unit.byteLength,p=Math.min(c.missing,f),v=f-p;c.sample.unit.set(d.subarray(0,p),v),u.samples.push(c.sample),l=c.missing}for(t=l,n=d.length;t<n-1&&!m(d,t);t++);if(t===l||(t<n-1?(a="AAC PES did not start with ADTS header,offset:"+t,s=!1):(a="no ADTS header found in AAC PES",s=!0),h.b.warn("parsing error:"+a),this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:s,reason:a}),!s)){if(b(u,this.observer,d,t,this.audioCodec),void 0!==e.pts)o=e.pts;else{if(!c)return void h.b.warn("[tsdemuxer]: AAC PES unknown PTS");var g=E(u.samplerate);o=c.sample.pts+g}for(var y=0;t<n;){if(m(d,t)){if(t+5<n){var S=T(u,d,t,o,y);if(S){if(!S.missing){t+=S.length,y++;continue}this.aacOverFlow=S}}break}t++}}},t.parseMPEGPES=function(e){var t=e.data,n=t.length,r=0,i=0,a=e.pts;if(void 0!==a)for(;i<n;)if(F(t,i)){var s=O(this._audioTrack,t,i,a,r);if(!s)break;i+=s.length,r++}else i++;else h.b.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e){void 0!==e.pts?this._id3Track.samples.push(e):h.b.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function G(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function V(e,t){return(31&e[t+10])<<8|e[t+11]}function H(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,isAAC:!0},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var s=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){h.b.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=s);break;case 21:-1===i.id3&&(i.id3=s);break;case 219:if(!r){h.b.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=s);break;case 3:case 4:n?-1===i.audio&&(i.audio=s,i.isAAC=!1):h.b.log("MPEG audio found, not supported in this browser");break;case 36:h.b.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function K(e){var t,n,r,i,a,s=0,o=e.data;if(!e||0===e.size)return null;for(;o[0].length<19&&o.length>1;){var l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(1===((t=o[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var u=t[7];192&u&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&u?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(h.b.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var c=(r=t[8])+9;if(e.size<=c)return null;e.size-=c;for(var d=new Uint8Array(e.size),f=0,p=o.length;f<p;f++){var v=(t=o[f]).byteLength;if(c){if(c>v){c-=v;continue}t=t.subarray(c),v-=c,c=0}d.set(t,s),s+=v}return n&&(n-=r+3),{data:d,pts:i,dts:a,len:n}}return null}function W(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&h.b.log(e.pts+"/"+e.dts+":"+e.debug)}function Y(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var r=n-1;r>=0;r--)if(t.pts<e[r].pts){e.splice(r,0,t);break}}else e.push(t)}function $(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,a=new Uint8Array(i),s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),a[r]=e[s];return a}j.minProbeByteLength=188;var z=j;function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,q(t,n);var i=r.prototype;return i.resetInitSegment=function(t,n,r){e.prototype.resetInitSegment.call(this,t,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,isAAC:!1,samples:[],manifestCodec:t,duration:r,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(o.b(e,0)||[]).length,n=e.length;t<n;t++)if(M(e,t))return h.b.log("MPEG Audio sync word found !"),!0;return!1},i.canParse=function(e,t){return function(e,t){return P(e,t)&&4<=e.length-t}(e,t)},i.appendFrame=function(e,t,n){if(null!==this.initPTS)return O(e,t,n,this.initPTS,this.frameIndex)},r}(f);X.minProbeByteLength=4;var Q=X,Z=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}(),J=Math.pow(2,32)-1,ee=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=r.length,s=a;a--;)t+=r[a].byteLength;var o=new Uint8Array(t);for(o[0]=t>>24&255,o[1]=t>>16&255,o[2]=t>>8&255,o[3]=255&t,o.set(e,4),a=0,t=8;a<s;a++)o.set(r[a],t),t+=r[a].byteLength;return o},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var r=Math.floor(n/(J+1)),i=Math.floor(n%(J+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var r=Math.floor(n/(J+1)),i=Math.floor(n%(J+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,i=t.samples||[],a=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,a[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,a=[],s=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,s.push(i>>>8&255),s.push(255&i),s=s.concat(Array.prototype.slice.call(r));var o=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(s))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(r/(J+1)),o=Math.floor(r%(J+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var r=e.sdtp(t),i=t.id,a=Math.floor(n/(J+1)),s=Math.floor(n%(J+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,r.length+16+20+8+16+8+8),r)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,a,s,o,l,u=t.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(n+=8+d,f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)a=(i=u[r]).duration,s=i.size,o=i.flags,l=i.cts,f.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();ee.types=void 0,ee.HDLR_TYPES=void 0,ee.STTS=void 0,ee.STSC=void 0,ee.STCO=void 0,ee.STSZ=void 0,ee.VMHD=void 0,ee.SMHD=void 0,ee.STSD=void 0,ee.FTYP=void 0,ee.DINF=void 0;var te=ee,ne=n(4);function re(e,t){return void 0===t&&(t=!1),function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}(e,1e3,1/9e4,t)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ae=null,se=null,oe=!1,le=function(){function e(e,t,n,r){if(void 0===r&&(r=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===ae){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ae=i?parseInt(i[1]):0}if(null===se){var a=navigator.userAgent.match(/Safari\/(\d+)/i);se=a?parseInt(a[1]):0}oe=!!ae&&ae<75||!!se&&se<600}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){h.b.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){h.b.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){h.b.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,ue(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&h.b.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,a,s,o){var l,u,c,d,f,p,v=i,g=i,m=e.pid>-1,y=t.pid>-1,b=t.samples.length,E=e.samples.length>0,T=b>1;if((!m||E)&&(!y||T)||this.ISGenerated||s){this.ISGenerated||(c=this.generateIS(e,t,i));var S=this.isVideoContiguous,_=-1;if(T&&(_=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,_>0){h.b.warn("[mp4-remuxer]: Dropped "+_+" out of "+b+" video samples due to a missing keyframe");var L=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(_),t.dropped+=_,g+=(t.samples[0].pts-L)/(t.timescale||9e4)}else-1===_&&(h.b.warn("[mp4-remuxer]: No keyframe found out of "+b+" video samples"),p=!1);if(this.ISGenerated){if(E&&T){var A=this.getVideoStartPts(t.samples),R=(ue(e.samples[0].pts,A)-A)/t.inputTimeScale;v+=Math.max(0,R),g+=Math.max(0,-R)}if(E){if(e.samplerate||(h.b.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),c=this.generateIS(e,t,i)),u=this.remuxAudio(e,v,this.isAudioContiguous,a,y||T||o===ne.b.AUDIO?g:void 0),T){var C=u?u.endPTS-u.startPTS:0;t.inputTimeScale||(h.b.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),c=this.generateIS(e,t,i)),l=this.remuxVideo(t,g,S,C)}}else T&&(l=this.remuxVideo(t,g,S,0));l&&(l.firstKeyFrame=_,l.independent=-1!==_)}}return this.ISGenerated&&(n.samples.length&&(f=this.remuxID3(n,i)),r.samples.length&&(d=this.remuxText(r,i))),{audio:u,video:l,initSegment:c,independent:p,text:d,id3:f}},t.generateIS=function(e,t,n){var r,i,a,o=e.samples,l=t.samples,u=this.typeSupported,c={},d=!Object(s.a)(this._initPTS),f="audio/mp4";if(d&&(r=i=1/0),e.config&&o.length&&(e.timescale=e.samplerate,e.isAAC||(u.mpeg?(f="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3")),c.audio={id:"audio",container:f,codec:e.codec,initSegment:!e.isAAC&&u.mpeg?new Uint8Array(0):te.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(a=e.inputTimeScale,r=i=o[0].pts-Math.round(a*n))),t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:te.initSegment([t]),metadata:{width:t.width,height:t.height}},d)){a=t.inputTimeScale;var h=this.getVideoStartPts(l),p=Math.round(a*n);i=Math.min(i,ue(l[0].dts,h)-p),r=Math.min(r,h-p)}if(Object.keys(c).length)return this.ISGenerated=!0,d&&(this._initPTS=r,this._initDTS=i),{tracks:c,initPTS:r,timescale:a}},t.remuxVideo=function(e,t,n,a){var s,o,l,u=e.inputTimeScale,c=e.samples,d=[],f=c.length,p=this._initPTS,v=this.nextAvcDts,g=8,m=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,b=0,E=!1;n&&null!==v||(v=t*u-(c[0].pts-ue(c[0].dts,c[0].pts)));for(var T=0;T<f;T++){var S=c[T];S.pts=ue(S.pts-p,v),S.dts=ue(S.dts-p,v),S.dts>S.pts&&(b=Math.max(Math.min(b,S.pts-S.dts),-18e3)),S.dts<c[T>0?T-1:T].dts&&(E=!0)}E&&c.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),o=c[0].dts,l=c[c.length-1].dts;var _=Math.round((l-o)/(f-1));if(b<0){if(b<-2*_){h.b.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+re(-_,!0)+" ms");for(var L=b,A=0;A<f;A++)c[A].dts=L=Math.max(L,c[A].pts-_),c[A].pts=Math.max(L,c[A].pts)}else{h.b.warn("PTS < DTS detected in video samples, shifting DTS by "+re(b,!0)+" ms to overcome this issue");for(var R=0;R<f;R++)c[R].dts=c[R].dts+b}o=c[0].dts}if(n){var C=o-v,x=C>_;if(x||C<-1){x?h.b.warn("AVC: "+re(C,!0)+" ms ("+C+"dts) hole between fragments detected, filling it"):h.b.warn("AVC: "+re(-C,!0)+" ms ("+C+"dts) overlapping between fragments detected"),o=v;var k=c[0].pts-C;c[0].dts=o,c[0].pts=k,h.b.log("Video: First PTS/DTS adjusted: "+re(k,!0)+"/"+re(o,!0)+", delta: "+re(C,!0)+" ms")}}oe&&(o=Math.max(0,o));for(var D=0,w=0,O=0;O<f;O++){for(var I=c[O],P=I.units,F=P.length,M=0,N=0;N<F;N++)M+=P[N].data.length;w+=M,D+=F,I.length=M,I.dts=Math.max(I.dts,o),I.pts=Math.max(I.pts,I.dts,0),m=Math.min(I.pts,m),y=Math.max(I.pts,y)}l=c[f-1].dts;var B,U=w+4*D+8;try{B=new Uint8Array(U)}catch(e){return void this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating video mdat "+U})}var j=new DataView(B.buffer);j.setUint32(0,U),B.set(te.types.mdat,4);for(var G=0;G<f;G++){for(var V=c[G],H=V.units,K=0,W=0,Y=H.length;W<Y;W++){var $=H[W],z=$.data,q=$.data.byteLength;j.setUint32(g,q),g+=4,B.set(z,g),g+=q,K+=4+q}if(G<f-1)s=c[G+1].dts-V.dts;else{var X=this.config,Q=V.dts-c[G>0?G-1:G].dts;if(X.stretchShortVideoTrack&&null!==this.nextAudioPts){var Z=Math.floor(X.maxBufferHole*u),J=(a?m+a*u:this.nextAudioPts)-V.pts;J>Z?((s=J-Q)<0&&(s=Q),h.b.log("[mp4-remuxer]: It is approximately "+J/90+" ms to the next segment; using duration "+s/90+" ms for the last video frame.")):s=Q}else s=Q}var ee=Math.round(V.pts-V.dts);d.push(new ce(V.key,s,K,ee))}if(d.length&&ae&&ae<70){var ne=d[0].flags;ne.dependsOn=2,ne.isNonSync=0}this.nextAvcDts=v=l+s,this.isVideoContiguous=!0;var se={data1:te.moof(e.sequenceNumber++,o,ie({},e,{samples:d})),data2:B,startPTS:m/u,endPTS:(y+s)/u,startDTS:o/u,endDTS:v/u,type:"video",hasAudio:!1,hasVideo:!0,nb:d.length,dropped:e.dropped};return e.samples=[],e.dropped=0,se},t.remuxAudio=function(e,t,n,a,s){var o=e.inputTimeScale,l=o/(e.samplerate?e.samplerate:o),u=e.isAAC?1024:1152,c=u*l,d=this._initPTS,f=!e.isAAC&&this.typeSupported.mpeg,p=[],v=e.samples,g=f?0:8,m=this.nextAudioPts||-1,y=t*o;if(this.isAudioContiguous=n=n||v.length&&m>0&&(a&&Math.abs(y-m)<9e3||Math.abs(ue(v[0].pts-d,y)-m)<20*c),v.forEach((function(e){e.pts=ue(e.pts-d,y)})),!n||m<0){if(!(v=v.filter((function(e){return e.pts>=0}))).length)return;m=0===s?0:a?Math.max(0,y):v[0].pts}if(e.isAAC)for(var b=void 0!==s,E=this.config.maxAudioFramesDrift,T=0,S=m;T<v.length;T++){var _=v[T],L=_.pts,A=L-S,R=Math.abs(1e3*A/o);if(A<=-E*c&&b)0===T&&(h.b.warn("Audio frame @ "+(L/o).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*A/o)+" ms."),this.nextAudioPts=m=S=L);else if(A>=E*c&&R<1e4&&b){var C=Math.round(A/c);(S=L-C*c)<0&&(C--,S+=c),0===T&&(this.nextAudioPts=m=S),h.b.warn("[mp4-remuxer]: Injecting "+C+" audio frame @ "+(S/o).toFixed(3)+"s due to "+Math.round(1e3*A/o)+" ms gap.");for(var x=0;x<C;x++){var k=Math.max(S,0),D=Z.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);D||(h.b.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),D=_.unit.subarray()),v.splice(T,0,{unit:D,pts:k}),S+=c,T++}}_.pts=S,S+=c}for(var w,O=null,I=null,P=0,F=v.length;F--;)P+=v[F].unit.byteLength;for(var M=0,N=v.length;M<N;M++){var B=v[M],U=B.unit,j=B.pts;if(null!==I)p[M-1].duration=Math.round((j-I)/l);else{if(n&&e.isAAC&&(j=m),O=j,!(P>0))return;P+=g;try{w=new Uint8Array(P)}catch(e){return void this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:P,reason:"fail allocating audio mdat "+P})}f||(new DataView(w.buffer).setUint32(0,P),w.set(te.types.mdat,4))}w.set(U,g);var G=U.byteLength;g+=G,p.push(new ce(!0,u,G,0)),I=j}var V=p.length;if(V){var H=p[p.length-1];this.nextAudioPts=m=I+l*H.duration;var K=f?new Uint8Array(0):te.moof(e.sequenceNumber++,O/l,ie({},e,{samples:p}));e.samples=[];var W=O/o,Y=m/o,$={data1:K,data2:w,startPTS:W,endPTS:Y,startDTS:W,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.isAudioContiguous=!0,$}},t.remuxEmptyAudio=function(e,t,n,r){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,o=(null!==s?s:r.startDTS*i)+this._initDTS,l=r.endDTS*i+this._initDTS,u=1024*a,c=Math.ceil((l-o)/u),d=Z.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(h.b.warn("[mp4-remuxer]: remux empty Audio"),d){for(var f=[],p=0;p<c;p++){var v=o+p*u;f.push({unit:d,pts:v,dts:v})}return e.samples=f,this.remuxAudio(e,t,n,!1)}h.b.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},t.remuxID3=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=this._initDTS,s=0;s<n;s++){var o=e.samples[s];o.pts=ue(o.pts-i,t*r)/r,o.dts=ue(o.dts-a,t*r)/r}var l=e.samples;return e.samples=[],{samples:l}}},t.remuxText=function(e,t){var n=e.samples.length;if(n){for(var r=e.inputTimeScale,i=this._initPTS,a=0;a<n;a++){var s=e.samples[a];s.pts=ue(s.pts-i,t*r)/r}e.samples.sort((function(e,t){return e.pts-t.pts}));var o=e.samples;return e.samples=[],{samples:o}}},e}();function ue(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}var ce=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new de(e)},de=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1},fe=n(5),he=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(l.f)(e);t||(t=ve(r.audio,fe.a.AUDIO)),n||(n=ve(r.video,fe.a.VIDEO));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:h.b.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,n,r,i){var a=this.initPTS,o=this.lastEndDTS,u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};Object(s.a)(o)||(o=this.lastEndDTS=i||0);var c=t.samples;if(!c||!c.length)return u;var d={initPTS:void 0,timescale:1},f=this.initData;if(f&&f.length||(this.generateInitSegment(c),f=this.initData),!f||!f.length)return h.b.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(d.tracks=this.initTracks,this.emitInitSegment=!1),Object(s.a)(a)||(this.initPTS=d.initPTS=a=pe(f,c,o));var p=Object(l.c)(c,f),v=o,g=p+v;Object(l.e)(f,c,a),p>0?this.lastEndDTS=g:(h.b.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var m=!!f.audio,y=!!f.video,b="";m&&(b+="audio"),y&&(b+="video");var E={data1:c,startPTS:v,startDTS:v,endPTS:g,endDTS:g,type:b,hasAudio:m,hasVideo:y,nb:1,dropped:0};return u.audio="audio"===E.type?E:void 0,u.video="audio"!==E.type?E:void 0,u.text=r,u.id3=n,u.initSegment=d,u},e}(),pe=function(e,t,n){return Object(l.d)(e,t)-n};function ve(e,t){var n=null==e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===fe.a.VIDEO?"avc1.42e01e":"mp4a.40.5"}var ge,me=he,ye=n(16);try{ge=self.performance.now.bind(self.performance)}catch(e){h.b.debug("Unable to use Performance API on this environment"),ge=self.Date.now}var be=[{demux:z,remux:le},{demux:R,remux:me},{demux:L,remux:le},{demux:Q,remux:le}],Ee=1024;be.forEach((function(e){var t=e.demux;Ee=Math.max(Ee,t.minProbeByteLength)}));var Te=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new ye.a,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,r){var i=this,a=n.transmuxing;a.executeStart=ge();var s=new Uint8Array(e),o=this.cache,u=this.config,c=this.currentTransmuxState,d=this.transmuxConfig;r&&(this.currentTransmuxState=r);var f=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(f&&"AES-128"===f.method){var h=this.getDecrypter();if(!u.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,f.key.buffer,f.iv.buffer).then((function(e){var t=i.push(e,null,n);return i.decryptionPromise=null,t})),this.decryptionPromise;var p=h.softwareDecrypt(s,f.key.buffer,f.iv.buffer);if(!p)return a.executeEnd=ge(),Se(n);s=new Uint8Array(p)}var v=r||c,g=v.contiguous,m=v.discontinuity,y=v.trackSwitch,b=v.accurateTimeOffset,E=v.timeOffset,T=v.initSegmentChange,S=d.audioCodec,_=d.videoCodec,L=d.defaultInitPts,A=d.duration,R=d.initSegmentData;if((m||y||T)&&this.resetInitSegment(R,S,_,A),(m||T)&&this.resetInitialTimestamp(L),g||this.resetContiguity(),this.needsProbing(s,m,y)){if(o.dataLength){var C=o.flush();s=Object(l.a)(C,s)}this.configureTransmuxer(s,d)}var x=this.transmux(s,f,E,b,n),k=this.currentTransmuxState;return k.contiguous=!0,k.discontinuity=!1,k.trackSwitch=!1,a.executeEnd=ge(),x},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=ge();var a=this.decrypter,s=this.cache,o=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var u=[],c=o.timeOffset;if(a){var d=a.flush();d&&u.push(this.push(d,null,e))}var f=s.dataLength;s.reset();var h=this.demuxer,p=this.remuxer;if(!h||!p)return f>=Ee&&this.observer.emit(r.a.ERROR,r.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=ge(),[Se(e)];var v=h.flush(c);return _e(v)?v.then((function(n){return t.flushRemux(u,n,e),u})):(this.flushRemux(u,v,e),u)},t.flushRemux=function(e,t,n){var r=t.audioTrack,i=t.avcTrack,a=t.id3Track,s=t.textTrack,o=this.currentTransmuxState,l=o.accurateTimeOffset,u=o.timeOffset;h.b.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var c=this.remuxer.remux(r,i,a,s,u,l,!0,this.id);e.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=ge()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,a=this.remuxer;i&&a&&(i.resetInitSegment(t,n,r),a.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,s=i.avcTrack,o=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var a=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.avcTrack,e.id3Track,e.textTrack,n,r,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,a=this.typeSupported,s=this.vendor,o=t.audioCodec,l=t.defaultInitPts,u=t.duration,c=t.initSegmentData,d=t.videoCodec,f=0,p=be.length;f<p;f++)if(be[f].demux.probe(e)){n=be[f];break}n||(h.b.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:R,remux:me});var v=this.demuxer,g=this.remuxer,m=n.remux,y=n.demux;g&&g instanceof m||(this.remuxer=new m(i,r,a,s)),v&&v instanceof y||(this.demuxer=new y(i,r,a),this.probe=y.probe),this.resetInitSegment(c,o,d,u),this.resetInitialTimestamp(l)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new a.a(this.observer,this.config)),e},e}(),Se=function(e){return{remuxResult:{},chunkMeta:e}};function _e(e){return"then"in e&&e.then instanceof Function}var Le=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},Ae=function(e,t,n,r,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=a}},function(e,t){e.exports=void 0},function(e,t,n){var r,i,a,s,o;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,i=/^([^\/?#]*)([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(a,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new s(n,r||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function u(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,s=new Array(a);r<a;r++)s[r]=n[r].fn;return s},u.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,a,s){var o=i?i+e:e;if(!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,a),!0;case 6:return c.fn.call(c.context,t,n,r,a,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||l(this,a);else{for(var o=0,u=[],c=s.length;o<c;o++)(s[o].fn!==t||r&&!s[o].once||n&&s[o].context!==n)&&u.push(s[o]);u.length?this._events[a]=1===u.length?u[0]:u:l(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),i=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),a=n(8),s=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],a=n[2],s=n[3],o=this.invSubMix,l=o[0],u=o[1],c=o[2],d=o[3],f=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)f[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=f[h],y=f[m],b=f[y],E=257*f[g]^16843008*g;r[h]=E<<24|E>>>8,i[h]=E<<16|E>>>16,a[h]=E<<8|E>>>24,s[h]=E,E=16843009*b^65537*y^257*m^16843008*h,l[g]=E<<24|E>>>8,u[g]=E<<16|E>>>16,c[g]=E<<8|E>>>24,d[g]=E,h?(h=m^f[f[f[b^m]]],p^=f[f[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,s,o,l,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),d=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(a=0;a<u;a++)a<i?o=c[a]=t[a]:(l=o,a%i==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[a/i|0]<<24):i>6&&a%i==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),c[a]=o=(c[a-i]^l)>>>0);for(s=0;s<u;s++)a=u-s,l=3&s?c[a]:c[a-4],d[s]=s<4||a<=4?l:v[f[l>>>24]]^g[f[l>>>16&255]]^m[f[l>>>8&255]]^y[f[255&l]],d[s]=d[s]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,a,s,o,l,u,c,d,f,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,E=this.invSubMix,T=E[0],S=E[1],_=E[2],L=E[3],A=this.uint8ArrayToUint32Array_(n),R=A[0],C=A[1],x=A[2],k=A[3],D=new Int32Array(e),w=new Int32Array(D.length),O=this.networkToHostOrderSwap;t<D.length;){for(d=O(D[t]),f=O(D[t+1]),h=O(D[t+2]),p=O(D[t+3]),o=d^y[0],l=p^y[1],u=h^y[2],c=f^y[3],v=4,g=1;g<m;g++)r=T[o>>>24]^S[l>>16&255]^_[u>>8&255]^L[255&c]^y[v],i=T[l>>>24]^S[u>>16&255]^_[c>>8&255]^L[255&o]^y[v+1],a=T[u>>>24]^S[c>>16&255]^_[o>>8&255]^L[255&l]^y[v+2],s=T[c>>>24]^S[o>>16&255]^_[l>>8&255]^L[255&u]^y[v+3],o=r,l=i,u=a,c=s,v+=4;r=b[o>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&c]^y[v],i=b[l>>>24]<<24^b[u>>16&255]<<16^b[c>>8&255]<<8^b[255&o]^y[v+1],a=b[u>>>24]<<24^b[c>>16&255]<<16^b[o>>8&255]<<8^b[255&l]^y[v+2],s=b[c>>>24]<<24^b[o>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^y[v+3],w[t]=O(r^R),w[t+1]=O(s^C),w[t+2]=O(a^x),w[t+3]=O(i^k),R=d,C=f,x=h,k=p,t+=4}return w.buffer},e}(),o=n(1),l=n(6),u=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var a=self.crypto;a&&(this.subtle=a.subtle||a.webkitSubtle)}catch(e){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t,n,r,i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(r=(n=(t=i).byteLength)&&new DataView(t.buffer).getUint8(n-1))?Object(a.a)(t,0,n-r):t:i}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,o=this.remainderData;this.logOnce("JS AES decrypt"),o&&(e=Object(l.a)(o,e),this.remainderData=null);var u=this.getValidChunk(e);if(!u.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new s),c.expandKey(t);var d=i;return this.currentResult=c.decrypt(u.buffer,0,n),this.currentIV=Object(a.a)(u,-16).buffer,d||null},t.webCryptoDecrypt=function(e,t,n){var a=this,s=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i(s,t)),this.fastAesKey.expandKey().then((function(t){return s?new r(s,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return a.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return o.b.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(a.a)(e,0,n),this.remainderData=Object(a.a)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(o.b.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,n;return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},t=e,(n=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,n),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var a=e[i];n.set(a,r),r+=a.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}function i(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,r){var a={};a[r]=[];var s=t.toString(),o=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!o)return a;for(var l,u=o[1],c=new RegExp("(\\\\n|\\W)"+i(u)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=c.exec(s);)"dll-reference"!==l[3]&&a[r].push(l[3]);for(c=new RegExp("\\("+i(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=c.exec(s);)e[l[2]]||(a[r].push(l[1]),e[l[2]]=n(l[1]).m),a[l[2]]=a[l[2]]||[],a[l[2]].push(l[4]);for(var d,f=Object.keys(a),h=0;h<f.length;h++)for(var p=0;p<a[f[h]].length;p++)d=a[f[h]][p],isNaN(1*d)||(a[f[h]][p]=1*a[f[h]][p]);return a}function s(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};s(n);)for(var o=Object.keys(n),l=0;l<o.length;l++){var u=o[l],c=n[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,r[u]=r[u]||[],r[u].push(c);for(var d=a(e,e[u][c],u),f=Object.keys(d),h=0;h<f.length;h++)n[f[h]]=n[f[h]]||[],n[f[h]]=n[f[h]].concat(d[f[h]])}}return r}(i,e),l="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(c);return d.objectURL=c,d}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var r=n(9),i=n(0),a=n(1),s=n(13);function o(e){var t=new s.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.a.FRAG_DECRYPTED,n),t.on(i.a.ERROR,n),e.addEventListener("message",(function(i){var s=i.data;switch(s.cmd){case"init":var o=JSON.parse(s.config);e.transmuxer=new r.c(t,s.typeSupported,o,s.vendor,s.id),Object(a.a)(o.debug),n("init",null);break;case"configure":e.transmuxer.configure(s.config);break;case"demux":var u=e.transmuxer.push(s.data,s.decryptdata,s.chunkMeta,s.state);Object(r.d)(u)?u.then((function(t){l(e,t)})):l(e,u);break;case"flush":var d=s.chunkMeta,f=e.transmuxer.flush(d);Object(r.d)(f)?f.then((function(t){c(e,t,d)})):c(e,f,d)}}))}function l(e,t){if((n=t.remuxResult).audio||n.video||n.text||n.id3||n.initSegment){var n,r=[],i=t.remuxResult,a=i.audio,s=i.video;a&&u(r,a),s&&u(r,s),e.postMessage({event:"transmuxComplete",data:t},r)}}function u(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,n){t.forEach((function(t){l(e,t)})),e.postMessage({event:"flush",data:n})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return kt}));var r=n(11),i=n(3),a=n(0),s=n(2),o=n(1),l=n(6),u=n(5);function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.url=e}var t,n;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(i.a)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&c(t.prototype,n),e}(),f=n(15),h=/^(\d+)x(\d+)$/,p=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,v=function(){function e(t){for(var n in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=h.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(p.lastIndex=0;null!==(t=p.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}(),g={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function m(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var y=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,b=/#EXT-X-MEDIA:(.*)/g,E=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),T=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(PLAYLIST-TYPE):(.+)/.source,/#EXT-X-(MEDIA-SEQUENCE): *(\d+)/.source,/#EXT-X-(SKIP):(.+)/.source,/#EXT-X-(TARGETDURATION): *(\d+)/.source,/#EXT-X-(KEY):(.+)/.source,/#EXT-X-(START):(.+)/.source,/#EXT-X-(ENDLIST)/.source,/#EXT-X-(DISCONTINUITY-SEQ)UENCE: *(\d+)/.source,/#EXT-X-(DIS)CONTINUITY/.source,/#EXT-X-(VERSION):(\d+)/.source,/#EXT-X-(MAP):(.+)/.source,/#EXT-X-(SERVER-CONTROL):(.+)/.source,/#EXT-X-(PART-INF):(.+)/.source,/#EXT-X-(GAP)/.source,/#EXT-X-(BITRATE):\s*(\d+)/.source,/#EXT-X-(PART):(.+)/.source,/#EXT-X-(PRELOAD-HINT):(.+)/.source,/#EXT-X-(RENDITION-REPORT):(.+)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),S=/\.(mp4|m4s|m4v|m4a)$/i,_=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return(n+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)}return e},e.resolve=function(e,t){return r.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],a={},s=!1;for(y.lastIndex=0;null!=(r=y.exec(t));)if(r[1]){var o=new v(r[1]),l={attrs:o,bitrate:o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),name:o.NAME,url:e.resolve(r[2],n)},u=o.decimalResolution("RESOLUTION");u&&(l.width=u.width,l.height=u.height),L((o.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=e.convertAVC1ToAVCOTI(l.videoCodec)),i.push(l)}else if(r[3]){var c=new v(r[3]);c["DATA-ID"]&&(s=!0,a[c["DATA-ID"]]=c)}return{levels:i,sessionData:s?a:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var a;void 0===i&&(i=[]);var s=[],o=0;for(b.lastIndex=0;null!==(a=b.exec(t));){var l=new v(a[1]);if(l.TYPE===r){var u={attrs:l,bitrate:0,id:o++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:r,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?e.resolve(l.URI,n):""};if(i.length){var c=e.findGroup(i,u.groupId)||i[0];A(u,c,"audioCodec"),A(u,c,"textCodec")}s.push(u)}}return s},e.parseLevelPlaylist=function(e,t,n,a,s){var l,c,h,p=new d(t),g=p.fragments,m=null,y=0,b=0,_=0,L=0,A=null,C=new u.b(a,t),x=-1,k=!1;for(E.lastIndex=0,p.m3u8=e;null!==(l=E.exec(e));){k&&(k=!1,(C=new u.b(a,t)).start=_,C.sn=y,C.cc=L,C.level=n,m&&(C.initSegment=m,C.rawProgramDateTime=m.rawProgramDateTime));var D=l[1];if(D){C.duration=parseFloat(D);var w=(" "+l[2]).slice(1);C.title=w||null,C.tagList.push(w?["INF",D,w]:["INF",D])}else if(l[3])Object(i.a)(C.duration)&&(C.start=_,h&&(C.levelkey=h),C.sn=y,C.level=n,C.cc=L,C.urlId=s,g.push(C),C.relurl=(" "+l[3]).slice(1),R(C,A),A=C,_+=C.duration,y++,b=0,k=!0);else if(l[4]){var O=(" "+l[4]).slice(1);A?C.setByteRange(O,A):C.setByteRange(O)}else if(l[5])C.rawProgramDateTime=(" "+l[5]).slice(1),C.tagList.push(["PROGRAM-DATE-TIME",C.rawProgramDateTime]),-1===x&&(x=g.length);else{if(!(l=l[0].match(T))){o.b.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<l.length&&void 0===l[c];c++);var I=(" "+l[c]).slice(1),P=(" "+l[c+1]).slice(1),F=l[c+2]?(" "+l[c+2]).slice(1):"";switch(I){case"PLAYLIST-TYPE":p.type=P.toUpperCase();break;case"MEDIA-SEQUENCE":y=p.startSN=parseInt(P);break;case"SKIP":var M=new v(P),N=M.decimalInteger("SKIPPED-SEGMENTS");if(Object(i.a)(N)){p.skippedSegments=N;for(var B=N;B--;)g.unshift(null);y+=N}var U=M.enumeratedString("RECENTLY-REMOVED-DATERANGES");U&&(p.recentlyRemovedDateranges=U.split("\t"));break;case"TARGETDURATION":p.targetduration=parseFloat(P);break;case"VERSION":p.version=parseInt(P);break;case"EXTM3U":break;case"ENDLIST":p.live=!1;break;case"#":(P||F)&&C.tagList.push(F?[P,F]:[P]);break;case"DIS":L++;case"GAP":C.tagList.push([I]);break;case"BITRATE":C.tagList.push([I,P]);break;case"DISCONTINUITY-SEQ":L=parseInt(P);break;case"KEY":var j,G=new v(P),V=G.enumeratedString("METHOD"),H=G.URI,K=G.hexadecimalInteger("IV"),W=G.enumeratedString("KEYFORMATVERSIONS"),Y=G.enumeratedString("KEYID"),$=null!=(j=G.enumeratedString("KEYFORMAT"))?j:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf($)>-1){o.b.warn("Keyformat "+$+" is not supported from the manifest");continue}if("identity"!==$)continue;V&&(h=f.a.fromURL(t,H),H&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(V)>=0&&(h.method=V,h.keyFormat=$,Y&&(h.keyID=Y),W&&(h.keyFormatVersions=W),h.iv=K));break;case"START":var z=new v(P).decimalFloatingPoint("TIME-OFFSET");Object(i.a)(z)&&(p.startTimeOffset=z);break;case"MAP":var q=new v(P);C.relurl=q.URI,q.BYTERANGE&&C.setByteRange(q.BYTERANGE),C.level=n,C.sn="initSegment",h&&(C.levelkey=h),C.initSegment=null,m=C,k=!0;break;case"SERVER-CONTROL":var X=new v(P);p.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),p.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),p.canSkipDateRanges=p.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),p.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),p.holdBack=X.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var Q=new v(P);p.partTarget=Q.decimalFloatingPoint("PART-TARGET");break;case"PART":var Z=p.partList;Z||(Z=p.partList=[]);var J=b>0?Z[Z.length-1]:void 0,ee=b++,te=new u.c(new v(P),C,t,ee,J);Z.push(te),C.duration+=te.duration;break;case"PRELOAD-HINT":var ne=new v(P);p.preloadHint=ne;break;case"RENDITION-REPORT":var re=new v(P);p.renditionReports=p.renditionReports||[],p.renditionReports.push(re);break;default:o.b.warn("line parsed but not handled: "+l)}}}A&&!A.relurl?(g.pop(),_-=A.duration,p.partList&&(p.fragmentHint=A)):p.partList&&(R(C,A),C.cc=L,p.fragmentHint=C);var ie=g.length,ae=g[0],se=g[ie-1];if((_+=p.skippedSegments*p.targetduration)>0&&ie&&se){p.averagetargetduration=_/ie;var oe=se.sn;p.endSN="initSegment"!==oe?oe:0,ae&&(p.startCC=ae.cc,ae.initSegment||p.fragments.every((function(e){return e.relurl&&(t=e.relurl,S.test(null!=(n=null===(i=r.parseURL(t))||void 0===i?void 0:i.path)?n:""));var t,n,i}))&&(o.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(C=new u.b(a,t)).relurl=se.relurl,C.level=n,C.sn="initSegment",ae.initSegment=C,p.needSidxRanges=!0))}else p.endSN=0,p.startCC=0;return p.fragmentHint&&(_+=p.fragmentHint.duration),p.totalduration=_,p.endCC=L,x>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(g,x),p},e}();function L(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return function(e,t){var n=g[t];return!!n&&!0===n[e.slice(0,4)]}(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function A(e,t,n){var r=t[n];r&&(e[n]=r)}function R(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(i.a)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var C=n(4);function x(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var k=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(a.a.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.a.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(a.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(a.a.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.a.LEVEL_LOADING,this.onLevelLoading,this),e.off(a.a.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(a.a.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:C.a.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:C.a.LEVEL,url:i,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:C.a.AUDIO_TRACK,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:C.a.SUBTITLE_TRACK,url:i,deliveryDirectives:a})},t.load=function(e){var t,n,r,i,a,s,l=this.hls.config,u=this.getInternalLoader(e);if(u){var c=u.context;if(c&&c.url===e.url)return void o.b.trace("[playlist-loader]: playlist request ongoing");o.b.log("[playlist-loader]: aborting previous loader for type: "+e.type),u.abort()}switch(e.type){case C.a.MANIFEST:n=l.manifestLoadingMaxRetry,r=l.manifestLoadingTimeOut,i=l.manifestLoadingRetryDelay,a=l.manifestLoadingMaxRetryTimeout;break;case C.a.LEVEL:case C.a.AUDIO_TRACK:case C.a.SUBTITLE_TRACK:n=0,r=l.levelLoadingTimeOut;break;default:n=l.levelLoadingMaxRetry,r=l.levelLoadingTimeOut,i=l.levelLoadingRetryDelay,a=l.levelLoadingMaxRetryTimeout}if(u=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===C.a.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===C.a.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===C.a.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var d=s.partTarget,f=s.targetduration;d&&f&&(r=Math.min(1e3*Math.max(3*d,.8*f),r))}var h={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:a,highWaterMark:0},p={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.load(e,h,p)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var i=this.hls,s=e.data,l=x(e,n),u=_.parseMasterPlaylist(s,l),c=u.levels,d=u.sessionData;if(c.length){var f=c.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),h=c.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),p=_.parseMasterPlaylistMedia(s,l,"AUDIO",f),g=_.parseMasterPlaylistMedia(s,l,"SUBTITLES",h),m=_.parseMasterPlaylistMedia(s,l,"CLOSED-CAPTIONS");p.length&&(p.some((function(e){return!e.url}))||!c[0].audioCodec||c[0].attrs.AUDIO||(o.b.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new v({}),bitrate:0,url:""}))),i.trigger(a.a.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:g,captions:m,url:l,stats:t,networkDetails:r,sessionData:d})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,r){var o=this.hls,l=n.id,u=n.level,c=n.type,d=x(e,n),f=Object(i.a)(l)?l:0,h=Object(i.a)(u)?u:f,p=function(e){switch(e.type){case C.a.AUDIO_TRACK:return C.b.AUDIO;case C.a.SUBTITLE_TRACK:return C.b.SUBTITLE;default:return C.b.MAIN}}(n),g=_.parseLevelPlaylist(e.data,d,h,p,f);if(g.fragments.length){if(c===C.a.MANIFEST){var m={attrs:new v({}),bitrate:0,details:g,name:"",url:d};o.trigger(a.a.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:d,stats:t,networkDetails:r,sessionData:null})}if(t.parsing.end=performance.now(),g.needSidxRanges){var y,b=null===(y=g.fragments[0].initSegment)||void 0===y?void 0:y.url;this.load({url:b,isSidxRequest:!0,type:c,level:u,levelDetails:g,id:l,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=g,this.handlePlaylistLoaded(e,t,n,r)}else o.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.LEVEL_EMPTY_ERROR,fatal:!1,url:d,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(l.g)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,a=i.fragments[t];0===a.byteRange.length&&a.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),a.initSegment&&a.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.MANIFEST_PARSING_ERROR,fatal:t.type===C.a.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),o.b.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var i=s.a.UNKNOWN,l=!1,u=this.getInternalLoader(e);switch(e.type){case C.a.MANIFEST:i=n?s.a.MANIFEST_LOAD_TIMEOUT:s.a.MANIFEST_LOAD_ERROR,l=!0;break;case C.a.LEVEL:i=n?s.a.LEVEL_LOAD_TIMEOUT:s.a.LEVEL_LOAD_ERROR,l=!1;break;case C.a.AUDIO_TRACK:i=n?s.a.AUDIO_TRACK_LOAD_TIMEOUT:s.a.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case C.a.SUBTITLE_TRACK:i=n?s.a.SUBTITLE_TRACK_LOAD_TIMEOUT:s.a.SUBTITLE_LOAD_ERROR,l=!1}u&&this.resetInternalLoader(e.type);var c={type:s.b.NETWORK_ERROR,details:i,fatal:l,url:e.url,loader:u,context:e,networkDetails:t};r&&(c.response=r),this.hls.trigger(a.a.ERROR,c)},t.handlePlaylistLoaded=function(e,t,n,r){var i=n.type,s=n.level,o=n.id,l=n.groupId,u=n.loader,c=n.levelDetails,d=n.deliveryDirectives;if(null!=c&&c.targetduration){if(u)switch(c.live&&(u.getCacheAge&&(c.ageHeader=u.getCacheAge()||0),u.getCacheAge&&!isNaN(c.ageHeader)||(c.ageHeader=0)),i){case C.a.MANIFEST:case C.a.LEVEL:this.hls.trigger(a.a.LEVEL_LOADED,{details:c,level:s||0,id:o||0,stats:t,networkDetails:r,deliveryDirectives:d});break;case C.a.AUDIO_TRACK:this.hls.trigger(a.a.AUDIO_TRACK_LOADED,{details:c,id:o||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:d});break;case C.a.SUBTITLE_TRACK:this.hls.trigger(a.a.SUBTITLE_TRACK_LOADED,{details:c,id:o||0,groupId:l||"",stats:t,networkDetails:r,deliveryDirectives:d})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}(),D=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(a.a.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(a.a.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,r=n.type,i=this.loaders[r];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var l=this.hls.config;if(i&&(o.b.warn("abort previous key loader for type:"+r),i.abort()),!s)return void o.b.warn("key uri is falsy");var u=l.loader,c=n.loader=this.loaders[r]=new u(l);this.decrypturl=s,this.decryptkey=null;var d={url:s,frag:n,responseType:"arraybuffer"},f={timeout:l.fragLoadingTimeOut,maxRetry:0,retryDelay:l.fragLoadingRetryDelay,maxRetryDelay:l.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(d,f,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(a.a.KEY_LOADED,{frag:n}))}else o.b.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var r=n.frag;r.decryptdata?(this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=null,delete this.loaders[r.type],this.hls.trigger(a.a.KEY_LOADED,{frag:r})):o.b.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),delete this.loaders[n.type],this.hls.trigger(a.a.ERROR,{type:s.b.NETWORK_ERROR,details:s.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}();function w(e,t){var n;try{n=new Event("addtrack")}catch(e){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}var O=n(7),I=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners()},t._registerListeners=function(){var e=this.hls;e.on(a.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(a.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},t._unregisterListeners=function(){var e=this.hls;e.off(a.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.a.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(a.a.BUFFER_FLUSHING,this.onBufferFlushing,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(function(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}(this.id3Track),this.id3Track=null,this.media=null)},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return w(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=t.frag,r=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=self.WebKitDataCue||self.VTTCue||self.TextTrackCue,a=0;a<r.length;a++){var s=O.c(r[a].data);if(s){var o=r[a].pts,l=a<r.length-1?r[a+1].pts:n.end;l-o<=0&&(l=o+.25);for(var u=0;u<s.length;u++){var c=s[u];if(!O.e(c)){var d=new i(o,l,"");d.value=c,this.id3Track.addCue(d)}}}}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.type;if(!i||"audio"===i){var a=this.id3Track;a&&function(e,t,n){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var i=function(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var a=Math.floor((i+r)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&r<n))return a;r=a+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var a=i,s=e.length;a<s;a++){var o=e[a];if(o.startTime>=t&&o.endTime<=n)r.push(o);else if(o.startTime>n)return r}return r}(e.cues,t,n),a=0;a<i.length;a++)e.removeCue(i[a]);"disabled"===r&&(e.mode=r)}(a,n,r)}},e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F,M=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,n,r=e.prototype;return r.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},r.registerListeners=function(){this.hls.on(a.a.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(a.a.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(a.a.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(a.a.ERROR,this.onError,this)},r.unregisterListeners=function(){this.hls.off(a.a.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(a.a.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(a.a.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(a.a.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(a.a.ERROR,this.onError)},r.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},r.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},r.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},r.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},r.onError=function(e,t){t.details===s.a.BUFFER_STALLED_ERROR&&(this.stallCount++,o.b.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},r.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,a=r.maxLiveSyncPlaybackRate;if(i&&1!==a){var s=this.targetLatency;if(null!==s){var o=n-s,l=o<Math.min(this.maxLatency,s+t.targetduration);if(t.live&&l&&o>.05&&this.forwardBufferLength>1){var u=Math.min(2,Math.max(1,a)),c=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},r.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},r.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,a=i.liveSyncDuration,s=i.liveSyncDurationCount,o=i.lowLatencyMode,l=this.hls.userConfig,u=o&&n||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===u)&&(u=void 0!==a?a:s*r);var c=r;return u+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,a=r-n.totalduration,s=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,i),s)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return n?e.buffered.end(n-1):t.edge-this.currentTime}}])&&P(t.prototype,n),e}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.No="",e.Yes="YES",e.v2="v2"}(F||(F={}));var B=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),U=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,n;return t=e,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&N(t.prototype,n),e}();function j(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function G(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function V(e,t){var n=t.startPTS;if(Object(i.a)(n)){var r,a=0;t.sn>e.sn?(a=n-e.start,r=e):(a=e.start-n,r=t),r.duration!==a&&(r.duration=a)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function H(e,t,n,r,a,s){r-n<=0&&(o.b.warn("Fragment should have a positive duration",t),r=n+t.duration,s=a+t.duration);var l=n,u=r,c=t.startPTS,d=t.endPTS;if(Object(i.a)(c)){var f=Math.abs(c-n);Object(i.a)(t.deltaPTS)?t.deltaPTS=Math.max(f,t.deltaPTS):t.deltaPTS=f,l=Math.max(n,c),n=Math.min(n,c),a=Math.min(a,t.startDTS),u=Math.min(r,d),r=Math.max(r,d),s=Math.max(s,t.endDTS)}t.duration=r-n;var h=n-t.start;t.appendedPTS=r,t.start=t.startPTS=n,t.maxStartPTS=l,t.startDTS=a,t.endPTS=r,t.minEndPTS=u,t.endDTS=s;var p,v=t.sn;if(!e||v<e.startSN||v>e.endSN)return 0;var g=v-e.startSN,m=e.fragments;for(m[g]=t,p=g;p>0;p--)V(m[p],m[p-1]);for(p=g;p<m.length-1;p++)V(m[p],m[p+1]);return e.fragmentHint&&V(m[m.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,h}function K(e,t){for(var n=null,r=e.fragments,a=r.length-1;a>=0;a--){var s=r[a].initSegment;if(s){n=s;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var l,u=0;if(function(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,o=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=i;u<=a;u++){var c=l[s+u],d=o[u];r&&!d&&u<r&&(d=t.fragments[u]=c),c&&d&&n(c,d)}}(e,t,(function(e,r){e.relurl&&(u=e.cc-r.cc),Object(i.a)(e.startPTS)&&Object(i.a)(e.endPTS)&&(r.start=r.startPTS=e.startPTS,r.startDTS=e.startDTS,r.appendedPTS=e.appendedPTS,r.maxStartPTS=e.maxStartPTS,r.endPTS=e.endPTS,r.endDTS=e.endDTS,r.minEndPTS=e.minEndPTS,r.duration=e.endPTS-e.startPTS,r.duration&&(l=r),t.PTSKnown=t.alignedSliding=!0),r.elementaryStreams=e.elementaryStreams,r.loader=e.loader,r.stats=e.stats,r.urlId=e.urlId,e.initSegment&&(r.initSegment=e.initSegment,n=e.initSegment)})),n&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=n)||void 0===t?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments&&(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed)){o.b.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var c=t.skippedSegments;c--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}var d=t.fragments;if(u){o.b.warn("discontinuity sliding from playlist, take drift into account");for(var f=0;f<d.length;f++)d[f].cc+=u}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,n){if(e&&t)for(var r=0,i=0,a=e.length;i<=a;i++){var s=e[i],o=t[i+r];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?n(s,o):r--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),l?H(t,l,l.startPTS,l.endPTS,l.startDTS,l.endDTS):W(e,t),d.length&&(t.totalduration=t.edge-d[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var h=t.advancedDateTime;if(t.advanced&&h){var p=t.edge;t.driftStart||(t.driftStartTime=h,t.driftStart=p),t.driftEndTime=h,t.driftEnd=p}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function W(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||function(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}(t,r[n].start)}var Y=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=o.b.log.bind(o.b,t+":"),this.warn=o.b.warn.bind(o.b,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.b.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null==t?void 0:t.renditionReports;if(n)for(var r=0;r<n.length;r++){var a=n[r],s=""+a.URI;if(s===e.substr(-s.length)){var o=parseInt(a["LAST-MSN"]),l=parseInt(a["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var u=Math.min(t.age-t.partTarget,t.targetduration);void 0!==l&&u>t.partTarget&&(l+=1)}if(Object(i.a)(o))return new B(o,Object(i.a)(l)?l:void 0,F.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,a=t.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!=n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&K(n,i),!this.canLoad||!i.live)return;var o,l=void 0,u=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var c=this.hls.config.lowLatencyMode,d=i.lastPartSn,f=i.endSN,h=i.lastPartIndex,p=d===f;-1!==h?(l=p?f+1:d,u=p?c?0:h:h+1):l=f+1;var v=i.age,g=v+i.ageHeader,m=Math.min(g-i.partTarget,1.5*i.targetduration);if(m>0){if(n&&m>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+m+" with playlist age: "+i.age),m=0;else{var y=Math.floor(m/i.targetduration);l+=y,void 0!==u&&(u+=Math.round(m%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+v.toFixed(2)+"s goal: "+m+" skip sn "+y+" to part "+u)}i.tuneInGoal=m}if(o=this.getDeliveryDirectives(i,t.deliveryDirectives,l,u),c||!p)return void this.loadPlaylist(o)}else o=this.getDeliveryDirectives(i,t.deliveryDirectives,l,u);var b=function(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,a=e.age,s=a>0&&a<3*r,o=t.loading.end-t.loading.start,l=e.availabilityDelay;if(!1===e.updated)if(s){var u=333*e.misses;n=Math.max(Math.min(i,2*o),u),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else s?(l=Math.min(l||r/2,a),e.availabilityDelay=l,n=l+r-a):n=r-o;return Math.round(n)}(i,a);void 0!==l&&i.canBlockReload&&(b-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(b)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(o)}),b)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var i=function(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,i=e.endSN;return n&&(void 0!==t?t-i:0)<n?r?F.v2:F.Yes:F.No}(e,n);return null!=t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,i=F.No),new B(n,r,i)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var a=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),a),this.warn("retry playlist loading #"+this.retryCount+" in "+a+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}();function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var X,Q=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),Z=function(e){var t,n;function r(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,q(t,n);var i,o,l=r.prototype;return l._registerListeners=function(){var e=this.hls;e.on(a.a.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.a.FRAG_LOADED,this.onFragLoaded,this),e.on(a.a.ERROR,this.onError,this)},l._unregisterListeners=function(){var e=this.hls;e.off(a.a.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.a.FRAG_LOADED,this.onFragLoaded,this),e.off(a.a.ERROR,this.onError,this)},l.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},l.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},l.onManifestLoaded=function(e,t){var n,r,i=[],o=[],l=[],u={},c=!1,d=!1,f=!1;if(t.levels.forEach((function(e){var t=e.attrs;c=c||!(!e.width||!e.height),d=d||!!e.videoCodec,f=f||!!e.audioCodec,Q&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(r=u[n])?r.url.push(e.url):(r=new U(e),u[n]=r,i.push(r)),t&&(t.AUDIO&&j(r,"audio",t.AUDIO),t.SUBTITLES&&j(r,"text",t.SUBTITLES))})),(c||d)&&f&&(i=i.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),i=i.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||m(t,"audio"))&&(!n||m(n,"video"))})),t.audioTracks&&G(o=t.audioTracks.filter((function(e){return!e.audioCodec||m(e.audioCodec,"audio")}))),t.subtitles&&G(l=t.subtitles),i.length>0){n=i[0].bitrate,i.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=i;for(var h=0;h<i.length;h++)if(i[h].bitrate===n){this._firstLevel=h,this.log("manifest loaded, "+i.length+" level(s) found, first bitrate: "+n);break}var p=f&&!d,v={levels:i,audioTracks:o,subtitleTracks:l,firstLevel:this._firstLevel,stats:t.stats,audio:f,video:d,altAudio:!p&&o.some((function(e){return!!e.url}))};this.hls.trigger(a.a.MANIFEST_PARSED,v),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},l.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===C.a.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===C.a.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var a,o=!1,l=!0;switch(n.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:if(n.frag){var u=this._levels[n.frag.level];u?(u.fragmentError++,u.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=n.frag.level)):a=n.frag.level}break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(l=!1),a=r.level),o=!0;break;case s.a.REMUX_ALLOC_ERROR:a=n.level,o=!0}void 0!==a&&this.recoverLevel(n,a,o,l)}}},l.recoverLevel=function(e,t,n,r){var i=e.details,a=this._levels[t];if(a.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var s=a.url.length;if(s>1&&a.loadError<s)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var o=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==o&&0===this._levels[o].loadError&&(this.warn(i+": switch to "+o),e.levelRetry=!0,this.hls.nextAutoLevel=o)}}},l.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},l.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===C.b.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},l.onLevelLoaded=function(e,t){var n,r,i=t.level,a=t.details,s=this._levels[i];if(!s)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,s.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(a.deltaUpdateFailed=!0)},l.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,a=0;a<n.audioGroupIds.length;a++)if(n.audioGroupIds[a]===i){r=a;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},l.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,i=n.url[r];if(e)try{i=e.addDirectives(i)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+i),this.clearTimer(),this.hls.trigger(a.a.LEVEL_LOADING,{url:i,level:t,id:r,deliveryDirectives:e||null})}},l.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!=n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(a.a.LEVELS_UPDATED,{levels:r})},i=r,(o=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var i=this.currentLevelIndex,o=n[i],l=n[e];this.log("switching to level "+e+" from "+i),this.currentLevelIndex=e;var u=$({},l,{level:e,maxBitrate:l.maxBitrate,uri:l.uri,urlId:l.urlId});delete u._urlId,this.hls.trigger(a.a.LEVEL_SWITCHING,u);var c=l.details;if(!c||c.live){var d=this.switchParams(l.uri,null==o?void 0:o.details);this.loadPlaylist(d)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&z(i.prototype,o),r}(Y);!function(e){e.NOT_LOADED="NOT_LOADED",e.BACKTRACKED="BACKTRACKED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(X||(X={}));var J=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(a.a.BUFFER_APPENDED,this.onBufferAppended,this),e.on(a.a.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.a.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(a.a.BUFFER_APPENDED,this.onBufferAppended,this),e.off(a.a.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.a.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===C.b.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var a=r[i],s=a?a.end:n.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),a}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var a=n[r[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var s=a.body;if(s.start<=e&&e<=s.end)return s}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a)if(a.buffered){var s=a.range[e];s&&s.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(a.body),n}))}else a.body.type===n&&r.removeFragment(a.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var a=te(r),s=this.fragments[a];s&&(Object.keys(n).forEach((function(e){var a=r.elementaryStreams[e];if(a){var o=n[e],l=null!==i||!0===a.partial;s.range[e]=t.getBufferedTimes(r,i,l,o)}})),s.backtrack=s.loaded=null,Object.keys(s.range).length?s.buffered=!0:this.removeFragment(s.body))}},t.fragBuffered=function(e){var t=te(e),n=this.fragments[t];n&&(n.backtrack=n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},a=t?t.start:e.start,s=t?t.end:e.end,o=e.minEndPTS||s,l=e.maxStartPTS||a,u=0;u<r.length;u++){var c=r.start(u)-this.bufferPadding,d=r.end(u)+this.bufferPadding;if(l>=c&&o<=d){i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(s,r.end(u))});break}if(a<d&&s>c)i.partial=!0,i.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(s,r.end(u))});else if(s<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,a=0,s=this.bufferPadding,o=this.fragments;return Object.keys(o).forEach((function(l){var u=o[l];u&&ee(u)&&(n=u.body.start-s,r=u.body.end+s,e>=n&&e<=r&&(t=Math.min(e-n,r-e),a<=t&&(i=u.body,a=t)))})),i},t.getState=function(e){var t=te(e),n=this.fragments[t];return n?n.buffered?ee(n)?X.PARTIAL:X.OK:n.backtrack?X.BACKTRACKED:X.APPENDING:X.NOT_LOADED},t.backtrack=function(e,t){var n=te(e),r=this.fragments[n];if(!r||r.backtrack)return null;var i=r.backtrack=t||r.loaded;return r.loaded=null,i},t.getBacktrackData=function(e){var t=te(e),n=this.fragments[t];if(n){var r,i=n.backtrack;if(null!=i&&null!==(r=i.payload)&&void 0!==r&&r.byteLength)return i;this.removeFragment(e)}return null},t.isTimeBuffered=function(e,t,n){for(var r,i,a=0;a<n.length;a++){if(r=n.start(a)-this.bufferPadding,i=n.end(a)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=te(n);this.fragments[i]={body:n,loaded:t,backtrack:null,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if(r.type===C.b.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(n.detectEvictedFragments(e,t),!i)for(var s=0;s<t.length;s++)r.appendedPTS=Math.max(t.end(s),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=te(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var a=r.fragments[i];if(a&&a.buffered){var s=a.body;s.type===n&&s.start<t&&s.end>e&&r.removeFragment(s)}}))},t.removeFragment=function(e){var t=te(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function ee(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function te(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}var ne=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}(),re={length:0,start:function(){return 0},end:function(){return 0}},ie=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,a=e.getBuffered(t),s=[];for(i=0;i<a.length;i++)s.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(s,n,r)}}catch(e){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var a=r.length;if(a){var s=r[a-1].end;e[i].start-s<n?e[i].end>s&&(r[a-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var o,l=0,u=t,c=t,d=0;d<r.length;d++){var f=r[d].start,h=r[d].end;if(t+n>=f&&t<h)u=f,l=(c=h)-t;else if(t+n<f){o=f;break}}return{len:l,start:u||0,end:c||0,nextStart:o}},e.getBuffered=function(e){try{return e.buffered}catch(e){return o.b.log("failed to get media.buffered",e),re}},e}(),ae=function(e,t,n,r,i,a){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=a};function se(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function oe(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)se(n[r],e);t.fragmentHint&&se(t.fragmentHint,e),t.alignedSliding=!0}function le(e,t,n){t&&(function(e,t,n){if(function(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}(e,n,t)){var r=function(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var i=function(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var a=e[r];if(a&&a.cc===t){n=a;break}}return n}(n,r[0].cc);if(i&&(!i||i.startPTS))return i;o.b.log("No frag in previous level to align on")}else o.b.log("No fragments to align")}(n.details,t);r&&Object(i.a)(r.start)&&(o.b.log("Adjusting PTS using last level due to CC increase within current level "+t.url),oe(r.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&function(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,r=e.fragments[0].programDateTime,a=(r-n)/1e3+t.fragments[0].start;a&&Object(i.a)(a)&&(o.b.log("Adjusting PTS using programDateTime delta "+(r-n)+"ms, sliding:"+a.toFixed(3)+" "+e.url+" "),oe(a,e))}}(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||W(t.details,n))}var ue=function(e,t){for(var n=0,r=e.length-1,i=null,a=null;n<=r;){var s=t(a=e[i=(n+r)/2|0]);if(s>0)n=i+1;else{if(!(s<0))return a;r=i-1}}return null};function ce(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function de(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function fe(e){var t="function"==typeof Map?new Map:void 0;return(fe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return he(e,arguments,ge(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ve(r,e)})(e)}function he(e,t,n){return(he=pe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ve(i,n.prototype),i}).apply(null,arguments)}function pe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=Math.pow(2,17),ye=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new Ee({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(r,l){n.loader&&n.loader.destroy();var u=n.loader=e.loader=a?new a(i):new o(i),c=be(e),d={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:me};e.stats=u.stats,u.load(c,d,{onSuccess:function(t,i,a,s){n.resetLoader(e,u),r({frag:e,part:null,payload:t.data,networkDetails:s})},onError:function(t,r,i){n.resetLoader(e,u),l(new Ee({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:i}))},onAbort:function(t,r,i){n.resetLoader(e,u),l(new Ee({type:s.b.NETWORK_ERROR,details:s.a.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:i}))},onTimeout:function(t,r,i){n.resetLoader(e,u),l(new Ee({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:i}))},onProgress:function(n,r,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var i=this.config,a=i.fLoader,o=i.loader;return new Promise((function(l,u){r.loader&&r.loader.destroy();var c=r.loader=e.loader=a?new a(i):new o(i),d=be(e,t),f={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout,highWaterMark:me};t.stats=c.stats,c.load(d,f,{onSuccess:function(i,a,s,o){r.resetLoader(e,c),r.updateStatsFromPart(e,t);var u={frag:e,part:t,payload:i.data,networkDetails:o};n(u),l(u)},onError:function(n,i,a){r.resetLoader(e,c),u(new Ee({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:a}))},onAbort:function(n,i,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,c),u(new Ee({type:s.b.NETWORK_ERROR,details:s.a.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:a}))},onTimeout:function(n,i,a){r.resetLoader(e,c),u(new Ee({type:s.b.NETWORK_ERROR,details:s.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:a}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var a=Math.round(e.duration/t.duration),s=Math.min(Math.round(n.loaded/i),a),o=(a-s)*Math.round(n.loaded/s);n.total=n.loaded+o}else n.total=Math.max(n.loaded,n.total);var l=n.loading,u=r.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function be(e,t){void 0===t&&(t=null);var n=t||e,r={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},a=n.byteRangeStartOffset,s=n.byteRangeEndOffset;return Object(i.a)(a)&&Object(i.a)(s)&&(r.rangeStart=a,r.rangeEnd=s),r}var Ee=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ve(t,n),r}(fe(Error)),Te=n(14),Se=function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t};function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae="STOPPED",Re="IDLE",Ce="KEY_LOADING",xe="FRAG_LOADING",ke="FRAG_LOADING_WAITING_RETRY",De="PARSING",we="PARSED",Oe="BACKTRACKING",Ie="ENDED",Pe="ERROR",Fe="WAITING_LEVEL",Me=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=Ae,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=o.b.log.bind(o.b,r+":"),i.warn=o.b.warn.bind(o.b,r+":"),i.hls=t,i.fragmentLoader=new ye(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new Te.a(t,t.config),t.on(a.a.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Le(t,n);var u,c,d=r.prototype;return d.doTick=function(){this.onTickEnd()},d.onTickEnd=function(){},d.startLoad=function(e){},d.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ae},d._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn>=t.endSN&&!e.nextStart){var i=t.partList;if(null!=i&&i.length){var a=i[i.length-1];return ie.isBuffered(this.media,a.start+a.duration/2)}var s=r.getState(n);return s===X.PARTIAL||s===X.OK}return!1},d.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===Ae&&this.startLoad(r.startPosition)},d.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},d.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,r=this.mediaBuffer,a=this.state,s=n?n.currentTime:0,o=ie.bufferInfo(r||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(i.a)(s)?s.toFixed(3):s)+", state: "+a),a===Ie)this.resetLoadingState();else if(t&&!o.len){var l=e.maxFragLookUpTolerance,u=t.start-l,c=s>t.start+t.duration+l;(s<u||c)&&(c&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||o.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},d.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},d.onKeyLoaded=function(e,t){if(this.state===Ce&&t.frag===this.fragCurrent&&this.levels){this.state=Re;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},d.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},d.onHandlerDestroyed=function(){this.state=Ae,this.hls.off(a.a.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},d.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=Ce,this.fragCurrent=e,this.hls.trigger(a.a.KEY_LOADING,{frag:e})},d.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},d._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;if(!r.fragContextChanged(e))return"payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(a.a.FRAG_LOADED,t),r.state===Oe)?(r.fragmentTracker.backtrack(e,t),void r.resetFragmentLoading(e)):void r._handleFragmentLoadComplete(t);(n===xe||n===Oe||!r.fragCurrent&&n===De)&&(r.fragmentTracker.removeFragment(e),r.state=Re)}})).catch((function(t){r.warn(t),r.resetFragmentLoading(e)}))},d.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(a.a.BUFFER_FLUSHING,r)}},d._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,s=e.decryptdata;if(i&&i.byteLength>0&&s&&s.key&&s.iv&&"AES-128"===s.method){var o=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),s.key.buffer,s.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(a.a.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:o,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,s=t.levels;if(!s)throw new Error("init load aborted, missing levels");s[e.level].details;var o=e.stats;t.state=Re,t.fragLoadError=0,e.data=new Uint8Array(n.payload),o.parsing.start=o.buffering.start=self.performance.now(),o.parsing.end=o.buffering.end=self.performance.now(),n.frag===r&&i.trigger(a.a.FRAG_BUFFERED,{stats:o,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},d.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},d.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+Se(ie.getBuffered(n))),this.state=Re,this.tick()},d._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),s=new ae(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!a);t.flush(s)}},d._handleFragmentLoadProgress=function(e){},d._doFragLoad=function(e,t,n,r){var s=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var o=t.partList;if(o&&r){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var l=this.getNextPart(o,e,n);if(l>-1){var u=o[l];return this.log("Loading part sn: "+e.sn+" p: "+u.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+l+"-"+(o.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=u.start+u.duration,this.state=xe,this.hls.trigger(a.a.FRAG_LOADING,{frag:e,part:o[l],targetBufferTime:n}),this.doFragPartsLoad(e,o,l,r).catch((function(e){return s.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(o,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(i.a)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=xe,this.hls.trigger(a.a.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,r).catch((function(e){return s.handleFragLoadError(e)}))},d.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(s,o){var l=[];!function n(u){var c=t[u];i.fragmentLoader.loadPart(e,c,r).then((function(r){l[c.index]=r;var o=r.part;i.hls.trigger(a.a.FRAG_LOADED,r);var d=t[u+1];if(!d||d.fragment!==e)return s({frag:e,part:o,partsLoaded:l});n(u+1)})).catch(o)}(n)}))},d.handleFragLoadError=function(e){var t=e.data;return t&&t.details===s.a.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(a.a.ERROR,t),null},d._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===De){var n=t.frag,r=t.part,i=t.level,a=self.performance.now();n.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=Re)},d.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var a=t[n],s=i>-1?function(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var a=r[i];if(a.index===n&&a.fragment.sn===t)return a}return null}(a,r,i):null,o=s?s.fragment:function(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}(a,r,this.fragCurrent);return o?{frag:o,part:s,level:a}:null},d.bufferFragmentData=function(e,t,n,r){if(e&&this.state===De){var i=e.data1,s=e.data2,o=i;if(i&&s&&(o=Object(l.a)(i,s)),o&&o.length){var u={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:o};this.hls.trigger(a.a.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},d.flushBufferGap=function(e){var t=this.media;if(t)if(ie.isBuffered(t,t.currentTime)){var n=t.currentTime,r=ie.bufferInfo(t,n,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,r.end-a),n+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},d.getFwdBufferInfo=function(e,t){var n=this.config,r=this.getLoadPosition();if(!Object(i.a)(r))return null;var a=ie.bufferInfo(e,r,n.maxBufferHole);if(0===a.len&&void 0!==a.nextStart){var s=this.fragmentTracker.getBufferedFrag(r,t);if(s&&a.nextStart<s.end)return ie.bufferInfo(e,r,Math.max(a.nextStart,n.maxBufferHole))}return a},d.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},d.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},d.getNextFragment=function(e,t){var n,r,i=t.fragments,a=i.length;if(!a)return null;var s,o=this.config,l=i[0].start;if(t.live){var u=o.initialLiveManifestSize;if(a<u)return this.warn("Not enough fragments to start playback (have: "+a+", need: "+u+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(s=this.getInitialLiveFragment(t,i),this.startPosition=s?this.hls.liveSyncPosition||s.start:e)}else e<=l&&(s=i[0]);if(!s){var c=o.lowLatencyMode?t.partEnd:t.fragmentEnd;s=this.getFragmentAtPosition(e,c,t)}return null===(n=s)||void 0===n||!n.initSegment||null!==(r=s)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(s=s.initSegment),s},d.getNextPart=function(e,t,n){for(var r=-1,i=!1,a=!0,s=0,o=e.length;s<o;s++){var l=e[s];if(a=a&&!l.independent,r>-1&&n<l.start)break;var u=l.loaded;!u&&(i||l.independent||a)&&l.fragment===t&&(r=s),i=u}return r},d.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},d.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=function(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(i.a)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var r=0;r<e.length;++r){var a=e[r];if(de(t,n,a))return a}return null}(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){var s=t[a-e.startSN];n.cc===s.cc&&(r=s,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=function(e,t){return ue(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var o=this.hls.liveSyncPosition;null!==o&&(r=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},d.getFragmentAtPosition=function(e,t,n){var r,i=this.config,a=this.fragPrevious,s=n.fragments,o=n.endSN,l=n.fragmentHint,u=i.maxFragLookUpTolerance,c=!!(i.lowLatencyMode&&n.partList&&l);if(c&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn),r=e<t?function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=null;return e?i=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(i=t[0]),i&&0===ce(n,r,i)?i:ue(t,ce.bind(null,n,r))||i}(a,s,e,e>t-u?0:u):s[s.length-1],r){var d=r.sn-n.startSN,f=a&&r.level===a.level,h=s[d+1];if(this.fragmentTracker.getState(r)===X.BACKTRACKED){r=null;for(var p=d;s[p]&&this.fragmentTracker.getState(s[p])===X.BACKTRACKED;)r=a?s[p--]:s[--p];r||(r=h)}else a&&r.sn===a.sn&&!c&&f&&(r.sn<o&&this.fragmentTracker.getState(h)!==X.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+h.sn),r=h):r=null)}return r},d.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,a=e.fragments[0].start,s=e.edge,o=i>=a-t.maxFragLookUpTolerance&&i<=s;if(null!==r&&n.duration>r&&(i<r||!o)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!o&&n.readyState<4||i<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+s+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},d.alignPlaylists=function(e,t){var n=this.levels,r=this.levelLastLoaded,a=this.fragPrevious,s=null!==r?n[r]:null,o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;var l=e.fragments[0].start,u=!t,c=e.alignedSliding&&Object(i.a)(l);if(u||!c&&!l){le(a,s,e);var d=e.fragments[0].start;return this.log("Live playlist sliding: "+d.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(a?a.sn:"na")+" fragments: "+o),d}return l},d.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},d.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var r=e.startTimeOffset;Object(i.a)(r)?(n=t+r,r<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+r+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},d.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},d.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},d.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=Re)},d.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){this.fragCurrent;var r=this.config;if(this.fragLoadError+1<=r.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var i=Math.min(Math.pow(2,this.fragLoadError)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+i+"ms"),this.retryDate=self.performance.now()+i,this.fragLoadError++,this.state=ke}else t.levelRetry?(e===C.b.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=Re):(o.b.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=Pe)}}},d.afterBufferFlushed=function(e,t,n){if(e){var r=ie.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===Ie&&this.resetLoadingState()}},d.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=Re},d.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!=t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},d.updateLevelTiming=function(e,t,n,r){var i=this,s=n.details;Object.keys(e.elementaryStreams).reduce((function(t,o){var l=e.elementaryStreams[o];if(l){var u=l.endPTS-l.startPTS;if(u<=0)return i.warn("Could not parse fragment "+e.sn+" "+o+" duration reliably ("+u+") resetting transmuxer to fallback to playlist timing"),i.resetTransmuxer(),t||!1;var c=r?0:H(s,e,l.startPTS,l.endPTS,l.startDTS,l.endDTS);return i.hls.trigger(a.a.LEVEL_PTS_UPDATED,{details:s,level:n,drift:c,type:o,frag:e,start:l.startPTS,end:l.endPTS}),!0}return t}),!1)?(this.state=we,this.hls.trigger(a.a.FRAG_PARSED,{frag:e,part:t})):this.resetLoadingState()},d.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},u=r,(c=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&_e(u.prototype,c),r}(ne);function Ne(){return self.MediaSource||self.WebKitMediaSource}function Be(){return self.SourceBuffer||self.WebKitSourceBuffer}var Ue=n(17),je=n(9),Ge=n(13),Ve=Ne()||{isTypeSupported:function(){return!1}},He=function(){function e(e,t,n,r){var i=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=r;var l=e.config,u=function(t,n){(n=n||{}).frag=i.frag,n.id=i.id,e.trigger(t,n)};this.observer=new Ge.EventEmitter,this.observer.on(a.a.FRAG_DECRYPTED,u),this.observer.on(a.a.ERROR,u);var c={mp4:Ve.isTypeSupported("video/mp4"),mpeg:Ve.isTypeSupported("audio/mpeg"),mp3:Ve.isTypeSupported('audio/mp4; codecs="mp3"')},d=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){var f;o.b.log("demuxing in webworker");try{f=this.worker=Ue(18),this.onwmsg=this.onWorkerMessage.bind(this),f.addEventListener("message",this.onwmsg),f.onerror=function(t){e.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},f.postMessage({cmd:"init",typeSupported:c,vendor:d,id:t,config:JSON.stringify(l)})}catch(e){o.b.warn("Error in worker:",e),o.b.error("Error while initializing DemuxerWorker, fallback to inline"),f&&self.URL.revokeObjectURL(f.objectURL),this.transmuxer=new je.c(this.observer,c,l,d,t),this.worker=null}}else this.transmuxer=new je.c(this.observer,c,l,d,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.observer=null},t.push=function(e,t,n,r,i,a,s,l,u,c){var d,f,h=this;u.transmuxing.start=self.performance.now();var p=this.transmuxer,v=this.worker,g=a?a.start:i.start,m=i.decryptdata,y=this.frag,b=!(y&&i.cc===y.cc),E=!(y&&u.level===y.level),T=y?u.sn-y.sn:-1,S=this.part?u.part-this.part.index:1,_=!E&&(1===T||0===T&&1===S),L=self.performance.now();(E||T||0===i.stats.parsing.start)&&(i.stats.parsing.start=L),!a||!S&&_||(a.stats.parsing.start=L);var A=!(y&&(null===(d=i.initSegment)||void 0===d?void 0:d.url)===(null===(f=y.initSegment)||void 0===f?void 0:f.url)),R=new je.b(b,_,l,E,g,A);if(!_||b||A){o.b.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+u.sn+" p: "+u.part+" level: "+u.level+" id: "+u.id+"\n        discontinuity: "+b+"\n        trackSwitch: "+E+"\n        contiguous: "+_+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+g+"\n        initSegmentChange: "+A);var C=new je.a(n,r,t,s,c);this.configureTransmuxer(C)}if(this.frag=i,this.part=a,v)v.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:u,state:R},e instanceof ArrayBuffer?[e]:[]);else if(p){var x=p.push(e,m,u,R);Object(je.d)(x)?x.then((function(e){h.handleTransmuxComplete(e)})):this.handleTransmuxComplete(x)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(je.d)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}(),Ke=function(){function e(e,t,n,r){this.config=void 0,this.media=void 0,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.hls=this.fragmentTracker=this.media=null},t.poll=function(e){var t=this.config,n=this.media,r=this.stalled,i=n.currentTime,a=n.seeking,s=this.seeking&&!a,l=!this.seeking&&a;if(this.seeking=a,i===e){if((l||s)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&ie.getBuffered(n).length){var u=ie.bufferInfo(n,i,0),c=u.len>0,d=u.nextStart||0;if(c||d){if(a){var f=u.len>2,h=!d||d-i>2&&!this.fragmentTracker.getPartialFragment(i);if(f||h)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,v=Math.max(d,u.start||0)-i,g=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,m=(null==g||null===(p=g.details)||void 0===p?void 0:p.live)?2*g.details.targetduration:2;if(v>0&&v<=m)return void this._trySkipBufferHole(null)}var y=self.performance.now();if(null!==r){var b=y-r;!a&&b>=250&&this._reportStall(u.len);var E=ie.bufferInfo(n,i,t.maxBufferHole);this._tryFixBufferStall(E,b)}else this.stalled=y}}}else if(this.moved=!0,null!==r){if(this.stallReported){var T=self.performance.now()-r;o.b.warn("playback not stuck anymore @"+i+", after "+Math.round(T)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media.currentTime,a=r.getPartialFragment(i);a&&this._trySkipBufferHole(a)||e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(o.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,o.b.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+e+")"),t.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,n=this.hls,r=this.media,i=r.currentTime,l=0,u=ie.getBuffered(r),c=0;c<u.length;c++){var d=u.start(c);if(i+t.maxBufferHole>=l&&i<d){var f=Math.max(d+.05,r.currentTime+.1);return o.b.warn("skipping hole, adjusting currentTime from "+i+" to "+f),this.moved=!0,this.stalled=null,r.currentTime=f,e&&n.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+f,frag:e}),f}l=u.end(c)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=n.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var l=r+i*e.nudgeOffset;o.b.warn("Nudging 'currentTime' from "+r+" to "+l),n.currentTime=l,t.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else o.b.error("Playhead still not moving while enough data buffered @"+r+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_STALLED_ERROR,fatal:!0})},e}();function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ye(t,n);var l,c,d=r.prototype;return d._registerListeners=function(){var e=this.hls;e.on(a.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.a.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.a.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(a.a.ERROR,this.onError,this),e.on(a.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.a.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.a.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.a.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(a.a.FRAG_BUFFERED,this.onFragBuffered,this)},d._unregisterListeners=function(){var e=this.hls;e.off(a.a.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.a.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.a.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(a.a.ERROR,this.onError,this),e.off(a.a.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.a.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.a.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.a.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.a.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(a.a.FRAG_BUFFERED,this.onFragBuffered,this)},d.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},d.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=Re,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Ae},d.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},d.doTick=function(){switch(this.state){case Re:this.doTickIdle();break;case Fe:var e,t=this.levels,n=this.level,r=null==t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=Re;break}break;case ke:var i,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(i=this.media)&&void 0!==i&&i.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=Re)}this.onTickEnd()},d.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},d.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,i=this.levels,s=this.media,o=n.config,l=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&o.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&i&&i[l]){var c=i[l];this.level=n.nextLoadLevel=l;var d=c.details;if(!d||this.state===Fe||d.live&&this.levelLastLoaded!==l)this.state=Fe;else{var f=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:s,C.b.MAIN);if(null!==f&&!(f.len>=this.getMaxBufferLength(c.maxBitrate))){if(this._streamEnded(f,d)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(a.a.BUFFER_EOS,h),void(this.state=Ie)}var p=f.end,v=this.getNextFragment(p,d);if(this.couldBacktrack&&!this.fragPrevious&&v&&"initSegment"!==v.sn){var g=v.sn-d.startSN;g>1&&(v=d.fragments[g-1],this.fragmentTracker.removeFragment(v))}if(v&&this.fragmentTracker.getState(v)===X.OK&&this.nextLoadPosition>p){var m=this.audioOnly&&!this.altAudio?u.a.AUDIO:u.a.VIDEO;this.afterBufferFlushed(s,m,C.b.MAIN),v=this.getNextFragment(this.nextLoadPosition,d)}v&&(!v.initSegment||v.initSegment.data||this.bitrateTest||(v=v.initSegment),"identity"!==(null===(e=v.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=v.decryptdata)&&void 0!==t&&t.key?this.loadFragment(v,d,p):this.loadKey(v,d))}}}},d.loadFragment=function(t,n,r){var i,a=this.fragmentTracker.getState(t);if(this.fragCurrent=t,a===X.BACKTRACKED){var s=this.fragmentTracker.getBacktrackData(t);if(s)return this._handleFragmentLoadProgress(s),void this._handleFragmentLoadComplete(s);a=X.NOT_LOADED}a===X.NOT_LOADED||a===X.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):a===X.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},d.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,C.b.MAIN);return t&&"fragment"in t?t.fragment:t},d.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,C.b.MAIN)},d.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},d.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},d.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],a=this.fragLastKbps;n=a&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*a)+1:0}else n=0;var s=this.getBufferedFrag(t.currentTime+n);if(s){var o=this.followingBufferedFrag(s);if(o){this.abortCurrentFrag();var l=o.maxStartPTS?o.maxStartPTS:o.start,u=o.duration,c=Math.max(s.end,l+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,.5*u),.75*u));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},d.abortCurrentFrag=function(){var e=this.fragCurrent;this.fragCurrent=null,null!=e&&e.loader&&e.loader.abort(),this.state===Ce&&(this.state=Re),this.nextLoadPosition=this.getLoadPosition()},d.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},d.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new Ke(this.config,r,this.fragmentTracker,this.hls)},d.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},d.onMediaPlaying=function(){this.tick()},d.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(i.a)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},d.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.a.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null},d.onManifestParsed=function(e,t){var n,r,i,a=!1,s=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(a=!0),-1!==n.indexOf("mp4a.40.5")&&(s=!0))})),this.audioCodecSwitch=a&&s&&!("function"==typeof(null==(i=Be())||null===(r=i.prototype)||void 0===r?void 0:r.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},d.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===Re){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=Fe)}},d.onLevelLoaded=function(e,t){var n,r=this.levels,i=t.level,s=t.details,o=s.totalduration;if(r){this.log("Level "+i+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+o);var l=this.fragCurrent;!l||this.state!==xe&&this.state!==ke||l.level!==t.level&&l.loader&&(this.state=Re,l.loader.abort());var u=r[i],c=0;if(s.live||null!==(n=u.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;c=this.alignPlaylists(s,u.details)}if(u.details=s,this.levelLastLoaded=i,this.hls.trigger(a.a.LEVEL_UPDATED,{details:s,level:i}),this.state===Fe){if(this.waitForCdnTuneIn(s))return;this.state=Re}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,c),this.tick()}else this.warn("Levels were reset while loading level "+i)},d._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,a=this.levels;if(a){var s=a[n.level],o=s.details;if(o){var l=s.videoCodec,u=o.PTSKnown||!o.live,c=null===(t=n.initSegment)||void 0===t?void 0:t.data,d=this._getAudioCodec(s),f=this.transmuxer=this.transmuxer||new He(this.hls,C.b.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),h=r?r.index:-1,p=-1!==h,v=new ae(n.level,n.sn,n.stats.chunkCount,i.byteLength,h,p),g=this.initPTS[n.cc];f.push(i,c,d,l,n,r,o.totalduration,u,v,g)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},d.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var s=this.fragCurrent;null!=s&&s.loader&&(this.log("Switching to main audio track, cancel main fragment load"),s.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var o=this.hls;n&&o.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),o.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:i})}},d.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},d.onBufferCreated=function(e,t){var n,r,i=t.tracks,a=!1;for(var s in i){var o=i[s];if("main"===o.id){if(r=s,n=o,"video"===s){var l=i[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},d.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===C.b.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===we&&(this.state=Re));var i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},d.onError=function(e,t){switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:case s.a.KEY_LOAD_ERROR:case s.a.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(C.b.MAIN,t);break;case s.a.LEVEL_LOAD_ERROR:case s.a.LEVEL_LOAD_TIMEOUT:this.state!==Pe&&(t.fatal?(this.warn(""+t.details),this.state=Pe):t.levelRetry||this.state!==Fe||(this.state=Re));break;case s.a.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===De||this.state===we)){var n=!0,r=this.getFwdBufferInfo(this.media,C.b.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},d.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=ie.getBuffered(e);!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this.seekToStartPos()):t.poll(this.lastCurrentTime),this.lastCurrentTime=e.currentTime}},d.onFragLoadEmergencyAborted=function(){this.state=Re,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},d.onBufferFlushed=function(e,t){var n=t.type;if(n!==u.a.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===u.a.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,C.b.MAIN)}},d.onLevelsUpdated=function(e,t){this.levels=t.levels},d.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},d.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void o.b.log("could not seek to "+n+", already seeking at "+t);var r=ie.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(o.b.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},d._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},d._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=Re,t.startFragRequested=!1,t.bitrateTest=!1;var i=e.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(a.a.FRAG_LOADED,n)}}))},d._handleTransmuxComplete=function(e){var t,n="main",r=this.hls,s=e.remuxResult,o=e.chunkMeta,l=this.getCurrentContext(o);if(!l)return this.warn("The loading context changed while buffering fragment "+o.sn+" of level "+o.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(o.level);var c=l.frag,d=l.part,f=l.level,h=s.video,p=s.text,v=s.id3,g=s.initSegment,m=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(c)){if(this.state=De,g){g.tracks&&(this._bufferInitSegment(f,g.tracks,c,o),r.trigger(a.a.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:g.tracks}));var y=g.initPTS,b=g.timescale;Object(i.a)(y)&&(this.initPTS[c.cc]=y,r.trigger(a.a.INIT_PTS_FOUND,{frag:c,id:n,initPTS:y,timescale:b}))}if(h&&!1!==s.independent){if(f.details){var E=h.startPTS,T=h.endPTS,S=h.startDTS,_=h.endDTS;if(d)d.elementaryStreams[h.type]={startPTS:E,endPTS:T,startDTS:S,endDTS:_};else if(h.firstKeyFrame&&h.independent&&(this.couldBacktrack=!0),h.dropped&&h.independent){if(this.getLoadPosition()+this.config.maxBufferHole<E)return void this.backtrack(c);c.setElementaryStreamInfo(h.type,c.start,T,c.start,_,!0)}c.setElementaryStreamInfo(h.type,E,T,S,_),this.bufferFragmentData(h,c,d,o)}}else if(!1===s.independent)return void this.backtrack(c);if(m){var L=m.startPTS,A=m.endPTS,R=m.startDTS,C=m.endDTS;d&&(d.elementaryStreams[u.a.AUDIO]={startPTS:L,endPTS:A,startDTS:R,endDTS:C}),c.setElementaryStreamInfo(u.a.AUDIO,L,A,R,C),this.bufferFragmentData(m,c,d,o)}if(null!=v&&null!==(t=v.samples)&&void 0!==t&&t.length){var x={frag:c,id:n,samples:v.samples};r.trigger(a.a.FRAG_PARSING_METADATA,x)}if(p){var k={frag:c,id:n,samples:p.samples};r.trigger(a.a.FRAG_PARSING_USERDATA,k)}}},d._bufferInitSegment=function(e,t,n,r){var i=this;if(this.state===De){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,o=t.video,l=t.audiovideo;if(s){var u=e.audioCodec,c=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===c.indexOf("firefox")&&(u="mp4a.40.5")),-1!==c.indexOf("android")&&"audio/mpeg"!==s.container&&(u="mp4a.40.2",this.log("Android: force audio codec to "+u)),e.audioCodec&&e.audioCodec!==u&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+u+'"'),s.levelCodec=u,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(u||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log("Init video buffer, container:"+o.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+o.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(a.a.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var s=t[e].initSegment;null!=s&&s.byteLength&&i.hls.trigger(a.a.BUFFER_APPENDING,{type:e,data:s,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},d.backtrack=function(e){this.couldBacktrack=!0,this.resetTransmuxer(),this.flushBufferGap(e);var t=this.fragmentTracker.backtrack(e);this.fragPrevious=null,this.nextLoadPosition=e.start,t?this.resetFragmentLoading(e):this.state=Oe},d.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(ie.isBuffered(e,n)?t=this.getAppendedFrag(n):ie.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(a.a.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(a.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},l=r,(c=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;if(e){var t=this.getAppendedFrag(e.currentTime);return this.followingBufferedFrag(t)}return null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&We(l.prototype,c),r}(Me),ze=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}(),qe=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ze(e),this.fast_=new ze(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,r=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new ze(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new ze(t,r.getEstimate(),r.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new qe(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,n,r=e.prototype;return r.registerListeners=function(){var e=this.hls;e.on(a.a.FRAG_LOADING,this.onFragLoading,this),e.on(a.a.FRAG_LOADED,this.onFragLoaded,this),e.on(a.a.FRAG_BUFFERED,this.onFragBuffered,this),e.on(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.a.ERROR,this.onError,this)},r.unregisterListeners=function(){var e=this.hls;e.off(a.a.FRAG_LOADING,this.onFragLoading,this),e.off(a.a.FRAG_LOADED,this.onFragLoaded,this),e.off(a.a.FRAG_BUFFERED,this.onFragBuffered,this),e.off(a.a.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.a.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},r.onFragLoading=function(e,t){var n,r=t.frag;r.type===C.b.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},r.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},r._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.autoLevelEnabled,s=n.config,l=n.media;if(e&&l){var u=t?t.stats:e.stats,c=t?t.duration:e.duration;if(u.aborted)return o.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(r&&!l.paused&&l.playbackRate&&l.readyState){var d=performance.now()-u.loading.start,f=Math.abs(l.playbackRate);if(!(d<=500*c/f)){var h=n.levels,p=n.minAutoLevel,v=h[e.level],g=u.total||Math.max(u.loaded,Math.round(c*v.maxBitrate/8)),m=Math.max(1,u.bwEstimate?u.bwEstimate/8:1e3*u.loaded/d),y=(g-u.loaded)/m,b=l.currentTime,E=(ie.bufferInfo(l,b,s.maxBufferHole).end-b)/f;if(!(E>=2*c/f||y<=E)){var T,S=Number.POSITIVE_INFINITY;for(T=e.level-1;T>p&&!((S=c*h[T].maxBitrate/(6.4*m))<E);T--);if(!(S>=y)){var _=this.bwEstimator.getEstimate();o.b.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+T+"\n      Current BW estimate: "+(Object(i.a)(_)?(_/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+y.toFixed(3)+" s\n      Estimated load time for the next fragment: "+S.toFixed(3)+" s\n      Time to underbuffer: "+E.toFixed(3)+" s"),n.nextLoadLevel=T,this.bwEstimator.sample(d,u.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(a.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:u})}}}}}},r.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if(n.type===C.b.MAIN&&Object(i.a)(n.sn)){var s=r?r.stats:n.stats,o=r?r.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],u=(l.loaded?l.loaded.bytes:0)+s.loaded,c=(l.loaded?l.loaded.duration:0)+o;l.loaded={bytes:u,duration:c},l.realBitrate=Math.round(8*u/c)}if(n.bitrateTest){var d={stats:s,frag:n,part:r,id:n.type};this.onFragBuffered(a.a.FRAG_BUFFERED,d),n.bitrateTest=!1}}},r.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===C.b.MAIN&&"initSegment"!==n.sn){var a=i.parsing.end-i.loading.start;this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},r.onError=function(e,t){switch(t.details){case s.a.FRAG_LOAD_ERROR:case s.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},r.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,a=n.minAutoLevel,s=n.media,l=t?t.duration:e?e.duration:0,u=s?s.currentTime:0,c=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,f=(ie.bufferInfo(s,u,i.maxBufferHole).end-u)/c,h=this.findBestLevel(d,a,r,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;o.b.trace((f?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var p=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!f){var m=this.bitrateTestDelay;m&&(p=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-m,o.b.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),v=g=1)}return h=this.findBestLevel(d,a,r,f+p,v,g),Math.max(h,0)},r.findBestLevel=function(e,t,n,r,i,a){for(var s,l=this.fragCurrent,u=this.partCurrent,c=this.lastLoadedFragLevel,d=this.hls.levels,f=d[c],h=!(null==f||null===(s=f.details)||void 0===s||!s.live),p=null==f?void 0:f.codecSet,v=u?u.duration:l?l.duration:0,g=n;g>=t;g--){var m=d[g];if(m&&(!p||m.codecSet===p)){var y,b=m.details,E=(u?null==b?void 0:b.partTarget:null==b?void 0:b.averagetargetduration)||v;y=g<=c?i*e:a*e;var T=d[g].maxBitrate,S=T*E/y;if(o.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(y)+"/"+T+"/"+E+"/"+r+"/"+S),y>T&&(!S||h&&!this.bitrateTestDelay||S<r))return g}}return-1},t=e,(n=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}])&&Xe(t.prototype,n),e}(),Ze=n(10),Je=n.n(Ze),et=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,r=t[e],i=n[e];if(i.length){var a=i[0];try{a.execute()}catch(t){o.b.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(t),r&&r.updating||(i.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}(),tt=Ne(),nt=/([ha]vc.)(?:\.[^.,]+)+/,rt=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;o.b.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(a.a.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.b.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.b.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(a.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.a.BUFFER_RESET,this.onBufferReset,this),e.on(a.a.BUFFER_APPENDING,this.onBufferAppending,this),e.on(a.a.BUFFER_CODECS,this.onBufferCodecs,this),e.on(a.a.BUFFER_EOS,this.onBufferEos,this),e.on(a.a.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(a.a.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(a.a.FRAG_PARSED,this.onFragParsed,this),e.on(a.a.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(a.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(a.a.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.a.BUFFER_RESET,this.onBufferReset,this),e.off(a.a.BUFFER_APPENDING,this.onBufferAppending,this),e.off(a.a.BUFFER_CODECS,this.onBufferCodecs,this),e.off(a.a.BUFFER_EOS,this.onBufferEos,this),e.off(a.a.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(a.a.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(a.a.FRAG_PARSED,this.onFragParsed,this),e.off(a.a.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new et(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,o.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&tt){var r=this.mediaSource=new tt;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(o.b.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){o.b.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):o.b.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(a.a.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(e){o.b.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a=t[e],s=a.codec,o=a.levelCodec,l=a.container;if((i.levelCodec||i.codec).replace(nt,"$1")!==(o||s).replace(nt,"$1")){var u=l+";codecs="+(o||s);n.appendChangeType(e,u)}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(o.b.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.b.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,i=this.operationQueue,l=this.tracks,u=t.data,c=t.type,d=t.frag,f=t.part,h=t.chunkMeta,p=h.buffering[c],v=self.performance.now();p.start=v;var g=d.stats.buffering,m=f?f.stats.buffering:null;0===g.start&&(g.start=v),m&&0===m.start&&(m.start=v);var y=l.audio,b="audio"===c&&1===h.id&&"audio/mpeg"===(null==y?void 0:y.container),E={execute:function(){if(p.executeStart=self.performance.now(),b){var e=n.sourceBuffer[c];if(e){var t=d.start-e.timestampOffset;Math.abs(t)>=.1&&(o.b.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+d.start+" (delta: "+t+") sn: "+d.sn+")"),e.timestampOffset=d.start)}}n.appendExecutor(u,c)},onStart:function(){},onComplete:function(){var e=self.performance.now();p.executeEnd=p.end=e,0===g.first&&(g.first=e),m&&0===m.first&&(m.first=e);var t=n.sourceBuffer,r={};for(var i in t)r[i]=ie.getBuffered(t[i]);n.appendError=0,n.hls.trigger(a.a.BUFFER_APPENDED,{type:c,frag:d,part:f,chunkMeta:h,parent:d.type,timeRanges:r})},onError:function(e){o.b.error("[buffer-controller]: Error encountered while trying to append to the "+c+" SourceBuffer",e);var t={type:s.b.MEDIA_ERROR,parent:d.type,details:s.a.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=s.a.BUFFER_FULL_ERROR:(n.appendError++,t.details=s.a.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(o.b.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(a.a.ERROR,t)}};i.append(E,c)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,i=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(a.a.BUFFER_FLUSHED,{type:e})},onError:function(t){o.b.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(i(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,i=t.part,s=[],l=i?i.elementaryStreams:r.elementaryStreams;l[u.a.AUDIOVIDEO]?s.push("audiovideo"):(l[u.a.AUDIO]&&s.push("audio"),l[u.a.VIDEO]&&s.push("video")),0===s.length&&o.b.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:r.stats;n.hls.trigger(a.a.FRAG_BUFFERED,{frag:r,part:i,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,o.b.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,r=this.sourceBuffer;if(n&&null!==t){var s=this.getSourceBufferTypes();if(s.length){var o=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(i.a)(o)&&!(o<0)){var l=n.currentTime,u=t.levelTargetDuration,c=Math.max(o,u),d=Math.floor(l/u)*u-c;s.forEach((function(n){var i=r[n];if(i){var s=ie.getBuffered(i);s.length>0&&d>s.start(0)&&(e.trigger(a.a.BACK_BUFFER_REACHED,{bufferEnd:d}),t.live&&e.trigger(a.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:d}),e.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:d,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,r=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=n.duration,l=Object(i.a)(r.duration)?r.duration:0;e.live&&t.config.liveDurationInfinity?(o.b.log("[buffer-controller]: Media Source duration is set to Infinity"),r.duration=1/0,this.updateSeekableRange(e)):(a>l&&a>s||!Object(i.a)(s))&&(o.b.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),r.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!=t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var i=this.getSourceBufferTypes();if(0===i.length)return void this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});i.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var i in e)if(!t[i]){var l=e[i];if(!l)throw Error("source buffer exists for track "+i+", however track does not");var u=l.levelCodec||l.codec,c=l.container+";codecs="+u;o.b.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var d=t[i]=n.addSourceBuffer(c),f=i;this.addBufferListener(f,"updatestart",this._onSBUpdateStart),this.addBufferListener(f,"updateend",this._onSBUpdateEnd),this.addBufferListener(f,"error",this._onSBUpdateError),this.tracks[i]={buffer:d,codec:u,container:l.container,levelCodec:l.levelCodec,id:l.id},r++}catch(e){o.b.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:c})}}r&&this.hls.trigger(a.a.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.b.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(a.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var r=this.media,a=this.mediaSource,s=this.operationQueue,l=this.sourceBuffer[e];if(!r||!a||!l)return o.b.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var u=Object(i.a)(r.duration)?r.duration:1/0,c=Object(i.a)(a.duration)?a.duration:1/0,d=Math.max(0,t),f=Math.min(n,u,c);f>d?(o.b.log("[buffer-controller]: Removing ["+d+","+f+"] from the "+e+" SourceBuffer"),l.remove(d,f)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return o.b.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.b.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}();function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,n,r,i=e.prototype;return i.setStreamController=function(e){this.streamController=e},i.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},i.registerListeners=function(){var e=this.hls;e.on(a.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(a.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.a.BUFFER_CODECS,this.onBufferCodecs,this),e.on(a.a.MEDIA_DETACHING,this.onMediaDetaching,this)},i.unregisterListener=function(){var e=this.hls;e.off(a.a.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(a.a.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(a.a.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.a.BUFFER_CODECS,this.onBufferCodecs,this),e.off(a.a.MEDIA_DETACHING,this.onMediaDetaching,this)},i.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},i.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},i.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},i.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},i.onMediaDetaching=function(){this.stopCapping()},i.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},i.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},i.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},i.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},i.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,a=e.length-1,s=0;s<e.length;s+=1){var o=e[s];if((o.width>=t||o.height>=n)&&(r=o,!(i=e[s+1])||r.width!==i.width||r.height!==i.height)){a=s;break}}return a},t=e,r=[{key:"contentScaleFactor",get:function(){var e=1;try{e=self.devicePixelRatio}catch(e){}return e}}],(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}])&&it(t.prototype,n),r&&it(t,r),e}(),st=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(a.a.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(a.a.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"==typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,s=n-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*s/i,c=this.hls;if(c.trigger(a.a.FPS_DROP,{currentDropped:s,currentDecoded:l,totalDroppedFrames:n}),u>0&&s>c.config.fpsDroppedMonitoringThreshold*l){var d=c.currentLevel;o.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(a.a.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}(),ot=n(12),lt=/^age:\s*[\d.]+\s*$/m,ut=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new ot.a,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(e){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0);var a=this.context.headers;if(a)for(var s in a)n.setRequestHeader(s,a[s])}catch(e){return void this.callbacks.onError({code:n.status,text:e.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var r=t.readyState,i=this.config;if(!n.aborted&&r>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===r){t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var s,l;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),l="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=l,!this.callbacks)return;var u=this.callbacks.onProgress;if(u&&u(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,e,t)}else n.retry>=i.maxRetry||a>=400&&a<499?(o.b.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t)):(o.b.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout)}},t.loadtimeout=function(){o.b.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&lt.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}(),ct=n(16);function dt(e){var t="function"==typeof Map?new Map:void 0;return(dt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ft(e,arguments,vt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pt(r,e)})(e)}function ft(e,t,n){return(ft=ht()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&pt(i,n.prototype),i}).apply(null,arguments)}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mt=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||yt,this.controller=new self.AbortController,this.stats=new ot.a}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var r=this,a=this.stats;if(a.loading.start)throw new Error("Loader can only be used once.");a.loading.start=self.performance.now();var s=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(gt({},e.headers))};return e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),n}(e,this.controller.signal),o=n.onProgress,l="arraybuffer"===e.responseType,u=l?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){r.abortInternal(),n.onTimeout(a,e,r.response)}),t.timeout),self.fetch(this.request).then((function(n){if(r.response=r.loader=n,!n.ok){var s=n.status,u=n.statusText;throw new Et(u||"fetch, bad network response",s,n)}return a.loading.first=Math.max(self.performance.now(),a.loading.start),a.total=parseInt(n.headers.get("Content-Length")||"0"),o&&Object(i.a)(t.highWaterMark)?r.loadProgressively(n,a,e,t.highWaterMark,o):l?n.arrayBuffer():n.text()})).then((function(s){var l=r.response;self.clearTimeout(r.requestTimeout),a.loading.end=Math.max(self.performance.now(),a.loading.first),a.loaded=a.total=s[u];var c={url:l.url,data:s};o&&!Object(i.a)(t.highWaterMark)&&o(a,e,s,l),n.onSuccess(c,a,e,l)})).catch((function(t){if(self.clearTimeout(r.requestTimeout),!a.aborted){var i=t.code||0;n.onError({code:i,text:t.message},e,t.details)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var a=new ct.a,s=e.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,u=l.length;return t.loaded+=u,u<r||a.dataLength?(a.push(l),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,l,e),o()})).catch((function(){return Promise.reject()}))}()},e}();function yt(e,t){return new self.Request(e.url,t)}var bt,Et=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,pt(t,n),r}(dt(Error)),Tt=mt;!function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(bt||(bt={}));var St="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=At(At({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ut,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Qe,bufferController:rt,capLevelController:at,fpsController:st,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:St,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0},{cueHandler:Je.a,enableCEA708Captions:!1,enableWebVTT:!1,enableIMSC1:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0});function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kt=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Ge.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var n=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return _t({},e,t)}(e.DefaultConfig,t);this.userConfig=t,Object(o.a)(n.debug),this._autoLevelCapping=-1,n.progressive&&function(e){var t=e.loader;t!==Tt&&t!==ut?(o.b.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}()&&(e.loader=Tt,e.progressive=!0,e.enableSoftwareAES=!0,o.b.log("[config]: Progressive streaming enabled, using FetchLoader"))}(n);var r=n.abrController,i=n.bufferController,a=n.capLevelController,s=n.fpsController,l=this.abrController=new r(this),u=this.bufferController=new i(this),c=this.capLevelController=new a(this),d=new s(this),f=new k(this),h=new D(this),p=new I(this),v=this.levelController=new Z(this),g=new J(this),m=this.streamController=new $e(this,g);c.setStreamController(m),d.setStreamController(m);var y=[v,m];this.networkControllers=y;var b=[f,h,l,u,c,d,p,g];this.audioTrackController=this.createController(n.audioTrackController,null,y),this.createController(n.audioStreamController,g,y),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,y),this.createController(n.subtitleStreamController,g,y),this.createController(n.timelineController,null,b),this.emeController=this.createController(n.emeController,null,b),this.cmcdController=this.createController(n.cmcdController,null,b),this.latencyController=this.createController(M,null,b),this.coreComponents=b}e.isSupported=function(){return function(){var e=Ne();if(!e)return!1;var t=Be(),n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!r}()};var t,n,i,l=e.prototype;return l.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},l.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},l.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},l.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},l.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},l.listeners=function(e){return this._emitter.listeners(e)},l.emit=function(e,t,n){return this._emitter.emit(e,t,n)},l.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){o.b.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(a.a.ERROR,{type:s.b.OTHER_ERROR,details:s.a.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},l.listenerCount=function(e){return this._emitter.listenerCount(e)},l.destroy=function(){o.b.log("destroy"),this.trigger(a.a.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},l.attachMedia=function(e){o.b.log("attachMedia"),this._media=e,this.trigger(a.a.MEDIA_ATTACHING,{media:e})},l.detachMedia=function(){o.b.log("detachMedia"),this.trigger(a.a.MEDIA_DETACHING,void 0),this._media=null},l.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});o.b.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(a.a.MANIFEST_LOADING,{url:e})},l.startLoad=function(e){void 0===e&&(e=-1),o.b.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},l.stopLoad=function(){o.b.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},l.swapAudioCodec=function(){o.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},l.recoverMediaError=function(){o.b.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},l.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,i=[{key:"version",get:function(){return"1.1.5"}},{key:"Events",get:function(){return a.a}},{key:"ErrorTypes",get:function(){return s.b}},{key:"ErrorDetails",get:function(){return s.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:Ct},set:function(t){e.defaultConfig=t}}],(n=[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){o.b.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){o.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){o.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){o.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){o.b.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(o.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&xt(t.prototype,n),i&&xt(t,i),e}();kt.defaultConfig=void 0}]).default)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";n.d(r,{default:()=>i});var e=n(182),t=n.n(e);class i extends Audio{constructor(){super();const e="rplayer-volume";this.hls=null,localStorage.hasOwnProperty(e)?this.volume=localStorage.getItem(e):this.volume=.2,this.onvolumechange=()=>{localStorage.setItem(e,this.volume)}}rewind(e){this.currentTime=this.currentTime-e}playSrc(e){const n=e.indexOf(".m3u8")>0;this.stop(),t().isSupported()&&n?(this.hls=new(t()),this.hls.loadSource(e),this.hls.attachMedia(this),this.hls.on(t().Events.MANIFEST_PARSED,(()=>{this.play()}))):(this.canPlayType("application/vnd.apple.mpegurl")||t().isSupported()&&!n)&&(this.src=e,this.addEventListener("loadedmetadata",(()=>{this.play()})))}mute(){this.muted=!this.muted}stop(){this.pause(),this.currentTime=0,this.hls&&(this.hls.destroy(),this.hls=null)}upVolume(){this.#e(this.volume+.1)}downVolume(){this.#e(this.volume-.1)}#e(e){e>=0&&e<=1&&(this.volume=Number(e).toFixed(1))}get isHls(){return this.hls instanceof t()}get url(){return this.isHls?this.hls.url:this.src}get playing(){return this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2}}})(),r.default})()))},942:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>h,HY:()=>Qs,Ko:()=>oa,Uk:()=>_o,Wm:()=>bo,_:()=>yo,iD:()=>uo,j4:()=>co,ri:()=>pc,up:()=>Hi,wg:()=>ro,zw:()=>y});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",a=r(i),s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",o=r(s);function l(e){return!!e||""===e}function u(e){if(w(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=M(r)?f(r):u(r);if(i)for(const e in i)t[e]=i[e]}return t}return M(e)||B(e)?e:void 0}const c=/;(?![^(]*\))/g,d=/:(.+)/;function f(e){const t={};return e.split(c).forEach((e=>{if(e){const n=e.split(d);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function h(e){let t="";if(M(e))t=e;else if(w(e))for(let n=0;n<e.length;n++){const r=h(e[n]);r&&(t+=r+" ")}else if(B(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e){if(!e)return null;let{class:t,style:n}=e;return t&&!M(t)&&(e.class=h(t)),n&&(e.style=u(n)),e}function v(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=g(e[r],t[r]);return n}function g(e,t){if(e===t)return!0;let n=P(e),r=P(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=N(e),r=N(t),n||r)return e===t;if(n=w(e),r=w(t),n||r)return!(!n||!r)&&v(e,t);if(n=B(e),r=B(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!g(e[n],t[n]))return!1}}return String(e)===String(t)}function m(e,t){return e.findIndex((e=>g(e,t)))}const y=e=>M(e)?e:null==e?"":w(e)||B(e)&&(e.toString===j||!F(e.toString))?JSON.stringify(e,b,2):String(e),b=(e,t)=>t&&t.__v_isRef?b(e,t.value):O(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:I(t)?{[`Set(${t.size})`]:[...t.values()]}:!B(t)||w(t)||H(t)?t:String(t),E={},T=[],S=()=>{},_=()=>!1,L=/^on[^a-z]/,A=e=>L.test(e),R=e=>e.startsWith("onUpdate:"),C=Object.assign,x=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,D=(e,t)=>k.call(e,t),w=Array.isArray,O=e=>"[object Map]"===G(e),I=e=>"[object Set]"===G(e),P=e=>"[object Date]"===G(e),F=e=>"function"===typeof e,M=e=>"string"===typeof e,N=e=>"symbol"===typeof e,B=e=>null!==e&&"object"===typeof e,U=e=>B(e)&&F(e.then)&&F(e.catch),j=Object.prototype.toString,G=e=>j.call(e),V=e=>G(e).slice(8,-1),H=e=>"[object Object]"===G(e),K=e=>M(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,W=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Y=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},$=/-(\w)/g,z=Y((e=>e.replace($,((e,t)=>t?t.toUpperCase():"")))),q=/\B([A-Z])/g,X=Y((e=>e.replace(q,"-$1").toLowerCase())),Q=Y((e=>e.charAt(0).toUpperCase()+e.slice(1))),Z=Y((e=>e?`on${Q(e)}`:"")),J=(e,t)=>!Object.is(e,t),ee=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},te=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ne=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let re;const ie=()=>re||(re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});let ae;class se{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ae&&(this.parent=ae,this.index=(ae.scopes||(ae.scopes=[])).push(this)-1)}run(e){if(this.active){const t=ae;try{return ae=this,e()}finally{ae=t}}else 0}on(){ae=this}off(){ae=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function oe(e){return new se(e)}function le(e,t=ae){t&&t.active&&t.effects.push(e)}function ue(){return ae}function ce(e){ae&&ae.cleanups.push(e)}const de=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fe=e=>(e.w&ye)>0,he=e=>(e.n&ye)>0,pe=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ye},ve=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];fe(i)&&!he(i)?i.delete(e):t[n++]=i,i.w&=~ye,i.n&=~ye}t.length=n}},ge=new WeakMap;let me=0,ye=1;const be=30;let Ee;const Te=Symbol(""),Se=Symbol("");class _e{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,le(this,n)}run(){if(!this.active)return this.fn();let e=Ee,t=Ce;while(e){if(e===this)return;e=e.parent}try{return this.parent=Ee,Ee=this,Ce=!0,ye=1<<++me,me<=be?pe(this):Le(this),this.fn()}finally{me<=be&&ve(this),ye=1<<--me,Ee=this.parent,Ce=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ee===this?this.deferStop=!0:this.active&&(Le(this),this.onStop&&this.onStop(),this.active=!1)}}function Le(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Ae(e,t){e.effect&&(e=e.effect.fn);const n=new _e(e);t&&(C(n,t),t.scope&&le(n,t.scope)),t&&t.lazy||n.run();const r=n.run.bind(n);return r.effect=n,r}function Re(e){e.effect.stop()}let Ce=!0;const xe=[];function ke(){xe.push(Ce),Ce=!1}function De(){const e=xe.pop();Ce=void 0===e||e}function we(e,t,n){if(Ce&&Ee){let t=ge.get(e);t||ge.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=de());const i=void 0;Oe(r,i)}}function Oe(e,t){let n=!1;me<=be?he(e)||(e.n|=ye,n=!fe(e)):n=!e.has(Ee),n&&(e.add(Ee),Ee.deps.push(e))}function Ie(e,t,n,r,i,a){const s=ge.get(e);if(!s)return;let o=[];if("clear"===t)o=[...s.values()];else if("length"===n&&w(e))s.forEach(((e,t)=>{("length"===t||t>=r)&&o.push(e)}));else switch(void 0!==n&&o.push(s.get(n)),t){case"add":w(e)?K(n)&&o.push(s.get("length")):(o.push(s.get(Te)),O(e)&&o.push(s.get(Se)));break;case"delete":w(e)||(o.push(s.get(Te)),O(e)&&o.push(s.get(Se)));break;case"set":O(e)&&o.push(s.get(Te));break}if(1===o.length)o[0]&&Pe(o[0]);else{const e=[];for(const t of o)t&&e.push(...t);Pe(de(e))}}function Pe(e,t){const n=w(e)?e:[...e];for(const r of n)r.computed&&Fe(r,t);for(const r of n)r.computed||Fe(r,t)}function Fe(e,t){(e!==Ee||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Me=r("__proto__,__v_isRef,__isVue"),Ne=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(N)),Be=Ke(),Ue=Ke(!1,!0),je=Ke(!0),Ge=Ke(!0,!0),Ve=He();function He(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Bt(this);for(let t=0,i=this.length;t<i;t++)we(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Bt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ke();const n=Bt(this)[t].apply(this,e);return De(),n}})),e}function Ke(e=!1,t=!1){return function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&i===(e?t?Rt:At:t?Lt:_t).get(n))return n;const a=w(n);if(!e&&a&&D(Ve,r))return Reflect.get(Ve,r,i);const s=Reflect.get(n,r,i);return(N(r)?Ne.has(r):Me(r))?s:(e||we(n,"get",r),t?s:Kt(s)?a&&K(r)?s:s.value:B(s)?e?wt(s):kt(s):s)}}const We=$e(),Ye=$e(!0);function $e(e=!1){return function(t,n,r,i){let a=t[n];if(Ft(a)&&Kt(a)&&!Kt(r))return!1;if(!e&&!Ft(r)&&(Mt(r)||(r=Bt(r),a=Bt(a)),!w(t)&&Kt(a)&&!Kt(r)))return a.value=r,!0;const s=w(t)&&K(n)?Number(n)<t.length:D(t,n),o=Reflect.set(t,n,r,i);return t===Bt(i)&&(s?J(r,a)&&Ie(t,"set",n,r,a):Ie(t,"add",n,r)),o}}function ze(e,t){const n=D(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Ie(e,"delete",t,void 0,r),i}function qe(e,t){const n=Reflect.has(e,t);return N(t)&&Ne.has(t)||we(e,"has",t),n}function Xe(e){return we(e,"iterate",w(e)?"length":Te),Reflect.ownKeys(e)}const Qe={get:Be,set:We,deleteProperty:ze,has:qe,ownKeys:Xe},Ze={get:je,set(e,t){return!0},deleteProperty(e,t){return!0}},Je=C({},Qe,{get:Ue,set:Ye}),et=C({},Ze,{get:Ge}),tt=e=>e,nt=e=>Reflect.getPrototypeOf(e);function rt(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Bt(e),a=Bt(t);n||(t!==a&&we(i,"get",t),we(i,"get",a));const{has:s}=nt(i),o=r?tt:n?Gt:jt;return s.call(i,t)?o(e.get(t)):s.call(i,a)?o(e.get(a)):void(e!==i&&e.get(t))}function it(e,t=!1){const n=this["__v_raw"],r=Bt(n),i=Bt(e);return t||(e!==i&&we(r,"has",e),we(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function at(e,t=!1){return e=e["__v_raw"],!t&&we(Bt(e),"iterate",Te),Reflect.get(e,"size",e)}function st(e){e=Bt(e);const t=Bt(this),n=nt(t),r=n.has.call(t,e);return r||(t.add(e),Ie(t,"add",e,e)),this}function ot(e,t){t=Bt(t);const n=Bt(this),{has:r,get:i}=nt(n);let a=r.call(n,e);a||(e=Bt(e),a=r.call(n,e));const s=i.call(n,e);return n.set(e,t),a?J(t,s)&&Ie(n,"set",e,t,s):Ie(n,"add",e,t),this}function lt(e){const t=Bt(this),{has:n,get:r}=nt(t);let i=n.call(t,e);i||(e=Bt(e),i=n.call(t,e));const a=r?r.call(t,e):void 0,s=t.delete(e);return i&&Ie(t,"delete",e,void 0,a),s}function ut(){const e=Bt(this),t=0!==e.size,n=void 0,r=e.clear();return t&&Ie(e,"clear",void 0,void 0,n),r}function ct(e,t){return function(n,r){const i=this,a=i["__v_raw"],s=Bt(a),o=t?tt:e?Gt:jt;return!e&&we(s,"iterate",Te),a.forEach(((e,t)=>n.call(r,o(e),o(t),i)))}}function dt(e,t,n){return function(...r){const i=this["__v_raw"],a=Bt(i),s=O(a),o="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,u=i[e](...r),c=n?tt:t?Gt:jt;return!t&&we(a,"iterate",l?Se:Te),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:o?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function ft(e){return function(...t){return"delete"!==e&&this}}function ht(){const e={get(e){return rt(this,e)},get size(){return at(this)},has:it,add:st,set:ot,delete:lt,clear:ut,forEach:ct(!1,!1)},t={get(e){return rt(this,e,!1,!0)},get size(){return at(this)},has:it,add:st,set:ot,delete:lt,clear:ut,forEach:ct(!1,!0)},n={get(e){return rt(this,e,!0)},get size(){return at(this,!0)},has(e){return it.call(this,e,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:ct(!0,!1)},r={get(e){return rt(this,e,!0,!0)},get size(){return at(this,!0)},has(e){return it.call(this,e,!0)},add:ft("add"),set:ft("set"),delete:ft("delete"),clear:ft("clear"),forEach:ct(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=dt(i,!1,!1),n[i]=dt(i,!0,!1),t[i]=dt(i,!1,!0),r[i]=dt(i,!0,!0)})),[e,n,t,r]}const[pt,vt,gt,mt]=ht();function yt(e,t){const n=t?e?mt:gt:e?vt:pt;return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(D(n,r)&&r in t?n:t,r,i)}const bt={get:yt(!1,!1)},Et={get:yt(!1,!0)},Tt={get:yt(!0,!1)},St={get:yt(!0,!0)};const _t=new WeakMap,Lt=new WeakMap,At=new WeakMap,Rt=new WeakMap;function Ct(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xt(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ct(V(e))}function kt(e){return Ft(e)?e:It(e,!1,Qe,bt,_t)}function Dt(e){return It(e,!1,Je,Et,Lt)}function wt(e){return It(e,!0,Ze,Tt,At)}function Ot(e){return It(e,!0,et,St,Rt)}function It(e,t,n,r,i){if(!B(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=i.get(e);if(a)return a;const s=xt(e);if(0===s)return e;const o=new Proxy(e,2===s?r:n);return i.set(e,o),o}function Pt(e){return Ft(e)?Pt(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ft(e){return!(!e||!e["__v_isReadonly"])}function Mt(e){return!(!e||!e["__v_isShallow"])}function Nt(e){return Pt(e)||Ft(e)}function Bt(e){const t=e&&e["__v_raw"];return t?Bt(t):e}function Ut(e){return te(e,"__v_skip",!0),e}const jt=e=>B(e)?kt(e):e,Gt=e=>B(e)?wt(e):e;function Vt(e){Ce&&Ee&&(e=Bt(e),Oe(e.dep||(e.dep=de())))}function Ht(e,t){e=Bt(e),e.dep&&Pe(e.dep)}function Kt(e){return!(!e||!0!==e.__v_isRef)}function Wt(e){return $t(e,!1)}function Yt(e){return $t(e,!0)}function $t(e,t){return Kt(e)?e:new zt(e,t)}class zt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Bt(e),this._value=t?e:jt(e)}get value(){return Vt(this),this._value}set value(e){e=this.__v_isShallow?e:Bt(e),J(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:jt(e),Ht(this,e))}}function qt(e){Ht(e,void 0)}function Xt(e){return Kt(e)?e.value:e}const Qt={get:(e,t,n)=>Xt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Kt(i)&&!Kt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Zt(e){return Pt(e)?e:new Proxy(e,Qt)}class Jt{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>Vt(this)),(()=>Ht(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function en(e){return new Jt(e)}function tn(e){const t=w(e)?new Array(e.length):{};for(const n in e)t[n]=rn(e,n);return t}class nn{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function rn(e,t,n){const r=e[t];return Kt(r)?r:new nn(e,t,n)}class an{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _e(e,(()=>{this._dirty||(this._dirty=!0,Ht(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Bt(this);return Vt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function sn(e,t,n=!1){let r,i;const a=F(e);a?(r=e,i=S):(r=e.get,i=e.set);const s=new an(r,i,a||!i,n);return s}const on=[];function ln(e,...t){ke();const n=on.length?on[on.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=un();if(r)pn(r,n,11,[e+t.join(""),n&&n.proxy,i.map((({vnode:e})=>`at <${el(n,e.type)}>`)).join("\n"),i]);else{const n=[`[Vue warn]: ${e}`,...t];i.length&&n.push("\n",...cn(i)),console.warn(...n)}De()}function un(){let e=on[on.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function cn(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...dn(e))})),t}function dn({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=` at <${el(e.component,e.type,r)}`,a=">"+n;return e.props?[i,...fn(e.props),a]:[i+a]}function fn(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...hn(n,e[n]))})),n.length>3&&t.push(" ..."),t}function hn(e,t,n){return M(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:Kt(t)?(t=hn(e,Bt(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):F(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Bt(t),n?t:[`${e}=`,t])}function pn(e,t,n,r){let i;try{i=r?e(...r):e()}catch(a){gn(a,t,n)}return i}function vn(e,t,n,r){if(F(e)){const i=pn(e,t,n,r);return i&&U(i)&&i.catch((e=>{gn(e,t,n)})),i}const i=[];for(let a=0;a<e.length;a++)i.push(vn(e[a],t,n,r));return i}function gn(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,a=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}const s=t.appContext.config.errorHandler;if(s)return void pn(s,null,10,[e,i,a])}mn(e,n,i,r)}function mn(e,t,n,r=!0){console.error(e)}let yn=!1,bn=!1;const En=[];let Tn=0;const Sn=[];let _n=null,Ln=0;const An=[];let Rn=null,Cn=0;const xn=Promise.resolve();let kn=null,Dn=null;function wn(e){const t=kn||xn;return e?t.then(this?e.bind(this):e):t}function On(e){let t=Tn+1,n=En.length;while(t<n){const r=t+n>>>1,i=Gn(En[r]);i<e?t=r+1:n=r}return t}function In(e){En.length&&En.includes(e,yn&&e.allowRecurse?Tn+1:Tn)||e===Dn||(null==e.id?En.push(e):En.splice(On(e.id),0,e),Pn())}function Pn(){yn||bn||(bn=!0,kn=xn.then(Vn))}function Fn(e){const t=En.indexOf(e);t>Tn&&En.splice(t,1)}function Mn(e,t,n,r){w(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Pn()}function Nn(e){Mn(e,_n,Sn,Ln)}function Bn(e){Mn(e,Rn,An,Cn)}function Un(e,t=null){if(Sn.length){for(Dn=t,_n=[...new Set(Sn)],Sn.length=0,Ln=0;Ln<_n.length;Ln++)_n[Ln]();_n=null,Ln=0,Dn=null,Un(e,t)}}function jn(e){if(Un(),An.length){const e=[...new Set(An)];if(An.length=0,Rn)return void Rn.push(...e);for(Rn=e,Rn.sort(((e,t)=>Gn(e)-Gn(t))),Cn=0;Cn<Rn.length;Cn++)Rn[Cn]();Rn=null,Cn=0}}const Gn=e=>null==e.id?1/0:e.id;function Vn(e){bn=!1,yn=!0,Un(e),En.sort(((e,t)=>Gn(e)-Gn(t)));try{for(Tn=0;Tn<En.length;Tn++){const e=En[Tn];e&&!1!==e.active&&pn(e,null,14)}}finally{Tn=0,En.length=0,jn(e),yn=!1,kn=null,(En.length||Sn.length||An.length)&&Vn(e)}}new Set;new Map;let Hn,Kn=[],Wn=!1;function Yn(e,t){var n,r;if(Hn=e,Hn)Hn.enabled=!0,Kn.forEach((({event:e,args:t})=>Hn.emit(e,...t))),Kn=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push((e=>{Yn(e,t)})),setTimeout((()=>{Hn||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wn=!0,Kn=[])}),3e3)}else Wn=!0,Kn=[]}Object.create(null),Object.create(null);function $n(e,t,...n){}const zn={MODE:2};function qn(e){C(zn,e)}function Xn(e,t){const n=t&&t.type.compatConfig;return n&&e in n?n[e]:zn[e]}function Qn(e,t,n=!1){if(!n&&t&&t.type.__isBuiltIn)return!1;const r=Xn("MODE",t)||2,i=Xn(e,t),a=F(r)?r(t&&t.type):r;return 2===a?!1!==i:!0===i||"suppress-warning"===i}function Zn(e,t,...n){if(!Qn(e,t))throw new Error(`${e} compat has been disabled.`)}function Jn(e,t,...n){return Qn(e,t)}function er(e,t,...n){const r=Qn(e,t);return r}const tr=new WeakMap;function nr(e){let t=tr.get(e);return t||tr.set(e,t=Object.create(null)),t}function rr(e,t,n){if(w(t))t.forEach((t=>rr(e,t,n)));else{t.startsWith("hook:")?Zn("INSTANCE_EVENT_HOOKS",e,t):Zn("INSTANCE_EVENT_EMITTER",e);const r=nr(e);(r[t]||(r[t]=[])).push(n)}return e.proxy}function ir(e,t,n){const r=(...i)=>{ar(e,t,r),n.call(e.proxy,...i)};return r.fn=n,rr(e,t,r),e.proxy}function ar(e,t,n){Zn("INSTANCE_EVENT_EMITTER",e);const r=e.proxy;if(!t)return tr.set(e,Object.create(null)),r;if(w(t))return t.forEach((t=>ar(e,t,n))),r;const i=nr(e),a=i[t];return a?n?(i[t]=a.filter((e=>!(e===n||e.fn===n))),r):(i[t]=void 0,r):r}function sr(e,t,n){const r=nr(e)[t];return r&&vn(r.map((t=>t.bind(e.proxy))),e,6,n),e.proxy}const or="onModelCompat:";new WeakSet;function lr(e){const{type:t,shapeFlag:n,props:r,dynamicProps:i}=e,a=t;if(6&n&&r&&"modelValue"in r){if(!Qn("COMPONENT_V_MODEL",{type:t}))return;0;const e=a.model||{};ur(e,a.mixins);const{prop:n="value",event:s="input"}=e;"modelValue"!==n&&(r[n]=r.modelValue,delete r.modelValue),i&&(i[i.indexOf("modelValue")]=n),r[or+s]=r["onUpdate:modelValue"],delete r["onUpdate:modelValue"]}}function ur(e,t){t&&t.forEach((t=>{t.model&&C(e,t.model),t.mixins&&ur(e,t.mixins)}))}function cr(e,t,n){if(!Qn("COMPONENT_V_MODEL",e))return;const r=e.vnode.props,i=r&&r[or+t];i&&pn(i,e,6,n)}function dr(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||E;let i=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:a}=r[e]||E;a&&(i=n.map((e=>e.trim()))),t&&(i=n.map(ne))}let o;let l=r[o=Z(t)]||r[o=Z(z(t))];!l&&a&&(l=r[o=Z(X(t))]),l&&vn(l,e,6,i);const u=r[o+"Once"];if(u){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,vn(u,e,6,i)}return cr(e,t,i),sr(e,t,i)}function fr(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;const a=e.emits;let s={},o=!1;if(!F(e)){const r=e=>{const n=fr(e,t,!0);n&&(o=!0,C(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||o?(w(a)?a.forEach((e=>s[e]=null)):C(s,a),r.set(e,s),s):(r.set(e,null),null)}function hr(e,t){return!(!e||!A(t))&&(!!t.startsWith(or)||(t=t.slice(2).replace(/Once$/,""),D(e,t[0].toLowerCase()+t.slice(1))||D(e,X(t))||D(e,t)))}let pr=null,vr=null;function gr(e){const t=pr;return pr=e,vr=e&&e.type.__scopeId||null,vr||(vr=e&&e.type._scopeId||null),t}function mr(e){vr=e}function yr(){vr=null}const br=e=>Er;function Er(e,t=pr,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&oo(-1);const i=gr(t),a=e(...n);return gr(i),r._d&&oo(1),a};return r._n=!0,r._c=!0,r._d=!0,n&&(r._ns=!0),r}function Tr(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:v}=e;let g,m;const y=gr(e);try{if(4&n.shapeFlag){const e=i||r;g=Ro(c.call(e,e,d,a,h,f,p)),m=l}else{const e=t;0,g=Ro(e.length>1?e(a,{attrs:l,slots:o,emit:u}):e(a,null)),m=t.props?l:_r(l)}}catch(E){to.length=0,gn(E,e,1),g=bo(Js)}let b=g;if(m&&!1!==v){const e=Object.keys(m),{shapeFlag:t}=b;e.length&&7&t&&(s&&e.some(R)&&(m=Lr(m,s)),b=So(b,m))}if(Qn("INSTANCE_ATTRS_CLASS_STYLE",e)&&4&n.shapeFlag&&7&b.shapeFlag){const{class:e,style:t}=n.props||{};(e||t)&&(b=So(b,{class:e,style:t}))}return n.dirs&&(b=So(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),g=b,gr(y),g}function Sr(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!fo(r))return;if(r.type!==Js||"v-if"===r.children){if(t)return;t=r}}return t}const _r=e=>{let t;for(const n in e)("class"===n||"style"===n||A(n))&&((t||(t={}))[n]=e[n]);return t},Lr=(e,t)=>{const n={};for(const r in e)R(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Ar(e,t,n){const{props:r,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||r!==s&&(r?!s||Rr(r,s,u):!!s);if(1024&l)return!0;if(16&l)return r?Rr(r,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!hr(u,n))return!0}}return!1}function Rr(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!hr(n,a))return!0}return!1}function Cr({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const xr=e=>e.__isSuspense,kr={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,a,s,o,l,u){null==e?Or(t,n,r,i,a,s,o,l,u):Ir(e,t,n,r,i,s,o,l,u)},hydrate:Fr,create:Pr,normalize:Mr},Dr=kr;function wr(e,t){const n=e.props&&e.props[t];F(n)&&n()}function Or(e,t,n,r,i,a,s,o,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=e.suspense=Pr(e,i,r,t,d,n,a,s,o,l);u(null,f.pendingBranch=e.ssContent,d,null,r,f,a,s),f.deps>0?(wr(e,"onPending"),wr(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,a,s),Ur(f,e.ssFallback)):f.resolve()}function Ir(e,t,n,r,i,a,s,o,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:g,isHydrating:m}=d;if(v)d.pendingBranch=f,ho(f,v)?(l(v,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():g&&(l(p,h,n,r,i,null,a,s,o),Ur(d,h))):(d.pendingId++,m?(d.isHydrating=!1,d.activeBranch=v):u(v,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():(l(p,h,n,r,i,null,a,s,o),Ur(d,h))):p&&ho(f,p)?(l(p,f,n,r,i,d,a,s,o),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0&&d.resolve()));else if(p&&ho(f,p))l(p,f,n,r,i,d,a,s,o),Ur(d,f);else if(wr(t,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(h)}),e):0===e&&d.fallback(h)}}function Pr(e,t,n,r,i,a,s,o,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:v,remove:g}}=u,m=ne(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:"number"===typeof m?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(e=!1){const{vnode:t,activeBranch:n,pendingBranch:r,pendingId:i,effects:a,parentComponent:s,container:o}=y;if(y.isHydrating)y.isHydrating=!1;else if(!e){const e=n&&r.transition&&"out-in"===r.transition.mode;e&&(n.transition.afterLeave=()=>{i===y.pendingId&&f(r,o,t,0)});let{anchor:t}=y;n&&(t=p(n),h(n,s,y,!0)),e||f(r,o,t,0)}Ur(y,r),y.pendingBranch=null,y.isInFallback=!1;let l=y.parent,u=!1;while(l){if(l.pendingBranch){l.effects.push(...a),u=!0;break}l=l.parent}u||Bn(a),y.effects=[],wr(t,"onResolve")},fallback(e){if(!y.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,isSVG:a}=y;wr(t,"onFallback");const s=p(n),u=()=>{y.isInFallback&&(d(null,e,i,s,r,null,a,o,l),Ur(y,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=u),y.isInFallback=!0,h(n,r,null,!0),c||u()},move(e,t,n){y.activeBranch&&f(y.activeBranch,e,t,n),y.container=e},next(){return y.activeBranch&&p(y.activeBranch)},registerDep(e,t){const n=!!y.pendingBranch;n&&y.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{gn(t,e,0)})).then((i=>{if(e.isUnmounted||y.isUnmounted||y.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;Ko(e,i,!1),r&&(a.el=r);const o=!r&&e.subTree.el;t(e,a,v(r||e.subTree.el),r?null:p(e.subTree),y,s,l),o&&g(o),Cr(e,a.el),n&&0===--y.deps&&y.resolve()}))},unmount(e,t){y.isUnmounted=!0,y.activeBranch&&h(y.activeBranch,n,e,t),y.pendingBranch&&h(y.pendingBranch,n,e,t)}};return y}function Fr(e,t,n,r,i,a,s,o,l){const u=t.suspense=Pr(t,r,n,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,a,s);return 0===u.deps&&u.resolve(),c}function Mr(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=Nr(r?n.default:n),e.ssFallback=r?Nr(n.fallback):bo(Js)}function Nr(e){let t;if(F(e)){const n=so&&e._c;n&&(e._d=!1,ro()),e=e(),n&&(e._d=!0,t=no,io())}if(w(e)){const t=Sr(e);0,e=t}return e=Ro(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function Br(e,t){t&&t.pendingBranch?w(e)?t.effects.push(...e):t.effects.push(e):Bn(e)}function Ur(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,Cr(r,i))}function jr(e,t){if(Po){let n=Po.provides;const r=Po.parent&&Po.parent.provides;r===n&&(n=Po.provides=Object.create(r)),n[e]=t}else 0}function Gr(e,t,n=!1){const r=Po||pr;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&F(t)?t.call(r.proxy):t}else 0}function Vr(e,t){return $r(e,null,t)}function Hr(e,t){return $r(e,null,{flush:"post"})}function Kr(e,t){return $r(e,null,{flush:"sync"})}const Wr={};function Yr(e,t,n){return $r(e,t,n)}function $r(e,t,{immediate:n,deep:r,flush:i,onTrack:a,onTrigger:s}=E){const o=Po;let l,u,c=!1,d=!1;if(Kt(e)?(l=()=>e.value,c=Mt(e)):Pt(e)?(l=()=>e,r=!0):w(e)?(d=!0,c=e.some((e=>Pt(e)||Mt(e))),l=()=>e.map((e=>Kt(e)?e.value:Pt(e)?Xr(e):F(e)?pn(e,o,2):void 0))):l=F(e)?t?()=>pn(e,o,2):()=>{if(!o||!o.isUnmounted)return u&&u(),vn(e,o,3,[f])}:S,t&&!r){const e=l;l=()=>{const t=e();return w(t)&&er("WATCH_ARRAY",o)&&Xr(t),t}}if(t&&r){const e=l;l=()=>Xr(e())}let f=e=>{u=g.onStop=()=>{pn(e,o,4)}};if(Go)return f=S,t?n&&vn(t,o,3,[l(),d?[]:void 0,f]):l(),S;let h=d?[]:Wr;const p=()=>{if(g.active)if(t){const e=g.run();(r||c||(d?e.some(((e,t)=>J(e,h[t]))):J(e,h))||w(e)&&Qn("WATCH_ARRAY",o))&&(u&&u(),vn(t,o,3,[e,h===Wr?void 0:h,f]),h=e)}else g.run()};let v;p.allowRecurse=!!t,v="sync"===i?p:"post"===i?()=>Is(p,o&&o.suspense):()=>Nn(p);const g=new _e(l,v);return t?n?p():h=g.run():"post"===i?Is(g.run.bind(g),o&&o.suspense):g.run(),()=>{g.stop(),o&&o.scope&&x(o.scope.effects,g)}}function zr(e,t,n){const r=this.proxy,i=M(e)?e.includes(".")?qr(r,e):()=>r[e]:e.bind(r,r);let a;F(t)?a=t:(a=t.handler,n=t);const s=Po;Mo(this);const o=$r(i,a.bind(r),n);return s?Mo(s):No(),o}function qr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Xr(e,t){if(!B(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),Kt(e))Xr(e.value,t);else if(w(e))for(let n=0;n<e.length;n++)Xr(e[n],t);else if(I(e)||O(e))e.forEach((e=>{Xr(e,t)}));else if(H(e))for(const n in e)Xr(e[n],t);return e}function Qr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Li((()=>{e.isMounted=!0})),Ci((()=>{e.isUnmounting=!0})),e}const Zr=[Function,Array],Jr={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zr,onEnter:Zr,onAfterEnter:Zr,onEnterCancelled:Zr,onBeforeLeave:Zr,onLeave:Zr,onAfterLeave:Zr,onLeaveCancelled:Zr,onBeforeAppear:Zr,onAppear:Zr,onAfterAppear:Zr,onAppearCancelled:Zr},setup(e,{slots:t}){const n=Fo(),r=Qr();let i;return()=>{const a=t.default&&si(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==Js){0,s=t,e=!0;break}}const o=Bt(e),{mode:l}=o;if(r.isLeaving)return ri(s);const u=ii(s);if(!u)return ri(s);const c=ni(u,o,r,n);ai(u,c);const d=n.subTree,f=d&&ii(d);let h=!1;const{getTransitionKey:p}=u.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,h=!0)}if(f&&f.type!==Js&&(!ho(u,f)||h)){const e=ni(f,o,r,n);if(ai(f,e),"out-in"===l)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},ri(s);"in-out"===l&&u.type!==Js&&(e.delayLeave=(e,t,n)=>{const i=ti(r,f);i[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=n})}return s}},__isBuiltIn:!0},ei=Jr;function ti(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ni(e,t,n,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:v,onAppear:g,onAfterAppear:m,onAppearCancelled:y}=t,b=String(e.key),E=ti(n,e),T=(e,t)=>{e&&vn(e,r,9,t)},S=(e,t)=>{const n=t[1];T(e,t),w(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},_={mode:a,persisted:s,beforeEnter(t){let r=o;if(!n.isMounted){if(!i)return;r=v||o}t._leaveCb&&t._leaveCb(!0);const a=E[b];a&&ho(e,a)&&a.el._leaveCb&&a.el._leaveCb(),T(r,[t])},enter(e){let t=l,r=u,a=c;if(!n.isMounted){if(!i)return;t=g||l,r=m||u,a=y||c}let s=!1;const o=e._enterCb=t=>{s||(s=!0,T(t?a:r,[e]),_.delayedLeave&&_.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,o]):o()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();T(d,[t]);let a=!1;const s=t._leaveCb=n=>{a||(a=!0,r(),T(n?p:h,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,f?S(f,[t,s]):s()},clone(e){return ni(e,t,n,r)}};return _}function ri(e){if(di(e))return e=So(e),e.children=null,e}function ii(e){return di(e)?e.children?e.children[0]:void 0:e}function ai(e,t){6&e.shapeFlag&&e.component?ai(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function si(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=null==n?s.key:String(n)+String(null!=s.key?s.key:a);s.type===Qs?(128&s.patchFlag&&i++,r=r.concat(si(s.children,t,o))):(t||s.type!==Js)&&r.push(null!=o?So(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function oi(e){return F(e)?{setup:e,name:e.name}:e}const li=e=>!!e.type.__asyncLoader;function ui(e){F(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let l,u=null,c=0;const d=()=>(c++,u=null,f()),f=()=>{let e;return u||(e=u=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),o)return new Promise(((t,n)=>{const r=()=>t(d()),i=()=>n(e);o(e,r,i,c+1)}));throw e})).then((t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return oi({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return l},setup(){const e=Po;if(l)return()=>ci(l,e);const t=t=>{u=null,gn(t,e,13,!r)};if(s&&e.suspense||Go)return f().then((t=>()=>ci(t,e))).catch((e=>(t(e),()=>r?bo(r,{error:e}):null)));const o=Wt(!1),c=Wt(),d=Wt(!!i);return i&&setTimeout((()=>{d.value=!1}),i),null!=a&&setTimeout((()=>{if(!o.value&&!c.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),c.value=e}}),a),f().then((()=>{o.value=!0,e.parent&&di(e.parent.vnode)&&In(e.parent.update)})).catch((e=>{t(e),c.value=e})),()=>o.value&&l?ci(l,e):c.value&&r?bo(r,{error:c.value}):n&&!d.value?bo(n):void 0}})}function ci(e,{vnode:{ref:t,props:n,children:r,shapeFlag:i},parent:a}){const s=bo(e,n,r);return s.ref=t,s}const di=e=>e.type.__isKeepAlive,fi={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Fo(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,a=new Set;let s=null;const o=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");function h(e){bi(e),c(e,n,o,!0)}function p(e){i.forEach(((t,n)=>{const r=Jo(t.type);!r||e&&e(r)||v(n)}))}function v(e){const t=i.get(e);s&&t.type===s.type?s&&bi(s):h(t),i.delete(e),a.delete(e)}r.activate=(e,t,n,r,i)=>{const a=e.component;u(e,t,n,0,o),l(a.vnode,e,t,n,a,o,r,e.slotScopeIds,i),Is((()=>{a.isDeactivated=!1,a.a&&ee(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Do(t,a.parent,e)}),o)},r.deactivate=e=>{const t=e.component;u(e,f,null,1,o),Is((()=>{t.da&&ee(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Do(n,t.parent,e),t.isDeactivated=!0}),o)},Yr((()=>[e.include,e.exclude]),(([e,t])=>{e&&p((t=>pi(e,t))),t&&p((e=>!pi(t,e)))}),{flush:"post",deep:!0});let g=null;const m=()=>{null!=g&&i.set(g,Ei(n.subTree))};return Li(m),Ri(m),Ci((()=>{i.forEach((e=>{const{subTree:t,suspense:r}=n,i=Ei(t);if(e.type!==i.type)h(e);else{bi(i);const e=i.component.da;e&&Is(e,r)}}))})),()=>{if(g=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!fo(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;let o=Ei(r);const l=o.type,u=Jo(li(o)?o.type.__asyncResolved||{}:l),{include:c,exclude:d,max:f}=e;if(c&&(!u||!pi(c,u))||d&&u&&pi(d,u))return s=o,r;const h=null==o.key?l:o.key,p=i.get(h);return o.el&&(o=So(o),128&r.shapeFlag&&(r.ssContent=o)),g=h,p?(o.el=p.el,o.component=p.component,o.transition&&ai(o,o.transition),o.shapeFlag|=512,a.delete(h),a.add(h)):(a.add(h),f&&a.size>parseInt(f,10)&&v(a.values().next().value)),o.shapeFlag|=256,s=o,xr(r.type)?r:o}},__isBuildIn:!0},hi=fi;function pi(e,t){return w(e)?e.some((e=>pi(e,t))):M(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function vi(e,t){mi(e,"a",t)}function gi(e,t){mi(e,"da",t)}function mi(e,t,n=Po){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(Ti(t,r,n),n){let e=n.parent;while(e&&e.parent)di(e.parent.vnode)&&yi(r,t,n,e),e=e.parent}}function yi(e,t,n,r){const i=Ti(t,e,r,!0);xi((()=>{x(r[t],i)}),n)}function bi(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Ei(e){return 128&e.shapeFlag?e.ssContent:e}function Ti(e,t,n=Po,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ke(),Mo(n);const i=vn(t,n,e,r);return No(),De(),i});return r?i.unshift(a):i.push(a),a}}const Si=e=>(t,n=Po)=>(!Go||"sp"===e)&&Ti(e,t,n),_i=Si("bm"),Li=Si("m"),Ai=Si("bu"),Ri=Si("u"),Ci=Si("bum"),xi=Si("um"),ki=Si("sp"),Di=Si("rtg"),wi=Si("rtc");function Oi(e,t=Po){Ti("ec",e,t)}function Ii(e){Zn("INSTANCE_CHILDREN",e);const t=e.subTree,n=[];return t&&Pi(t,n),n}function Pi(e,t){if(e.component)t.push(e.component.proxy);else if(16&e.shapeFlag){const n=e.children;for(let e=0;e<n.length;e++)Pi(n[e],t)}}function Fi(e){Zn("INSTANCE_LISTENERS",e);const t={},n=e.vnode.props;if(!n)return t;for(const r in n)A(r)&&(t[r[2].toLowerCase()+r.slice(3)]=n[r]);return t}const Mi={beforeMount:"bind",mounted:"inserted",updated:["update","componentUpdated"],unmounted:"unbind"};function Ni(e,t,n){const r=Mi[e];if(r){if(w(r)){const i=[];return r.forEach((r=>{const a=t[r];a&&(Jn("CUSTOM_DIR",n,r,e),i.push(a))})),i.length?i:void 0}return t[r]&&Jn("CUSTOM_DIR",n,r,e),t[r]}}function Bi(e,t){const n=pr;if(null===n)return e;const r=Xo(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,o=E]=t[a];F(e)&&(e={mounted:e,updated:e}),e.deep&&Xr(n),i.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:o})}return e}function Ui(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l||(l=Ni(r,o.dir,n)),l&&(ke(),vn(l,n,8,[e.el,o,e,t]),De())}}const ji="components",Gi="directives",Vi="filters";function Hi(e,t){return zi(ji,e,!0,t)||e}const Ki=Symbol();function Wi(e){return M(e)?zi(ji,e,!1)||e:e||Ki}function Yi(e){return zi(Gi,e)}function $i(e){return zi(Vi,e)}function zi(e,t,n=!0,r=!1){const i=pr||Po;if(i){const n=i.type;if(e===ji){const e=Jo(n,!1);if(e&&(e===t||e===z(t)||e===Q(z(t))))return n}const a=qi(i[e]||n[e],t)||qi(i.appContext[e],t);return!a&&r?n:a}}function qi(e,t){return e&&(e[t]||e[z(t)]||e[Q(z(t))])}function Xi(e){const t=e.type,n=t.render;if(n&&!n._rc&&!n._compatChecked&&!n._compatWrapped)if(n.length>=2)n._compatChecked=!0;else if(er("RENDER_FUNCTION",e)){const e=t.render=function(){return n.call(this,Qi)};e._compatWrapped=!0}}function Qi(e,t,n){if(e||(e=Js),"string"===typeof e){const t=X(e);"transition"!==t&&"transition-group"!==t&&"keep-alive"!==t||(e=`__compat__${t}`),e=Wi(e)}const r=arguments.length,i=w(t);return 2===r||i?B(t)&&!i?fo(t)?na(bo(e,null,[t])):na(ta(bo(e,Ji(t,e)),t)):na(bo(e,null,t)):(fo(n)&&(n=[n]),na(ta(bo(e,Ji(t,e),n),t)))}const Zi=r("staticStyle,staticClass,directives,model,hook");function Ji(e,t){if(!e)return null;const n={};for(const r in e)if("attrs"===r||"domProps"===r||"props"===r)C(n,e[r]);else if("on"===r||"nativeOn"===r){const t=e[r];for(const e in t){let i=ea(e);"nativeOn"===r&&(i+="Native");const a=n[i],s=t[e];a!==s&&(n[i]=a?[].concat(a,s):s)}}else Zi(r)||(n[r]=e[r]);if(e.staticClass&&(n.class=h([e.staticClass,n.class])),e.staticStyle&&(n.style=u([e.staticStyle,n.style])),e.model&&B(t)){const{prop:r="value",event:i="input"}=t.model||{};n[r]=e.model.value,n[or+i]=e.model.callback}return n}function ea(e){return"&"===e[0]&&(e=e.slice(1)+"Passive"),"~"===e[0]&&(e=e.slice(1)+"Once"),"!"===e[0]&&(e=e.slice(1)+"Capture"),Z(e)}function ta(e,t){return t&&t.directives?Bi(e,t.directives.map((({name:e,value:t,arg:n,modifiers:r})=>[Yi(e),t,n,r]))):e}function na(e){const{props:t,children:n}=e;let r;if(6&e.shapeFlag&&w(n)){r={};for(let e=0;e<n.length;e++){const t=n[e],i=fo(t)&&t.props&&t.props.slot||"default",a=r[i]||(r[i]=[]);fo(t)&&"template"===t.type?a.push(t.children):a.push(t)}if(r)for(const e in r){const t=r[e];r[e]=()=>t,r[e]._ns=!0}}const i=t&&t.scopedSlots;return i&&(delete t.scopedSlots,r?C(r,i):r=i),r&&xo(e,r),e}function ra(e){if(Qn("RENDER_FUNCTION",pr,!0)&&Qn("PRIVATE_APIS",pr,!0)){const t=pr,n=()=>e.component&&e.component.proxy;let r;Object.defineProperties(e,{tag:{get:()=>e.type},data:{get:()=>e.props||{},set:t=>e.props=t},elm:{get:()=>e.el},componentInstance:{get:n},child:{get:n},text:{get:()=>M(e.children)?e.children:null},context:{get:()=>t&&t.proxy},componentOptions:{get:()=>{if(4&e.shapeFlag)return r||(r={Ctor:e.type,propsData:e.props,children:e.children})}}})}}const ia=new Map,aa={get(e,t){const n=e[t];return n&&n()}};function sa(e){if(ia.has(e))return ia.get(e);const t=e.render,n=(n,r)=>{const i=Fo(),a={props:n,children:i.vnode.children||[],data:i.vnode.props||{},scopedSlots:r.slots,parent:i.parent&&i.parent.proxy,slots(){return new Proxy(r.slots,aa)},get listeners(){return Fi(i)},get injections(){if(e.inject){const t={};return Ia(e.inject,t),t}return{}}};return t(Qi,a)};return n.props=e.props,n.displayName=e.name,n.compatConfig=e.compatConfig,n.inheritAttrs=!1,ia.set(e,n),n}function oa(e,t,n,r){let i;const a=n&&n[r];if(w(e)||M(e)){i=new Array(e.length);for(let n=0,r=e.length;n<r;n++)i[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(B(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];i[r]=t(e[s],s,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}function la(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(w(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.fn)}return e}function ua(e,t,n={},r,i){if(pr.isCE||pr.parent&&li(pr.parent)&&pr.parent.isCE)return bo("slot","default"===t?null:{name:t},r&&r());let a=e[t];a&&a._c&&(a._d=!1),ro();const s=a&&ca(a(n)),o=co(Qs,{key:n.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function ca(e){return e.some((e=>!fo(e)||e.type!==Js&&!(e.type===Qs&&!ca(e.children))))?e:null}function da(e){const t={};for(const n in e)t[Z(n)]=e[n];return t}function fa(e){const t={};for(let n=0;n<e.length;n++)e[n]&&C(t,e[n]);return t}function ha(e,t,n,r,i){if(n&&B(n)){w(n)&&(n=fa(n));for(const t in n)if(W(t))e[t]=n[t];else if("class"===t)e.class=h([e.class,n.class]);else if("style"===t)e.style=h([e.style,n.style]);else{const r=e.attrs||(e.attrs={}),a=z(t),s=X(t);if(!(a in r)&&!(s in r)&&(r[t]=n[t],i)){const r=e.on||(e.on={});r[`update:${t}`]=function(e){n[t]=e}}}}return e}function pa(e,t){return ko(e,da(t))}function va(e,t,n,r,i){return i&&(r=ko(r,i)),ua(e.slots,t,r,n&&(()=>n))}function ga(e,t,n){return la(t||{$stable:!n},ma(e))}function ma(e){for(let t=0;t<e.length;t++){const n=e[t];n&&(w(n)?ma(n):n.name=n.key||"default")}return e}const ya=new WeakMap;function ba(e,t){let n=ya.get(e);if(n||ya.set(e,n=[]),n[t])return n[t];const r=e.type.staticRenderFns[t],i=e.proxy;return n[t]=r.call(i,null,i)}function Ea(e,t,n,r,i,a){const s=e.appContext.config,o=s.keyCodes||{},l=o[n]||r;return a&&i&&!o[n]?Ta(a,i):l?Ta(l,t):i?X(i)!==n:void 0}function Ta(e,t){return w(e)?!e.includes(t):e!==t}function Sa(e){return e}function _a(e,t){for(let n=0;n<t.length;n+=2){const r=t[n];"string"===typeof r&&r&&(e[t[n]]=t[n+1])}return e}function La(e,t){return"string"===typeof e?t+e:e}function Aa(e){const t=(e,t,n)=>{e[t]=n},n=(e,t)=>{delete e[t]};C(e,{$set:e=>(Zn("INSTANCE_SET",e),t),$delete:e=>(Zn("INSTANCE_DELETE",e),n),$mount:e=>(Zn("GLOBAL_MOUNT",null),e.ctx._compat_mount||S),$destroy:e=>(Zn("INSTANCE_DESTROY",e),e.ctx._compat_destroy||S),$slots:e=>Qn("RENDER_FUNCTION",e)&&e.render&&e.render._compatWrapped?new Proxy(e.slots,aa):e.slots,$scopedSlots:e=>{Zn("INSTANCE_SCOPED_SLOTS",e);const t={};for(const n in e.slots){const r=e.slots[n];r._ns||(t[n]=r)}return t},$on:e=>rr.bind(null,e),$once:e=>ir.bind(null,e),$off:e=>ar.bind(null,e),$children:Ii,$listeners:Fi}),Qn("PRIVATE_APIS",null)&&C(e,{$vnode:e=>e.vnode,$options:e=>{const t=C({},Ma(e));return t.parent=e.proxy.$parent,t.propsData=e.vnode.props,t},_self:e=>e.proxy,_uid:e=>e.uid,_data:e=>e.data,_isMounted:e=>e.isMounted,_isDestroyed:e=>e.isUnmounted,$createElement:()=>Qi,_c:()=>Qi,_o:()=>Sa,_n:()=>ne,_s:()=>y,_l:()=>oa,_t:e=>va.bind(null,e),_q:()=>g,_i:()=>m,_m:e=>ba.bind(null,e),_f:()=>$i,_k:e=>Ea.bind(null,e),_b:()=>ha,_v:()=>_o,_e:()=>Ao,_u:()=>ga,_g:()=>pa,_d:()=>_a,_p:()=>La})}const Ra=e=>e?Bo(e)?Xo(e)||e.proxy:Ra(e.parent):null,Ca=C(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ra(e.parent),$root:e=>Ra(e.root),$emit:e=>e.emit,$options:e=>Ma(e),$forceUpdate:e=>e.f||(e.f=()=>In(e.update)),$nextTick:e=>e.n||(e.n=wn.bind(e.proxy)),$watch:e=>zr.bind(e)});Aa(Ca);const xa={get({_:e},t){const{ctx:n,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=e;let u;if("$"!==t[0]){const o=s[t];if(void 0!==o)switch(o){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(r!==E&&D(r,t))return s[t]=1,r[t];if(i!==E&&D(i,t))return s[t]=2,i[t];if((u=e.propsOptions[0])&&D(u,t))return s[t]=3,a[t];if(n!==E&&D(n,t))return s[t]=4,n[t];wa&&(s[t]=0)}}const c=Ca[t];let d,f;if(c)return"$attrs"===t&&we(e,"get",t),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(n!==E&&D(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,D(f,t)){const n=Object.getOwnPropertyDescriptor(f,t);if(n.get)return n.get.call(e.proxy);{const n=f[t];return F(n)?Object.assign(n.bind(e.proxy),n):n}}},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return i!==E&&D(i,t)?(i[t]=n,!0):r!==E&&D(r,t)?(r[t]=n,!0):!D(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!n[s]||e!==E&&D(e,s)||t!==E&&D(t,s)||(o=a[0])&&D(o,s)||D(r,s)||D(Ca,s)||D(i.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:D(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const ka=C({},xa,{get(e,t){if(t!==Symbol.unscopables)return xa.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!a(t);return n}});function Da(e,t){for(const n in t){const r=e[n],i=t[n];n in e&&H(r)&&H(i)?Da(r,i):e[n]=i}return e}let wa=!0;function Oa(e){const t=Ma(e),n=e.proxy,r=e.ctx;wa=!1,t.beforeCreate&&Pa(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:y,destroyed:b,unmounted:E,render:T,renderTracked:_,renderTriggered:L,errorCaptured:A,serverPrefetch:R,expose:C,inheritAttrs:x,components:k,directives:D,filters:O}=t,I=null;if(u&&Ia(u,r,I,e.appContext.config.unwrapInjectedRef),s)for(const S in s){const e=s[S];F(e)&&(r[S]=e.bind(n))}if(i){0;const t=i.call(n,n);0,B(t)&&(e.data=kt(t))}if(wa=!0,a)for(const w in a){const e=a[w],t=F(e)?e.bind(n,n):F(e.get)?e.get.bind(n,n):S;0;const i=!F(e)&&F(e.set)?e.set.bind(n):S,s=nl({get:t,set:i});Object.defineProperty(r,w,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(o)for(const S in o)Fa(o[S],r,n,S);if(l){const e=F(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{jr(t,e[t])}))}function P(e,t){w(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(c&&Pa(c,e,"c"),P(_i,d),P(Li,f),P(Ai,h),P(Ri,p),P(vi,v),P(gi,g),P(Oi,A),P(wi,_),P(Di,L),P(Ci,y),P(xi,E),P(ki,R),m&&Jn("OPTIONS_BEFORE_DESTROY",e)&&P(Ci,m),b&&Jn("OPTIONS_DESTROYED",e)&&P(xi,b),w(C))if(C.length){const t=e.exposed||(e.exposed={});C.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});T&&e.render===S&&(e.render=T),null!=x&&(e.inheritAttrs=x),k&&(e.components=k),D&&(e.directives=D),O&&Qn("FILTERS",e)&&(e.filters=O)}function Ia(e,t,n=S,r=!1){w(e)&&(e=Ga(e));for(const i in e){const n=e[i];let a;a=B(n)?"default"in n?Gr(n.from||i,n.default,!0):Gr(n.from||i):Gr(n),Kt(a)&&r?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[i]=a}}function Pa(e,t,n){vn(w(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Fa(e,t,n,r){const i=r.includes(".")?qr(n,r):()=>n[r];if(M(e)){const n=t[e];F(n)&&Yr(i,n)}else if(F(e))Yr(i,e.bind(n));else if(B(e))if(w(e))e.forEach((e=>Fa(e,t,n,r)));else{const r=F(e.handler)?e.handler.bind(n):t[e.handler];F(r)&&Yr(i,r,e)}else 0}function Ma(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:i.length||n||r?(l={},i.length&&i.forEach((e=>Na(l,e,s,!0))),Na(l,t,s)):Qn("PRIVATE_APIS",e)?(l=C({},t),l.parent=e.parent&&e.parent.proxy,l.propsData=e.vnode.props):l=t,a.set(t,l),l}function Na(e,t,n,r=!1){F(t)&&(t=t.options);const{mixins:i,extends:a}=t;a&&Na(e,a,n,!0),i&&i.forEach((t=>Na(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=Ba[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Ba={data:Ua,props:Ha,emits:Ha,methods:Ha,computed:Ha,beforeCreate:Va,created:Va,beforeMount:Va,mounted:Va,beforeUpdate:Va,updated:Va,beforeDestroy:Va,beforeUnmount:Va,destroyed:Va,unmounted:Va,activated:Va,deactivated:Va,errorCaptured:Va,serverPrefetch:Va,components:Ha,directives:Ha,watch:Ka,provide:Ua,inject:ja};function Ua(e,t){return t?e?function(){return(Qn("OPTIONS_DATA_MERGE",null)?Da:C)(F(e)?e.call(this,this):e,F(t)?t.call(this,this):t)}:t:e}function ja(e,t){return Ha(Ga(e),Ga(t))}function Ga(e){if(w(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Va(e,t){return e?[...new Set([].concat(e,t))]:t}function Ha(e,t){return e?C(C(Object.create(null),e),t):t}function Ka(e,t){if(!e)return t;if(!t)return e;const n=C(Object.create(null),e);for(const r in t)n[r]=Va(e[r],t[r]);return n}function Wa(e,t,n){return new Proxy({},{get(n,r){if("$options"===r)return Ma(e);if(r in t)return t[r];const i=e.type.inject;if(i)if(w(i)){if(i.includes(r))return Gr(r)}else if(r in i)return Gr(r)}})}function Ya(e,t){return"is"===e||(!("class"!==e&&"style"!==e||!Qn("INSTANCE_ATTRS_CLASS_STYLE",t))||(!(!A(e)||!Qn("INSTANCE_LISTENERS",t))||!(!e.startsWith("routerView")&&"registerRouteInstance"!==e)))}function $a(e,t,n,r=!1){const i={},a={};te(a,vo,1),e.propsDefaults=Object.create(null),qa(e,t,i,a);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Dt(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function za(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Bt(i),[l]=e.propsOptions;let u=!1;if(!(r||s>0)||16&s){let r;qa(e,t,i,a)&&(u=!0);for(const a in o)t&&(D(t,a)||(r=X(a))!==a&&D(t,r))||(l?!n||void 0===n[a]&&void 0===n[r]||(i[a]=Xa(l,o,a,void 0,e,!0)):delete i[a]);if(a!==o)for(const e in a)t&&(D(t,e)||D(t,e+"Native"))||(delete a[e],u=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(hr(e.emitsOptions,s))continue;const c=t[s];if(l)if(D(a,s))c!==a[s]&&(a[s]=c,u=!0);else{const t=z(s);i[t]=Xa(l,o,t,c,e,!1)}else{if(A(s)&&s.endsWith("Native"))s=s.slice(0,-6);else if(Ya(s,e))continue;c!==a[s]&&(a[s]=c,u=!0)}}}u&&Ie(e,"set","$attrs")}function qa(e,t,n,r){const[i,a]=e.propsOptions;let s,o=!1;if(t)for(let l in t){if(W(l))continue;if(l.startsWith("onHook:")&&Jn("INSTANCE_EVENT_HOOKS",e,l.slice(2).toLowerCase()),"inline-template"===l)continue;const u=t[l];let c;if(i&&D(i,c=z(l)))a&&a.includes(c)?(s||(s={}))[c]=u:n[c]=u;else if(!hr(e.emitsOptions,l)){if(A(l)&&l.endsWith("Native"))l=l.slice(0,-6);else if(Ya(l,e))continue;l in r&&u===r[l]||(r[l]=u,o=!0)}}if(a){const t=Bt(n),r=s||E;for(let s=0;s<a.length;s++){const o=a[s];n[o]=Xa(i,t,o,r[o],e,!D(r,o))}}return o}function Xa(e,t,n,r,i,a){const s=e[n];if(null!=s){const e=D(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&F(e)){const{propsDefaults:a}=i;n in a?r=a[n]:(Mo(i),r=a[n]=e.call(Qn("PROPS_DEFAULT_THIS",i)?Wa(i,t,n):null,t),No())}else r=e}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==X(n)||(r=!0))}return r}function Qa(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const a=e.props,s={},o=[];let l=!1;if(!F(e)){const r=e=>{F(e)&&(e=e.options),l=!0;const[n,r]=Qa(e,t,!0);C(s,n),r&&o.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!l)return r.set(e,T),T;if(w(a))for(let c=0;c<a.length;c++){0;const e=z(a[c]);Za(e)&&(s[e]=E)}else if(a){0;for(const e in a){const t=z(e);if(Za(t)){const n=a[e],r=s[t]=w(n)||F(n)?{type:n}:n;if(r){const e=ts(Boolean,r.type),n=ts(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||D(r,"default"))&&o.push(t)}}}}const u=[s,o];return r.set(e,u),u}function Za(e){return"$"!==e[0]}function Ja(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function es(e,t){return Ja(e)===Ja(t)}function ts(e,t){return w(t)?t.findIndex((t=>es(t,e))):F(t)&&es(t,e)?0:-1}Ba.filters=Ha;const ns=e=>"_"===e[0]||"$stable"===e,rs=e=>w(e)?e.map(Ro):[Ro(e)],is=(e,t,n)=>{if(t._n)return t;const r=Er(((...e)=>rs(t(...e))),n);return r._c=!1,r},as=(e,t,n)=>{const r=e._ctx;for(const i in e){if(ns(i))continue;const n=e[i];if(F(n))t[i]=is(i,n,r);else if(null!=n){0;const e=rs(n);t[i]=()=>e}}},ss=(e,t)=>{const n=rs(t);e.slots.default=()=>n},os=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Bt(t),te(t,"_",n)):as(t,e.slots={},e)}else e.slots={},t&&ss(e,t);te(e.slots,vo,1)},ls=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,s=E;if(32&r.shapeFlag){const r=t._;r?n&&1===r?a=!1:(C(i,t),n||1!==r||delete i._):(a=!t.$stable,as(t,i,e)),s=t}else t&&(ss(e,t),s={default:1});if(a)for(const o in i)ns(o)||o in s||delete i[o]};function us(e){e.optionMergeStrategies=new Proxy({},{get(e,t){return t in e?e[t]:t in Ba&&Jn("CONFIG_OPTION_MERGE_STRATS",null)?Ba[t]:void 0}})}let cs,ds,fs=!1;function hs(e,t){cs=t({});const n=ds=function e(t={}){return r(t,e)};function r(t={},r){Zn("GLOBAL_MOUNT",null);const{data:i}=t;i&&!F(i)&&Jn("OPTIONS_DATA_FN",null)&&(t.data=()=>i);const a=e(t);r!==n&&ys(a,r);const s=a._createRoot(t);return t.el?s.$mount(t.el):s}n.version="2.6.14-compat:3.2.37",n.config=cs.config,n.use=(e,...t)=>(e&&F(e.install)?e.install(n,...t):F(e)&&e(n,...t),n),n.mixin=e=>(cs.mixin(e),n),n.component=(e,t)=>t?(cs.component(e,t),n):cs.component(e),n.directive=(e,t)=>t?(cs.directive(e,t),n):cs.directive(e),n.options={_base:n};let i=1;n.cid=i,n.nextTick=wn;const a=new WeakMap;function s(e={}){if(Zn("GLOBAL_EXTEND",null),F(e)&&(e=e.options),a.has(e))return a.get(e);const t=this;function o(e){return r(e?Na(C({},o.options),e,Ba):o.options,o)}o.super=t,o.prototype=Object.create(n.prototype),o.prototype.constructor=o;const l={};for(const n in t.options){const e=t.options[n];l[n]=w(e)?e.slice():B(e)?C(Object.create(null),e):e}return o.options=Na(l,e,Ba),o.options._base=o,o.extend=s.bind(o),o.mixin=t.mixin,o.use=t.use,o.cid=++i,a.set(e,o),o}n.extend=s.bind(n),n.set=(e,t,n)=>{Zn("GLOBAL_SET",null),e[t]=n},n.delete=(e,t)=>{Zn("GLOBAL_DELETE",null),delete e[t]},n.observable=e=>(Zn("GLOBAL_OBSERVABLE",null),kt(e)),n.filter=(e,t)=>t?(cs.filter(e,t),n):cs.filter(e);const o={warn:S,extend:C,mergeOptions:(e,t,n)=>Na(e,t,n?void 0:Ba),defineReactive:Ss};return Object.defineProperty(n,"util",{get(){return Zn("GLOBAL_PRIVATE_UTIL",null),o}}),n.configureCompat=qn,n}function ps(e,t,n){vs(e,t),us(e.config),cs&&(bs(e,t,n),gs(e),ms(e))}function vs(e,t){t.filters={},e.filter=(n,r)=>(Zn("FILTERS",null),r?(t.filters[n]=r,e):t.filters[n])}function gs(e){Object.defineProperties(e,{prototype:{get(){return e.config.globalProperties}},nextTick:{value:wn},extend:{value:ds.extend},set:{value:ds.set},delete:{value:ds.delete},observable:{value:ds.observable},util:{get(){return ds.util}}})}function ms(e){e._context.mixins=[...cs._context.mixins],["components","directives","filters"].forEach((t=>{e._context[t]=Object.create(cs._context[t])})),fs=!0;for(const t in cs.config){if("isNativeTag"===t)continue;if(Yo()&&("isCustomElement"===t||"compilerOptions"===t))continue;const n=cs.config[t];e.config[t]=B(n)?Object.create(n):n,"ignoredElements"===t&&Qn("CONFIG_IGNORED_ELEMENTS",null)&&!Yo()&&w(n)&&(e.config.compilerOptions.isCustomElement=e=>n.some((t=>M(t)?t===e:t.test(e))))}fs=!1,ys(e,ds)}function ys(e,t){const n=Qn("GLOBAL_PROTOTYPE",null);n&&(e.config.globalProperties=Object.create(t.prototype));let r=!1;const i=Object.getOwnPropertyDescriptors(t.prototype);for(const a in i)"constructor"!==a&&(r=!0,n&&Object.defineProperty(e.config.globalProperties,a,i[a]))}function bs(e,t,n){let r=!1;e._createRoot=i=>{const a=e._component,s=bo(a,i.propsData||null);s.appContext=t;const o=!F(a)&&!a.render&&!a.template,l=()=>{},u=Io(s,null,null);return o&&(u.render=l),Vo(u),s.component=u,s.isCompatRoot=!0,u.ctx._compat_mount=t=>{if(r)return;let i;if("string"===typeof t){const e=document.querySelector(t);if(!e)return;i=e}else i=t||document.createElement("div");const c=i instanceof SVGElement;return o&&u.render===l&&(u.render=null,a.template=i.innerHTML,$o(u,!1,!0)),i.innerHTML="",n(s,i,c),i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r=!0,e._container=i,i.__vue_app__=e,u.proxy},u.ctx._compat_destroy=()=>{if(r)n(null,e._container),delete e._container.__vue_app__;else{const{bum:e,scope:t,um:n}=u;e&&ee(e),Qn("INSTANCE_EVENT_HOOKS",u)&&u.emit("hook:beforeDestroy"),t&&t.stop(),n&&ee(n),Qn("INSTANCE_EVENT_HOOKS",u)&&u.emit("hook:destroyed")}},u.proxy}}const Es=["push","pop","shift","unshift","splice","sort","reverse"],Ts=new WeakSet;function Ss(e,t,n){if(B(n)&&!Pt(n)&&!Ts.has(n)){const e=kt(n);w(n)?Es.forEach((t=>{n[t]=(...n)=>{Array.prototype[t].call(e,...n)}})):Object.keys(n).forEach((e=>{try{_s(n,e,n[e])}catch(t){}}))}const r=e.$;r&&e===r.proxy?(_s(r.ctx,t,n),r.accessCache=Object.create(null)):Pt(e)?e[t]=n:_s(e,t,n)}function _s(e,t,n){n=B(n)?kt(n):n,Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get(){return we(e,"get",t),n},set(r){n=B(r)?kt(r):r,Ie(e,"set",t,r)}})}function Ls(){return{app:null,config:{isNativeTag:_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let As=0;function Rs(e,t){return function(n,r=null){F(n)||(n=Object.assign({},n)),null==r||B(r)||(r=null);const i=Ls(),a=new Set;let s=!1;const o=i.app={_uid:As++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:bl,get config(){return i.config},set config(e){0},use(e,...t){return a.has(e)||(e&&F(e.install)?(a.add(e),e.install(o,...t)):F(e)&&(a.add(e),e(o,...t))),o},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),o},component(e,t){return t?(i.components[e]=t,o):i.components[e]},directive(e,t){return t?(i.directives[e]=t,o):i.directives[e]},mount(a,l,u){if(!s){0;const c=bo(n,r);return c.appContext=i,l&&t?t(c,a):e(c,a,u),s=!0,o._container=a,a.__vue_app__=o,Xo(c.component)||c.component.proxy}},unmount(){s&&(e(null,o._container),delete o._container.__vue_app__)},provide(e,t){return i.provides[e]=t,o}};return ps(o,i,e),o}}function Cs(e,t,n,r,i=!1){if(w(e))return void e.forEach(((e,a)=>Cs(e,t&&(w(t)?t[a]:t),n,r,i)));if(li(r)&&!i)return;const a=4&r.shapeFlag?Xo(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=e;const u=t&&t.r,c=o.refs===E?o.refs={}:o.refs,d=o.setupState;if(null!=u&&u!==l&&(M(u)?(c[u]=null,D(d,u)&&(d[u]=null)):Kt(u)&&(u.value=null)),F(l))pn(l,o,12,[s,c]);else{const t=M(l),r=Kt(l);if(t||r){const o=()=>{if(e.f){const n=t?c[l]:l.value;i?w(n)&&x(n,a):w(n)?n.includes(a)||n.push(a):t?(c[l]=[a],D(d,l)&&(d[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else t?(c[l]=s,D(d,l)&&(d[l]=s)):r&&(l.value=s,e.k&&(c[e.k]=s))};s?(o.id=-1,Is(o,n)):o()}else 0}}let xs=!1;const ks=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Ds=e=>8===e.nodeType;function ws(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:s,remove:o,insert:l,createComment:u}}=e,c=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),jn(),void(t._vnode=e);xs=!1,d(t.firstChild,e,null,null,null),jn(),t._vnode=e,xs&&console.error("Hydration completed but contains mismatches.")},d=(n,r,o,u,c,m=!1)=>{const y=Ds(n)&&"["===n.data,b=()=>v(n,r,o,u,c,y),{type:E,ref:T,shapeFlag:S,patchFlag:_}=r,L=n.nodeType;r.el=n,-2===_&&(m=!1,r.dynamicChildren=null);let A=null;switch(E){case Zs:3!==L?""===r.children?(l(r.el=i(""),s(n),n),A=n):A=b():(n.data!==r.children&&(xs=!0,n.data=r.children),A=a(n));break;case Js:A=8!==L||y?b():a(n);break;case eo:if(1===L||3===L){A=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===A.nodeType?A.outerHTML:A.data),t===r.staticCount-1&&(r.anchor=A),A=a(A);return A}A=b();break;case Qs:A=y?p(n,r,o,u,c,m):b();break;default:if(1&S)A=1!==L||r.type.toLowerCase()!==n.tagName.toLowerCase()?b():f(n,r,o,u,c,m);else if(6&S){r.slotScopeIds=c;const e=s(n);if(t(r,e,null,o,u,ks(e),m),A=y?g(n):a(n),A&&Ds(A)&&"teleport end"===A.data&&(A=a(A)),li(r)){let t;y?(t=bo(Qs),t.anchor=A?A.previousSibling:e.lastChild):t=3===n.nodeType?_o(""):bo("div"),t.el=n,r.component.subTree=t}}else 64&S?A=8!==L?b():r.type.hydrate(n,r,o,u,c,m,e,h):128&S&&(A=r.type.hydrate(n,r,o,u,ks(s(n)),c,m,e,d))}return null!=T&&Cs(T,null,u,r),A},f=(e,t,n,i,a,s)=>{s=s||!!t.dynamicChildren;const{type:l,props:u,patchFlag:c,shapeFlag:d,dirs:f}=t,p="input"===l&&f||"option"===l;if(p||-1!==c){if(f&&Ui(t,null,n,"created"),u)if(p||!s||48&c)for(const t in u)(p&&t.endsWith("value")||A(t)&&!W(t))&&r(e,t,null,u[t],!1,void 0,n);else u.onClick&&r(e,"onClick",null,u.onClick,!1,void 0,n);let l;if((l=u&&u.onVnodeBeforeMount)&&Do(l,n,t),f&&Ui(t,null,n,"beforeMount"),((l=u&&u.onVnodeMounted)||f)&&Br((()=>{l&&Do(l,n,t),f&&Ui(t,null,n,"mounted")}),i),16&d&&(!u||!u.innerHTML&&!u.textContent)){let r=h(e.firstChild,t,e,n,i,a,s);while(r){xs=!0;const e=r;r=r.nextSibling,o(e)}}else 8&d&&e.textContent!==t.children&&(xs=!0,e.textContent=t.children)}return e.nextSibling},h=(e,t,r,i,a,s,o)=>{o=o||!!t.dynamicChildren;const l=t.children,u=l.length;for(let c=0;c<u;c++){const t=o?l[c]:l[c]=Ro(l[c]);if(e)e=d(e,t,i,a,s,o);else{if(t.type===Zs&&!t.children)continue;xs=!0,n(null,t,r,null,i,a,ks(r),s)}}return e},p=(e,t,n,r,i,o)=>{const{slotScopeIds:c}=t;c&&(i=i?i.concat(c):c);const d=s(e),f=h(a(e),t,d,n,r,i,o);return f&&Ds(f)&&"]"===f.data?a(t.anchor=f):(xs=!0,l(t.anchor=u("]"),d,f),f)},v=(e,t,r,i,l,u)=>{if(xs=!0,t.el=null,u){const t=g(e);while(1){const n=a(e);if(!n||n===t)break;o(n)}}const c=a(e),d=s(e);return o(e),n(null,t,d,c,r,i,ks(d),l),c},g=e=>{let t=0;while(e)if(e=a(e),e&&Ds(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return a(e);t--}return e};return[c,d]}function Os(){}const Is=Br;function Ps(e){return Ms(e)}function Fs(e){return Ms(e,ws)}function Ms(e,t){Os();const n=ie();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=S,cloneNode:p,insertStaticContent:v}=e,g=(e,t,n,r=null,i=null,a=null,s=!1,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!ho(e,t)&&(r=z(e),V(e,i,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:d}=t;switch(u){case Zs:m(e,t,n,r);break;case Js:y(e,t,n,r);break;case eo:null==e&&b(t,n,r,s);break;case Qs:O(e,t,n,r,i,a,s,o,l);break;default:1&d?A(e,t,n,r,i,a,s,o,l):6&d?I(e,t,n,r,i,a,s,o,l):(64&d||128&d)&&u.process(e,t,n,r,i,a,s,o,l,X)}null!=c&&i&&Cs(c,e&&e.ref,a,t||e,!t)},m=(e,t,n,i)=>{if(null==e)r(t.el=o(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&u(n,t.children)}},y=(e,t,n,i)=>{null==e?r(t.el=l(t.children||""),n,i):t.el=e.el},b=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},_=({el:e,anchor:t},n,i)=>{let a;while(e&&e!==t)a=f(e),r(e,n,i),e=a;r(t,n,i)},L=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),i(e),e=n;i(t)},A=(e,t,n,r,i,a,s,o,l)=>{s=s||"svg"===t.type,null==e?R(t,n,r,i,a,s,o,l):k(e,t,i,a,s,o,l)},R=(e,t,n,i,o,l,u,d)=>{let f,h;const{type:v,props:g,shapeFlag:m,transition:y,patchFlag:b,dirs:E}=e;if(e.el&&void 0!==p&&-1===b)f=e.el=p(e.el);else{if(f=e.el=s(e.type,l,g&&g.is,g),8&m?c(f,e.children):16&m&&x(e.children,f,null,i,o,l&&"foreignObject"!==v,u,d),E&&Ui(e,null,i,"created"),g){for(const t in g)"value"===t||W(t)||a(f,t,null,g[t],l,e.children,i,o,$);"value"in g&&a(f,"value",null,g.value),(h=g.onVnodeBeforeMount)&&Do(h,i,e)}C(f,e,e.scopeId,u,i)}E&&Ui(e,null,i,"beforeMount");const T=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;T&&y.beforeEnter(f),r(f,t,n),((h=g&&g.onVnodeMounted)||T||E)&&Is((()=>{h&&Do(h,i,e),T&&y.enter(f),E&&Ui(e,null,i,"mounted")}),o)},C=(e,t,n,r,i)=>{if(n&&h(e,n),r)for(let a=0;a<r.length;a++)h(e,r[a]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;C(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},x=(e,t,n,r,i,a,s,o,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=o?Co(e[u]):Ro(e[u]);g(null,l,t,n,r,i,a,s,o)}},k=(e,t,n,r,i,s,o)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const h=e.props||E,p=t.props||E;let v;n&&Ns(n,!1),(v=p.onVnodeBeforeUpdate)&&Do(v,n,t,e),f&&Ui(t,e,n,"beforeUpdate"),n&&Ns(n,!0);const g=i&&"foreignObject"!==t.type;if(d?D(e.dynamicChildren,d,l,n,r,g,s):o||B(e,t,l,null,n,r,g,s,!1),u>0){if(16&u)w(l,t,h,p,n,r,i);else if(2&u&&h.class!==p.class&&a(l,"class",null,p.class,i),4&u&&a(l,"style",h.style,p.style,i),8&u){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const o=s[t],u=h[o],c=p[o];c===u&&"value"!==o||a(l,o,u,c,i,e.children,n,r,$)}}1&u&&e.children!==t.children&&c(l,t.children)}else o||null!=d||w(l,t,h,p,n,r,i);((v=p.onVnodeUpdated)||f)&&Is((()=>{v&&Do(v,n,t,e),f&&Ui(t,e,n,"updated")}),r)},D=(e,t,n,r,i,a,s)=>{for(let o=0;o<t.length;o++){const l=e[o],u=t[o],c=l.el&&(l.type===Qs||!ho(l,u)||70&l.shapeFlag)?d(l.el):n;g(l,u,c,null,r,i,a,s,!0)}},w=(e,t,n,r,i,s,o)=>{if(n!==r){for(const l in r){if(W(l))continue;const u=r[l],c=n[l];u!==c&&"value"!==l&&a(e,l,c,u,o,t.children,i,s,$)}if(n!==E)for(const l in n)W(l)||l in r||a(e,l,n[l],null,o,t.children,i,s,$);"value"in r&&a(e,"value",n.value,r.value)}},O=(e,t,n,i,a,s,l,u,c)=>{const d=t.el=e?e.el:o(""),f=t.anchor=e?e.anchor:o("");let{patchFlag:h,dynamicChildren:p,slotScopeIds:v}=t;v&&(u=u?u.concat(v):v),null==e?(r(d,n,i),r(f,n,i),x(t.children,n,f,a,s,l,u,c)):h>0&&64&h&&p&&e.dynamicChildren?(D(e.dynamicChildren,p,n,a,s,l,u),(null!=t.key||a&&t===a.subTree)&&Bs(e,t,!0)):B(e,t,n,f,a,s,l,u,c)},I=(e,t,n,r,i,a,s,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):P(t,n,r,i,a,s,l):F(e,t,l)},P=(e,t,n,r,i,a,s)=>{const o=e.isCompatRoot&&e.component,l=o||(e.component=Io(e,r,i));if(di(e)&&(l.ctx.renderer=X),o||Vo(l),l.asyncDep){if(i&&i.registerDep(l,M),!e.el){const e=l.subTree=bo(Js);y(null,e,t,n)}}else M(l,e,t,n,i,a,s)},F=(e,t,n)=>{const r=t.component=e.component;if(Ar(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void N(r,t,n);r.next=t,Fn(r.update),r.update()}else t.el=e.el,r.vnode=t},M=(e,t,n,r,i,a,s)=>{const o=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:l,vnode:u}=e,c=n;0,Ns(e,!1),n?(n.el=u.el,N(e,n,s)):n=u,r&&ee(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Do(t,l,n,u),Qn("INSTANCE_EVENT_HOOKS",e)&&e.emit("hook:beforeUpdate"),Ns(e,!0);const f=Tr(e);0;const h=e.subTree;e.subTree=f,g(h,f,d(h.el),z(h),e,i,a),n.el=f.el,null===c&&Cr(e,f.el),o&&Is(o,i),(t=n.props&&n.props.onVnodeUpdated)&&Is((()=>Do(t,l,n,u)),i),Qn("INSTANCE_EVENT_HOOKS",e)&&Is((()=>e.emit("hook:updated")),i)}else{let s;const{el:o,props:l}=t,{bm:u,m:c,parent:d}=e,f=li(t);if(Ns(e,!1),u&&ee(u),!f&&(s=l&&l.onVnodeBeforeMount)&&Do(s,d,t),Qn("INSTANCE_EVENT_HOOKS",e)&&e.emit("hook:beforeMount"),Ns(e,!0),o&&Z){const n=()=>{e.subTree=Tr(e),Z(o,e.subTree,e,i,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const s=e.subTree=Tr(e);0,g(null,s,n,r,e,i,a),t.el=s.el}if(c&&Is(c,i),!f&&(s=l&&l.onVnodeMounted)){const e=t;Is((()=>Do(s,d,e)),i)}Qn("INSTANCE_EVENT_HOOKS",e)&&Is((()=>e.emit("hook:mounted")),i),(256&t.shapeFlag||d&&li(d.vnode)&&256&d.vnode.shapeFlag)&&(e.a&&Is(e.a,i),Qn("INSTANCE_EVENT_HOOKS",e)&&Is((()=>e.emit("hook:activated")),i)),e.isMounted=!0,t=n=r=null}},l=e.effect=new _e(o,(()=>In(u)),e.scope),u=e.update=()=>l.run();u.id=e.uid,Ns(e,!0),u()},N=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,za(e,t.props,r,n),ls(e,t.children,n),ke(),Un(void 0,e.update),De()},B=(e,t,n,r,i,a,s,o,l=!1)=>{const u=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void j(u,f,n,r,i,a,s,o,l);if(256&h)return void U(u,f,n,r,i,a,s,o,l)}8&p?(16&d&&$(u,i,a),f!==u&&c(n,f)):16&d?16&p?j(u,f,n,r,i,a,s,o,l):$(u,i,a,!0):(8&d&&c(n,""),16&p&&x(f,n,r,i,a,s,o,l))},U=(e,t,n,r,i,a,s,o,l)=>{e=e||T,t=t||T;const u=e.length,c=t.length,d=Math.min(u,c);let f;for(f=0;f<d;f++){const r=t[f]=l?Co(t[f]):Ro(t[f]);g(e[f],r,n,null,i,a,s,o,l)}u>c?$(e,i,a,!0,!1,d):x(t,n,r,i,a,s,o,l,d)},j=(e,t,n,r,i,a,s,o,l)=>{let u=0;const c=t.length;let d=e.length-1,f=c-1;while(u<=d&&u<=f){const r=e[u],c=t[u]=l?Co(t[u]):Ro(t[u]);if(!ho(r,c))break;g(r,c,n,null,i,a,s,o,l),u++}while(u<=d&&u<=f){const r=e[d],u=t[f]=l?Co(t[f]):Ro(t[f]);if(!ho(r,u))break;g(r,u,n,null,i,a,s,o,l),d--,f--}if(u>d){if(u<=f){const e=f+1,d=e<c?t[e].el:r;while(u<=f)g(null,t[u]=l?Co(t[u]):Ro(t[u]),n,d,i,a,s,o,l),u++}}else if(u>f)while(u<=d)V(e[u],i,a,!0),u++;else{const h=u,p=u,v=new Map;for(u=p;u<=f;u++){const e=t[u]=l?Co(t[u]):Ro(t[u]);null!=e.key&&v.set(e.key,u)}let m,y=0;const b=f-p+1;let E=!1,S=0;const _=new Array(b);for(u=0;u<b;u++)_[u]=0;for(u=h;u<=d;u++){const r=e[u];if(y>=b){V(r,i,a,!0);continue}let c;if(null!=r.key)c=v.get(r.key);else for(m=p;m<=f;m++)if(0===_[m-p]&&ho(r,t[m])){c=m;break}void 0===c?V(r,i,a,!0):(_[c-p]=u+1,c>=S?S=c:E=!0,g(r,t[c],n,null,i,a,s,o,l),y++)}const L=E?Us(_):T;for(m=L.length-1,u=b-1;u>=0;u--){const e=p+u,d=t[e],f=e+1<c?t[e+1].el:r;0===_[u]?g(null,d,n,f,i,a,s,o,l):E&&(m<0||u!==L[m]?G(d,n,f,2):m--)}}},G=(e,t,n,i,a=null)=>{const{el:s,type:o,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void G(e.component.subTree,t,n,i);if(128&c)return void e.suspense.move(t,n,i);if(64&c)return void o.move(e,t,n,X);if(o===Qs){r(s,t,n);for(let e=0;e<u.length;e++)G(u[e],t,n,i);return void r(e.anchor,t,n)}if(o===eo)return void _(e,t,n);const d=2!==i&&1&c&&l;if(d)if(0===i)l.beforeEnter(s),r(s,t,n),Is((()=>l.enter(s)),a);else{const{leave:e,delayLeave:i,afterLeave:a}=l,o=()=>r(s,t,n),u=()=>{e(s,(()=>{o(),a&&a()}))};i?i(s,o,u):u()}else r(s,t,n)},V=(e,t,n,r=!1,i=!1)=>{const{type:a,props:s,ref:o,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:d,dirs:f}=e;if(null!=o&&Cs(o,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const h=1&c&&f,p=!li(e);let v;if(p&&(v=s&&s.onVnodeBeforeUnmount)&&Do(v,t,e),6&c)Y(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);h&&Ui(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,X,r):u&&(a!==Qs||d>0&&64&d)?$(u,t,n,!1,!0):(a===Qs&&384&d||!i&&16&c)&&$(l,t,n),r&&H(e)}(p&&(v=s&&s.onVnodeUnmounted)||h)&&Is((()=>{v&&Do(v,t,e),h&&Ui(e,null,t,"unmounted")}),n)},H=e=>{const{type:t,el:n,anchor:r,transition:a}=e;if(t===Qs)return void K(n,r);if(t===eo)return void L(e);const s=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:r}=a,i=()=>t(n,s);r?r(e.el,s,i):i()}else s()},K=(e,t)=>{let n;while(e!==t)n=f(e),i(e),e=n;i(t)},Y=(e,t,n)=>{const{bum:r,scope:i,update:a,subTree:s,um:o}=e;r&&ee(r),Qn("INSTANCE_EVENT_HOOKS",e)&&e.emit("hook:beforeDestroy"),i.stop(),a&&(a.active=!1,V(s,e,t,n)),o&&Is(o,t),Qn("INSTANCE_EVENT_HOOKS",e)&&Is((()=>e.emit("hook:destroyed")),t),Is((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},$=(e,t,n,r=!1,i=!1,a=0)=>{for(let s=a;s<e.length;s++)V(e[s],t,n,r,i)},z=e=>6&e.shapeFlag?z(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),q=(e,t,n)=>{null==e?t._vnode&&V(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),jn(),t._vnode=e},X={p:g,um:V,m:G,r:H,mt:P,mc:x,pc:B,pbc:D,n:z,o:e};let Q,Z;return t&&([Q,Z]=t(X)),{render:q,hydrate:Q,createApp:Rs(q,Q)}}function Ns({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Bs(e,t,n=!1){const r=e.children,i=t.children;if(w(r)&&w(i))for(let a=0;a<r.length;a++){const e=r[a];let t=i[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=i[a]=Co(i[a]),t.el=e.el),n||Bs(e,t))}}function Us(e){const t=e.slice(),n=[0];let r,i,a,s,o;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}a=0,s=n.length-1;while(a<s)o=a+s>>1,e[n[o]]<l?a=o+1:s=o;l<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}a=n.length,s=n[a-1];while(a-- >0)n[a]=s,s=t[s];return n}const js=e=>e.__isTeleport,Gs=e=>e&&(e.disabled||""===e.disabled),Vs=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Hs=(e,t)=>{const n=e&&e.to;if(M(n)){if(t){const e=t(n);return e}return null}return n},Ks={__isTeleport:!0,process(e,t,n,r,i,a,s,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=Gs(t.props);let{shapeFlag:y,children:b,dynamicChildren:E}=t;if(null==e){const e=t.el=v(""),u=t.anchor=v("");h(e,n,r),h(u,n,r);const d=t.target=Hs(t.props,p),f=t.targetAnchor=v("");d&&(h(f,d),s=s||Vs(d));const g=(e,t)=>{16&y&&c(b,e,t,i,a,s,o,l)};m?g(n,u):d&&g(d,f)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,h=t.targetAnchor=e.targetAnchor,v=Gs(e.props),g=v?n:c,y=v?r:h;if(s=s||Vs(c),E?(f(e.dynamicChildren,E,g,i,a,s,o),Bs(e,t,!0)):l||d(e,t,g,y,i,a,s,o,!1),m)v||Ws(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Hs(t.props,p);e&&Ws(t,e,null,u,0)}else v&&Ws(t,c,h,u,1)}},remove(e,t,n,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:u,targetAnchor:c,target:d,props:f}=e;if(d&&a(c),(s||!Gs(f))&&(a(u),16&o))for(let h=0;h<l.length;h++){const e=l[h];i(e,t,n,!0,!!e.dynamicChildren)}},move:Ws,hydrate:Ys};function Ws(e,t,n,{o:{insert:r},m:i},a=2){0===a&&r(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:l,children:u,props:c}=e,d=2===a;if(d&&r(s,t,n),(!d||Gs(c))&&16&l)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(o,t,n)}function Ys(e,t,n,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},u){const c=t.target=Hs(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(Gs(t.props))t.anchor=u(s(e),t,o(e),n,r,i,a),t.targetAnchor=l;else{t.anchor=s(e);let o=l;while(o)if(o=s(o),o&&8===o.nodeType&&"teleport anchor"===o.data){t.targetAnchor=o,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(l,t,c,n,r,i,a)}}return t.anchor&&s(t.anchor)}const $s=Ks,zs=new Map;function qs(e){if(zs.has(e))return zs.get(e);let t,n;const r=new Promise(((e,r)=>{t=e,n=r})),i=e(t,n);let a;return a=U(i)?ui((()=>i)):!B(i)||fo(i)||w(i)?null==i?ui((()=>r)):e:ui({loader:()=>i.component,loadingComponent:i.loading,errorComponent:i.error,delay:i.delay,timeout:i.timeout}),zs.set(e,a),a}function Xs(e,t){return e.__isBuiltIn?e:(F(e)&&e.cid&&(e=e.options),F(e)&&er("COMPONENT_ASYNC",t,e)?qs(e):B(e)&&e.functional&&Jn("COMPONENT_FUNCTIONAL",t,e)?sa(e):e)}const Qs=Symbol(void 0),Zs=Symbol(void 0),Js=Symbol(void 0),eo=Symbol(void 0),to=[];let no=null;function ro(e=!1){to.push(no=e?null:[])}function io(){to.pop(),no=to[to.length-1]||null}let ao,so=1;function oo(e){so+=e}function lo(e){return e.dynamicChildren=so>0?no||T:null,io(),so>0&&no&&no.push(e),e}function uo(e,t,n,r,i,a){return lo(yo(e,t,n,r,i,a,!0))}function co(e,t,n,r,i){return lo(bo(e,t,n,r,i,!0))}function fo(e){return!!e&&!0===e.__v_isVNode}function ho(e,t){return e.type===t.type&&e.key===t.key}function po(e){ao=e}const vo="__vInternal",go=({key:e})=>null!=e?e:null,mo=({ref:e,ref_key:t,ref_for:n})=>null!=e?M(e)||Kt(e)||F(e)?{i:pr,r:e,k:t,f:!!n}:e:null;function yo(e,t=null,n=null,r=0,i=null,a=(e===Qs?0:1),s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&go(t),ref:t&&mo(t),scopeId:vr,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null};return o?(xo(l,n),128&a&&e.normalize(l)):n&&(l.shapeFlag|=M(n)?8:16),so>0&&!s&&no&&(l.patchFlag>0||6&a)&&32!==l.patchFlag&&no.push(l),lr(l),ra(l),l}const bo=Eo;function Eo(e,t=null,n=null,r=0,i=null,a=!1){if(e&&e!==Ki||(e=Js),fo(e)){const r=So(e,t,!0);return n&&xo(r,n),so>0&&!a&&no&&(6&r.shapeFlag?no[no.indexOf(e)]=r:no.push(r)),r.patchFlag|=-2,r}if(tl(e)&&(e=e.__vccOpts),e=Xs(e,pr),t){t=To(t);let{class:e,style:n}=t;e&&!M(e)&&(t.class=h(e)),B(n)&&(Nt(n)&&!w(n)&&(n=C({},n)),t.style=u(n))}const s=M(e)?1:xr(e)?128:js(e)?64:B(e)?4:F(e)?2:0;return yo(e,t,n,r,i,s,a,!0)}function To(e){return e?Nt(e)||vo in e?C({},e):e:null}function So(e,t,n=!1){const{props:r,ref:i,patchFlag:a,children:s}=e,o=t?ko(r||{},t):r,l={__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&go(o),ref:t&&t.ref?n&&i?w(i)?i.concat(mo(t)):[i,mo(t)]:mo(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Qs?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&So(e.ssContent),ssFallback:e.ssFallback&&So(e.ssFallback),el:e.el,anchor:e.anchor};return ra(l),l}function _o(e=" ",t=0){return bo(Zs,null,e,t)}function Lo(e,t){const n=bo(eo,null,e);return n.staticCount=t,n}function Ao(e="",t=!1){return t?(ro(),co(Js,null,e)):bo(Js,null,e)}function Ro(e){return null==e||"boolean"===typeof e?bo(Js):w(e)?bo(Qs,null,e.slice()):"object"===typeof e?Co(e):bo(Zs,null,String(e))}function Co(e){return null===e.el||e.memo?e:So(e)}function xo(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(w(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),xo(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||vo in t?3===r&&pr&&(1===pr.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=pr}}else F(t)?(t={default:t,_ctx:pr},n=32):(t=String(t),64&r?(n=16,t=[_o(t)]):n=8);e.children=t,e.shapeFlag|=n}function ko(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=h([t.class,r.class]));else if("style"===e)t.style=u([t.style,r.style]);else if(A(e)){const n=t[e],i=r[e];!i||n===i||w(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function Do(e,t,n,r=null){vn(e,t,7,[n,r])}const wo=Ls();let Oo=0;function Io(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||wo,a={uid:Oo++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new se(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qa(r,i),emitsOptions:fr(r,i),emit:null,emitted:null,propsDefaults:E,inheritAttrs:r.inheritAttrs,ctx:E,data:E,props:E,attrs:E,slots:E,refs:E,setupState:E,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=dr.bind(null,a),e.ce&&e.ce(a),a}let Po=null;const Fo=()=>Po||pr,Mo=e=>{Po=e,e.scope.on()},No=()=>{Po&&Po.scope.off(),Po=null};function Bo(e){return 4&e.vnode.shapeFlag}let Uo,jo,Go=!1;function Vo(e,t=!1){Go=t;const{props:n,children:r}=e.vnode,i=Bo(e);$a(e,n,i,t),os(e,r);const a=i?Ho(e,t):void 0;return Go=!1,a}function Ho(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ut(new Proxy(e.ctx,xa));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?qo(e):null;Mo(e),ke();const i=pn(r,e,0,[e.props,n]);if(De(),No(),U(i)){if(i.then(No,No),t)return i.then((n=>{Ko(e,n,t)})).catch((t=>{gn(t,e,0)}));e.asyncDep=i}else Ko(e,i,t)}else $o(e,t)}function Ko(e,t,n){F(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:B(t)&&(e.setupState=Zt(t)),$o(e,n)}function Wo(e){Uo=e,jo=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,ka))}}const Yo=()=>!Uo;function $o(e,t,n){const r=e.type;if(Xi(e),!e.render){if(!t&&Uo&&!r.render){const t=e.vnode.props&&e.vnode.props["inline-template"]||r.template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:s}=r,o=C(C({isCustomElement:n,delimiters:a},i),s);o.compatConfig=Object.create(zn),r.compatConfig&&C(o.compatConfig,r.compatConfig),r.render=Uo(t,o)}}e.render=r.render||S,jo&&jo(e)}n||(Mo(e),ke(),Oa(e),De(),No())}function zo(e){return new Proxy(e.attrs,{get(t,n){return we(e,"get","$attrs"),t[n]}})}function qo(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=zo(e))},slots:e.slots,emit:e.emit,expose:t}}function Xo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Zt(Ut(e.exposed)),{get(t,n){return n in t?t[n]:n in Ca?Ca[n](e):void 0}}))}const Qo=/(?:^|[-_])(\w)/g,Zo=e=>e.replace(Qo,(e=>e.toUpperCase())).replace(/[-_]/g,"");function Jo(e,t=!0){return F(e)?e.displayName||e.name:e.name||t&&e.__name}function el(e,t,n=!1){let r=Jo(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?Zo(r):n?"App":"Anonymous"}function tl(e){return F(e)&&"__vccOpts"in e}const nl=(e,t)=>sn(e,t,Go);function rl(){return null}function il(){return null}function al(e){0}function sl(e,t){return null}function ol(){return ul().slots}function ll(){return ul().attrs}function ul(){const e=Fo();return e.setupContext||(e.setupContext=qo(e))}function cl(e,t){const n=w(e)?e.reduce(((e,t)=>(e[t]={},e)),{}):e;for(const r in t){const e=n[r];e?w(e)||F(e)?n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(n[r]={default:t[r]})}return n}function dl(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function fl(e){const t=Fo();let n=e();return No(),U(n)&&(n=n.catch((e=>{throw Mo(t),e}))),[n,()=>Mo(t)]}function hl(e,t,n){const r=arguments.length;return 2===r?B(t)&&!w(t)?fo(t)?bo(e,null,[t]):bo(e,t):bo(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&fo(n)&&(n=[n]),bo(e,t,n))}const pl=Symbol(""),vl=()=>{{const e=Gr(pl);return e||ln("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function gl(){return void 0}function ml(e,t,n,r){const i=n[r];if(i&&yl(i,e))return i;const a=t();return a.memo=e.slice(),n[r]=a}function yl(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(J(n[r],t[r]))return!1;return so>0&&no&&no.push(e),!0}const bl="3.2.37",El={createComponentInstance:Io,setupComponent:Vo,renderComponentRoot:Tr,setCurrentRenderingInstance:gr,isVNode:fo,normalizeVNode:Ro},Tl=El,Sl=$i,_l={warnDeprecation:$n,createCompatVue:hs,isCompatEnabled:Qn,checkCompatEnabled:er,softAssertCompatEnabled:Jn},Ll=_l,Al="http://www.w3.org/2000/svg",Rl="undefined"!==typeof document?document:null,Cl=Rl&&Rl.createElement("template"),xl={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Rl.createElementNS(Al,e):Rl.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>Rl.createTextNode(e),createComment:e=>Rl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,a){const s=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===a||!(i=i.nextSibling))break}else{Cl.innerHTML=r?`<svg>${e}</svg>`:e;const i=Cl.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function kl(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Dl(e,t,n){const r=e.style,i=M(n);if(n&&!i){for(const e in n)Ol(r,e,n[e]);if(t&&!M(t))for(const e in t)null==n[e]&&Ol(r,e,"")}else{const a=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=a)}}const wl=/\s*!important$/;function Ol(e,t,n){if(w(n))n.forEach((n=>Ol(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Fl(e,t);wl.test(n)?e.setProperty(X(r),n.replace(wl,""),"important"):e[r]=n}}const Il=["Webkit","Moz","ms"],Pl={};function Fl(e,t){const n=Pl[t];if(n)return n;let r=z(t);if("filter"!==r&&r in e)return Pl[t]=r;r=Q(r);for(let i=0;i<Il.length;i++){const n=Il[i]+r;if(n in e)return Pl[t]=n}return t}const Ml="http://www.w3.org/1999/xlink";function Nl(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Ml,t.slice(6,t.length)):e.setAttributeNS(Ml,t,n);else{if(Ul(e,t,n,i))return;const r=o(t);null==n||r&&!l(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}const Bl=r("contenteditable,draggable,spellcheck");function Ul(e,t,n,r=null){if(Bl(t)){const i=null===n?"false":"boolean"!==typeof n&&void 0!==n?"true":null;if(i&&Ll.softAssertCompatEnabled("ATTR_ENUMERATED_COERCION",r,t,n,i))return e.setAttribute(t,i),!0}else if(!1===n&&!o(t)&&Ll.softAssertCompatEnabled("ATTR_FALSE_VALUE",r,t))return e.removeAttribute(t),!0;return!1}function jl(e,t,n,r,i,a,s){if("innerHTML"===t||"textContent"===t)return r&&s(r,i,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let o=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=l(n):null==n&&"string"===r?(n="",o=!0):"number"===r&&(n=0,o=!0)}else if(!1===n&&Ll.isCompatEnabled("ATTR_FALSE_VALUE",i)){const r=typeof e[t];"string"!==r&&"number"!==r||(n="number"===r?0:"",o=!0)}try{e[t]=n}catch(u){0}o&&e.removeAttribute(t)}const[Gl,Vl]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let Hl=0;const Kl=Promise.resolve(),Wl=()=>{Hl=0},Yl=()=>Hl||(Kl.then(Wl),Hl=Gl());function $l(e,t,n,r){e.addEventListener(t,n,r)}function zl(e,t,n,r){e.removeEventListener(t,n,r)}function ql(e,t,n,r,i=null){const a=e._vei||(e._vei={}),s=a[t];if(r&&s)s.value=r;else{const[n,o]=Ql(t);if(r){const s=a[t]=Zl(r,i);$l(e,n,s,o)}else s&&(zl(e,n,s,o),a[t]=void 0)}}const Xl=/(?:Once|Passive|Capture)$/;function Ql(e){let t;if(Xl.test(e)){let n;t={};while(n=e.match(Xl))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[X(e.slice(2)),t]}function Zl(e,t){const n=e=>{const r=e.timeStamp||Gl();(Vl||r>=n.attached-1)&&vn(Jl(e,n.value),t,5,[e])};return n.value=e,n.attached=Yl(),n}function Jl(e,t){if(w(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const eu=/^on[a-z]/,tu=(e,t,n,r,i=!1,a,s,o,l)=>{"class"===t?kl(e,r,i):"style"===t?Dl(e,n,r):A(t)?R(t)||ql(e,t,n,r,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):nu(e,t,r,i))?jl(e,t,r,a,s,o,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),Nl(e,t,r,i,s))};function nu(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&eu.test(t)&&F(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!eu.test(t)||!M(n))&&t in e))))}function ru(e,t){const n=oi(e);class r extends su{constructor(e){super(n,e,t)}}return r.def=n,r}const iu=e=>ru(e,hc),au="undefined"!==typeof HTMLElement?HTMLElement:class{};class su extends au{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,wn((()=>{this._connected||(fc(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=e=>{const{props:t,styles:n}=e,r=!w(t),i=t?r?Object.keys(t):t:[];let a;if(r)for(const s in this._props){const e=t[s];(e===Number||e&&e.type===Number)&&(this._props[s]=ne(this._props[s]),(a||(a=Object.create(null)))[s]=!0)}this._numberProps=a;for(const s of Object.keys(this))"_"!==s[0]&&this._setProp(s,this[s],!0,!1);for(const s of i.map(z))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(e){this._setProp(s,e)}});this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=ne(t)),this._setProp(z(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute(X(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute(X(e),t+""):t||this.removeAttribute(X(e))))}_update(){fc(this._createVNode(),this.shadowRoot)}_createVNode(){const e=bo(this._def,C({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0,e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;while(t=t&&(t.parentNode||t.host))if(t instanceof su){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function ou(e="$style"){{const t=Fo();if(!t)return E;const n=t.type.__cssModules;if(!n)return E;const r=n[e];return r||E}}function lu(e){const t=Fo();if(!t)return;const n=()=>uu(t.subTree,e(t.proxy));Hr(n),Li((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),xi((()=>e.disconnect()))}))}function uu(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{uu(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)cu(e.el,t);else if(e.type===Qs)e.children.forEach((e=>uu(e,t)));else if(e.type===eo){let{el:n,anchor:r}=e;while(n){if(cu(n,t),n===r)break;n=n.nextSibling}}}function cu(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const du="transition",fu="animation",hu=(e,{slots:t})=>hl(ei,yu(e),t);hu.displayName="Transition",hu.__isBuiltIn=!0;const pu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vu=hu.props=C({},ei.props,pu),gu=(e,t=[])=>{w(e)?e.forEach((e=>e(...t))):e&&e(...t)},mu=e=>!!e&&(w(e)?e.some((e=>e.length>1)):e.length>1);function yu(e){const t={};for(const C in e)C in pu||(t[C]=e[C]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:c=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=Ll.isCompatEnabled("TRANSITION_CLASSES",null);let v,g,m;if(p){const t=e=>e.replace(/-from$/,"");e.enterFromClass||(v=t(a)),e.appearFromClass||(g=t(l)),e.leaveFromClass||(m=t(d))}const y=bu(i),b=y&&y[0],E=y&&y[1],{onBeforeEnter:T,onEnter:S,onEnterCancelled:_,onLeave:L,onLeaveCancelled:A,onBeforeAppear:R=T,onAppear:x=S,onAppearCancelled:k=_}=t,D=(e,t,n)=>{Su(e,t?c:o),Su(e,t?u:s),n&&n()},w=(e,t)=>{e._isLeaving=!1,Su(e,d),Su(e,h),Su(e,f),t&&t()},O=e=>(t,n)=>{const i=e?x:S,s=()=>D(t,e,n);gu(i,[t,s]),_u((()=>{Su(t,e?l:a),p&&Su(t,e?g:v),Tu(t,e?c:o),mu(i)||Au(t,r,b,s)}))};return C(t,{onBeforeEnter(e){gu(T,[e]),Tu(e,a),p&&Tu(e,v),Tu(e,s)},onBeforeAppear(e){gu(R,[e]),Tu(e,l),p&&Tu(e,g),Tu(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>w(e,t);Tu(e,d),p&&Tu(e,m),ku(),Tu(e,f),_u((()=>{e._isLeaving&&(Su(e,d),p&&Su(e,m),Tu(e,h),mu(L)||Au(e,r,E,n))})),gu(L,[e,n])},onEnterCancelled(e){D(e,!1),gu(_,[e])},onAppearCancelled(e){D(e,!0),gu(k,[e])},onLeaveCancelled(e){w(e),gu(A,[e])}})}function bu(e){if(null==e)return null;if(B(e))return[Eu(e.enter),Eu(e.leave)];{const t=Eu(e);return[t,t]}}function Eu(e){const t=ne(e);return t}function Tu(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function Su(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function _u(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Lu=0;function Au(e,t,n,r){const i=e._endId=++Lu,a=()=>{i===e._endId&&r()};if(n)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=Ru(e,t);if(!s)return r();const u=s+"end";let c=0;const d=()=>{e.removeEventListener(u,f),a()},f=t=>{t.target===e&&++c>=l&&d()};setTimeout((()=>{c<l&&d()}),o+1),e.addEventListener(u,f)}function Ru(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(du+"Delay"),a=r(du+"Duration"),s=Cu(i,a),o=r(fu+"Delay"),l=r(fu+"Duration"),u=Cu(o,l);let c=null,d=0,f=0;t===du?s>0&&(c=du,d=s,f=a.length):t===fu?u>0&&(c=fu,d=u,f=l.length):(d=Math.max(s,u),c=d>0?s>u?du:fu:null,f=c?c===du?a.length:l.length:0);const h=c===du&&/\b(transform|all)(,|$)/.test(n[du+"Property"]);return{type:c,timeout:d,propCount:f,hasTransform:h}}function Cu(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>xu(t)+xu(e[n]))))}function xu(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ku(){return document.body.offsetHeight}const Du=new WeakMap,wu=new WeakMap,Ou={name:"TransitionGroup",props:C({},vu,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Fo(),r=Qr();let i,a;return Ri((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!Nu(i[0].el,n.vnode.el,t))return;i.forEach(Pu),i.forEach(Fu);const r=i.filter(Mu);ku(),r.forEach((e=>{const n=e.el,r=n.style;Tu(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,Su(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const s=Bt(e),o=yu(s);let l=s.tag||Qs;!s.tag&&Ll.checkCompatEnabled("TRANSITION_GROUP_ROOT",n.parent)&&(l="span"),i=a,a=t.default?si(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&ai(t,ni(t,o,r,n))}if(i)for(let e=0;e<i.length;e++){const t=i[e];ai(t,ni(t,o,r,n)),Du.set(t,t.el.getBoundingClientRect())}return bo(l,null,a)}},__isBuiltIn:!0},Iu=Ou;function Pu(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Fu(e){wu.set(e,e.el.getBoundingClientRect())}function Mu(e){const t=Du.get(e),n=wu.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function Nu(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=Ru(r);return i.removeChild(r),a}const Bu=e=>{const t=e.props["onUpdate:modelValue"]||e.props["onModelCompat:input"];return w(t)?e=>ee(t,e):t};function Uu(e){e.target.composing=!0}function ju(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gu={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Bu(i);const a=r||i.props&&"number"===i.props.type;$l(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=ne(r)),e._assign(r)})),n&&$l(e,"change",(()=>{e.value=e.value.trim()})),t||($l(e,"compositionstart",Uu),$l(e,"compositionend",ju),$l(e,"change",ju))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},a){if(e._assign=Bu(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((i||"number"===e.type)&&ne(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},Vu={deep:!0,created(e,t,n){e._assign=Bu(n),$l(e,"change",(()=>{const t=e._modelValue,n=$u(e),r=e.checked,i=e._assign;if(w(t)){const e=m(t,n),a=-1!==e;if(r&&!a)i(t.concat(n));else if(!r&&a){const n=[...t];n.splice(e,1),i(n)}}else if(I(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(zu(e,r))}))},mounted:Hu,beforeUpdate(e,t,n){e._assign=Bu(n),Hu(e,t,n)}};function Hu(e,{value:t,oldValue:n},r){e._modelValue=t,w(t)?e.checked=m(t,r.props.value)>-1:I(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=g(t,zu(e,!0)))}const Ku={created(e,{value:t},n){e.checked=g(t,n.props.value),e._assign=Bu(n),$l(e,"change",(()=>{e._assign($u(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Bu(r),t!==n&&(e.checked=g(t,r.props.value))}},Wu={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=I(t);$l(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?ne($u(e)):$u(e)));e._assign(e.multiple?i?new Set(t):t:t[0])})),e._assign=Bu(r)},mounted(e,{value:t}){Yu(e,t)},beforeUpdate(e,t,n){e._assign=Bu(n)},updated(e,{value:t}){Yu(e,t)}};function Yu(e,t){const n=e.multiple;if(!n||w(t)||I(t)){for(let r=0,i=e.options.length;r<i;r++){const i=e.options[r],a=$u(i);if(n)w(t)?i.selected=m(t,a)>-1:i.selected=t.has(a);else if(g($u(i),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function $u(e){return"_value"in e?e._value:e.value}function zu(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qu={created(e,t,n){Qu(e,t,n,null,"created")},mounted(e,t,n){Qu(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Qu(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Qu(e,t,n,r,"updated")}};function Xu(e,t){switch(e){case"SELECT":return Wu;case"TEXTAREA":return Gu;default:switch(t){case"checkbox":return Vu;case"radio":return Ku;default:return Gu}}}function Qu(e,t,n,r,i){const a=Xu(e.tagName,n.props&&n.props.type),s=a[i];s&&s(e,t,n,r)}function Zu(){Gu.getSSRProps=({value:e})=>({value:e}),Ku.getSSRProps=({value:e},t)=>{if(t.props&&g(t.props.value,e))return{checked:!0}},Vu.getSSRProps=({value:e},t)=>{if(w(e)){if(t.props&&m(e,t.props.value)>-1)return{checked:!0}}else if(I(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},qu.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Xu(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const Ju=["ctrl","shift","alt","meta"],ec={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ju.some((n=>e[`${n}Key`]&&!t.includes(n)))},tc=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ec[t[e]];if(r&&r(n,t))return}return e(n,...r)},nc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rc=(e,t)=>{let n,r=null;return r=Fo(),Ll.isCompatEnabled("CONFIG_KEY_CODES",r)&&r&&(n=r.appContext.config.keyCodes),i=>{if(!("key"in i))return;const a=X(i.key);if(t.some((e=>e===a||nc[e]===a)))return e(i);{const a=String(i.keyCode);if(Ll.isCompatEnabled("V_ON_KEYCODE_MODIFIER",r)&&t.some((e=>e==a)))return e(i);if(n)for(const r of t){const t=n[r];if(t){const n=w(t)?t.some((e=>String(e)===a)):String(t)===a;if(n)return e(i)}}}}},ic={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ac(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),ac(e,!0),r.enter(e)):r.leave(e,(()=>{ac(e,!1)})):ac(e,t))},beforeUnmount(e,{value:t}){ac(e,t)}};function ac(e,t){e.style.display=t?e._vod:"none"}function sc(){ic.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const oc=C({patchProp:tu},xl);let lc,uc=!1;function cc(){return lc||(lc=Ps(oc))}function dc(){return lc=uc?lc:Fs(oc),uc=!0,lc}const fc=(...e)=>{cc().render(...e)},hc=(...e)=>{dc().hydrate(...e)},pc=(...e)=>{const t=cc().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=gc(e);if(!r)return;const i=t._component;F(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t},vc=(...e)=>{const t=dc().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=gc(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function gc(e){if(M(e)){const t=document.querySelector(e);return t}return e}let mc=!1;const yc=()=>{mc||(mc=!0,Zu(),sc())};var bc=Object.freeze({__proto__:null,render:fc,hydrate:hc,createApp:pc,createSSRApp:vc,initDirectivesForSSR:yc,defineCustomElement:ru,defineSSRCustomElement:iu,VueElement:su,useCssModule:ou,useCssVars:lu,Transition:hu,TransitionGroup:Iu,vModelText:Gu,vModelCheckbox:Vu,vModelRadio:Ku,vModelSelect:Wu,vModelDynamic:qu,withModifiers:tc,withKeys:rc,vShow:ic,reactive:kt,ref:Wt,readonly:wt,unref:Xt,proxyRefs:Zt,isRef:Kt,toRef:rn,toRefs:tn,isProxy:Nt,isReactive:Pt,isReadonly:Ft,isShallow:Mt,customRef:en,triggerRef:qt,shallowRef:Yt,shallowReactive:Dt,shallowReadonly:Ot,markRaw:Ut,toRaw:Bt,effect:Ae,stop:Re,ReactiveEffect:_e,effectScope:oe,EffectScope:se,getCurrentScope:ue,onScopeDispose:ce,computed:nl,watch:Yr,watchEffect:Vr,watchPostEffect:Hr,watchSyncEffect:Kr,onBeforeMount:_i,onMounted:Li,onBeforeUpdate:Ai,onUpdated:Ri,onBeforeUnmount:Ci,onUnmounted:xi,onActivated:vi,onDeactivated:gi,onRenderTracked:wi,onRenderTriggered:Di,onErrorCaptured:Oi,onServerPrefetch:ki,provide:jr,inject:Gr,nextTick:wn,defineComponent:oi,defineAsyncComponent:ui,useAttrs:ll,useSlots:ol,defineProps:rl,defineEmits:il,defineExpose:al,withDefaults:sl,mergeDefaults:cl,createPropsRestProxy:dl,withAsyncContext:fl,getCurrentInstance:Fo,h:hl,createVNode:bo,cloneVNode:So,mergeProps:ko,isVNode:fo,Fragment:Qs,Text:Zs,Comment:Js,Static:eo,Teleport:$s,Suspense:Dr,KeepAlive:hi,BaseTransition:ei,withDirectives:Bi,useSSRContext:vl,ssrContextKey:pl,createRenderer:Ps,createHydrationRenderer:Fs,queuePostFlushCb:Bn,warn:ln,handleError:gn,callWithErrorHandling:pn,callWithAsyncErrorHandling:vn,resolveComponent:Hi,resolveDirective:Yi,resolveDynamicComponent:Wi,registerRuntimeCompiler:Wo,isRuntimeOnly:Yo,useTransitionState:Qr,resolveTransitionHooks:ni,setTransitionHooks:ai,getTransitionRawChildren:si,initCustomFormatter:gl,get devtools(){return Hn},setDevtoolsHook:Yn,withCtx:Er,pushScopeId:mr,popScopeId:yr,withScopeId:br,renderList:oa,toHandlers:da,renderSlot:ua,createSlots:la,withMemo:ml,isMemoSame:yl,openBlock:ro,createBlock:co,setBlockTracking:oo,createTextVNode:_o,createCommentVNode:Ao,createStaticVNode:Lo,createElementVNode:yo,createElementBlock:uo,guardReactiveProps:To,toDisplayString:y,camelize:z,capitalize:Q,toHandlerKey:Z,normalizeProps:p,normalizeClass:h,normalizeStyle:u,transformVNodeArgs:po,version:bl,ssrUtils:Tl,resolveFilter:Sl,compatUtils:Ll});function Ec(...e){const t=pc(...e);return Ll.isCompatEnabled("RENDER_FUNCTION",null)&&(t.component("__compat__transition",hu),t.component("__compat__transition-group",Iu),t.component("__compat__keep-alive",hi),t._context.directives.show=ic,t._context.directives.model=qu),t}function Tc(){const e=Ll.createCompatVue(pc,Ec);return C(e,bc),e}const Sc=Tc();Sc.compile=()=>{0};const{configureCompat:_c}=Sc},744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}}}]);